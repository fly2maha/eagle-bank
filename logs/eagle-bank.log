2025-06-27 07:10:11 [main] INFO  o.o.OpenApiGeneratorApplicationTests - Starting OpenApiGeneratorApplicationTests using Java 24.0.1 with PID 8844 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 07:10:11 [main] INFO  o.o.OpenApiGeneratorApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-06-27 07:10:11 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6650813a
2025-06-27 07:10:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-27 07:10:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 0 JPA repository interfaces.
2025-06-27 07:10:12 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-27 07:10:12 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2025-06-27 07:10:12 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-27 07:10:13 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-27 07:10:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-27 07:10:13 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:eaglebankdb user=SA
2025-06-27 07:10:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-27 07:10:13 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-27 07:10:14 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-27 07:10:14 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 07:10:14 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-27 07:10:14 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 20 mappings in 'requestMappingHandlerMapping'
2025-06-27 07:10:14 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-06-27 07:10:14 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 07:10:14 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 07:10:14 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:eaglebankdb'
2025-06-27 07:10:15 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 2acbd583-a66e-4018-9a72-526d8f90b201

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-06-27 07:10:15 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@fdf029a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63896cf7, org.springframework.security.web.context.SecurityContextHolderFilter@4b4228cf, org.springframework.security.web.header.HeaderWriterFilter@f472245, org.springframework.web.filter.CorsFilter@3f838072, org.springframework.security.web.csrf.CsrfFilter@67e21ea2, org.springframework.security.web.authentication.logout.LogoutFilter@4d9cf71d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@32121140, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@22d47f09, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@46c9ee28, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6ad0cd43, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@74ee97cb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@268e30d4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@31f5ffb9, org.springframework.security.web.access.ExceptionTranslationFilter@28d7bd6b, org.springframework.security.web.access.intercept.AuthorizationFilter@6e22d6bf]
2025-06-27 07:10:15 [main] INFO  o.o.OpenApiGeneratorApplicationTests - Started OpenApiGeneratorApplicationTests in 4.624 seconds (process running for 6.136)
2025-06-27 07:10:18 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@6650813a, started on Fri Jun 27 07:10:11 BST 2025
2025-06-27 07:10:18 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 07:10:18 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-27 07:10:18 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-27 07:13:15 [main] INFO  o.o.OpenApiGeneratorApplicationTests - Starting OpenApiGeneratorApplicationTests using Java 21.0.6 with PID 9418 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 07:13:15 [main] INFO  o.o.OpenApiGeneratorApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-06-27 07:13:15 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6f815e7f
2025-06-27 07:13:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-27 07:13:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 0 JPA repository interfaces.
2025-06-27 07:13:16 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-27 07:13:16 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2025-06-27 07:13:16 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-27 07:13:17 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-27 07:13:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-27 07:13:17 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:eaglebankdb user=SA
2025-06-27 07:13:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-27 07:13:17 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-27 07:13:18 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-27 07:13:18 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 07:13:18 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-27 07:13:18 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 20 mappings in 'requestMappingHandlerMapping'
2025-06-27 07:13:18 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-06-27 07:13:18 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 07:13:18 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 07:13:18 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:eaglebankdb'
2025-06-27 07:13:18 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 53077ae4-b2de-4279-8eb6-b4fa824aa5a4

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-06-27 07:13:19 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6ba0dcba, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6d7772d3, org.springframework.security.web.context.SecurityContextHolderFilter@6b170692, org.springframework.security.web.header.HeaderWriterFilter@ad585fb, org.springframework.web.filter.CorsFilter@38394e76, org.springframework.security.web.csrf.CsrfFilter@77622c82, org.springframework.security.web.authentication.logout.LogoutFilter@65cc3902, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@912a644, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@15aaf7b1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@37d3e740, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@32068aef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@76980c75, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3696d12d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5afba80c, org.springframework.security.web.access.ExceptionTranslationFilter@71817f66, org.springframework.security.web.access.intercept.AuthorizationFilter@5169db2f]
2025-06-27 07:13:19 [main] INFO  o.o.OpenApiGeneratorApplicationTests - Started OpenApiGeneratorApplicationTests in 4.391 seconds (process running for 5.764)
2025-06-27 07:13:20 [main] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 42
2025-06-27 07:13:20 [main] INFO  o.e.bank.controller.UserController - Fetching user details: 1
2025-06-27 07:13:20 [main] WARN  o.e.bank.controller.UserController - User 2 attempted to access user 1 data
2025-06-27 07:13:20 [main] INFO  o.e.bank.controller.UserController - Fetching user details: 1
2025-06-27 07:13:20 [main] WARN  o.e.bank.controller.UserController - User not found: 1
2025-06-27 07:13:20 [main] INFO  o.e.bank.controller.UserController - Fetching user details: 1
2025-06-27 07:13:20 [main] INFO  o.e.bank.controller.UserController - New user creation request received: null
2025-06-27 07:13:20 [main] INFO  o.e.bank.controller.UserController - New user created: null, 1
2025-06-27 07:13:21 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@6f815e7f, started on Fri Jun 27 07:13:15 BST 2025
2025-06-27 07:13:21 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 07:13:21 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-27 07:13:21 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-27 09:35:49 [main] INFO  org.eagle.bank.Main - Starting Main using Java 21.0.6 with PID 18486 (/Users/maha/workspace/barclays/eagle-bank/target/classes started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 09:35:49 [main] DEBUG org.eagle.bank.Main - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 09:35:49 [main] INFO  org.eagle.bank.Main - No active profile set, falling back to 1 default profile: "default"
2025-06-27 09:35:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-27 09:35:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 73 ms. Found 3 JPA repository interfaces.
2025-06-27 09:35:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8077 (http)
2025-06-27 09:35:51 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-27 09:35:51 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-06-27 09:35:51 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-27 09:35:51 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2236 ms
2025-06-27 09:35:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-27 09:35:52 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:eaglebankdb user=SA
2025-06-27 09:35:52 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-27 09:35:52 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:eaglebankdb'
2025-06-27 09:35:52 [main] DEBUG o.e.b.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-06-27 09:35:52 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-27 09:35:52 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2025-06-27 09:35:52 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-27 09:35:52 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-27 09:35:52 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-27 09:35:54 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-27 09:35:54 [main] DEBUG org.hibernate.SQL - create table address (id bigint generated by default as identity, county varchar(255) not null, line1 varchar(255) not null, postcode varchar(255) not null, town varchar(255) not null, primary key (id))
2025-06-27 09:35:54 [main] DEBUG org.hibernate.SQL - create table bank_account (id bigint generated by default as identity, account_number varchar(255) not null, account_type varchar(255) not null, balance numeric(38,2) not null, name varchar(255), sort_code varchar(255) not null, user_id bigint not null, primary key (id))
2025-06-27 09:35:54 [main] DEBUG org.hibernate.SQL - create table transaction (id bigint generated by default as identity, amount numeric(38,2) not null, reference varchar(255), timestamp timestamp(6) with time zone not null, type varchar(255) not null check (type in ('DEPOSIT','WITHDRAWAL')), account_id bigint not null, primary key (id))
2025-06-27 09:35:54 [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, email varchar(255) not null, name varchar(255) not null, password varchar(255) not null, phone_number varchar(255) not null, username varchar(255) not null, address_id bigint not null, primary key (id))
2025-06-27 09:35:54 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_mb8kv2x9143o96jgxbv6mahcq
2025-06-27 09:35:54 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_mb8kv2x9143o96jgxbv6mahcq unique (account_number)
2025-06-27 09:35:54 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_awggvx8byoiap9dq3uik3ul1a
2025-06-27 09:35:54 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_awggvx8byoiap9dq3uik3ul1a unique (sort_code)
2025-06-27 09:35:54 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_6dotkott2kjsp8vw4d0m25fb7
2025-06-27 09:35:54 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-06-27 09:35:54 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_9q63snka3mdh91as4io72espi
2025-06-27 09:35:54 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_9q63snka3mdh91as4io72espi unique (phone_number)
2025-06-27 09:35:54 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_r43af9ap4edm43mmtq01oddj6
2025-06-27 09:35:54 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-06-27 09:35:54 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_hbvhqvjgmhd5omxyo67ynvbyp
2025-06-27 09:35:54 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_hbvhqvjgmhd5omxyo67ynvbyp unique (address_id)
2025-06-27 09:35:54 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint FKftsfxon3d4ectm5bv7glrhlko foreign key (user_id) references users
2025-06-27 09:35:54 [main] DEBUG org.hibernate.SQL - alter table if exists transaction add constraint FK39a303qtsn29mv6kksw98ob2w foreign key (account_id) references bank_account
2025-06-27 09:35:54 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint FKditu6lr4ek16tkxtdsne0gxib foreign key (address_id) references address
2025-06-27 09:35:54 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 09:35:55 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-27 09:35:55 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-06-27 09:35:58 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 18 mappings in 'requestMappingHandlerMapping'
2025-06-27 09:35:58 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-06-27 09:35:58 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@41c05747, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64455184, org.springframework.security.web.context.SecurityContextHolderFilter@484dde7d, org.springframework.security.web.header.HeaderWriterFilter@12ef7db5, org.springframework.web.filter.CorsFilter@6f749a1f, org.springframework.security.web.authentication.logout.LogoutFilter@52d68eb9, org.eagle.bank.security.JwtAuthenticationFilter@5dcf0772, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2052c49f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2be83e7e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48900d4a, org.springframework.security.web.session.SessionManagementFilter@3bd5dff5, org.springframework.security.web.access.ExceptionTranslationFilter@7ea91c39, org.springframework.security.web.access.intercept.AuthorizationFilter@35920655]
2025-06-27 09:35:58 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 09:35:58 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 09:35:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8077 (http) with context path ''
2025-06-27 09:35:58 [main] INFO  org.eagle.bank.Main - Started Main in 10.389 seconds (process running for 11.621)
2025-06-27 09:36:07 [http-nio-8077-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-27 09:36:07 [http-nio-8077-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-27 09:36:07 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-06-27 09:36:07 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-06-27 09:36:07 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-06-27 09:36:07 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6be865c1
2025-06-27 09:36:07 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@1455a374
2025-06-27 09:36:07 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-06-27 09:36:07 [http-nio-8077-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-27 09:36:07 [http-nio-8077-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 09:36:07 [http-nio-8077-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 09:36:07 [http-nio-8077-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 09:36:07 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 09:36:07 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 09:36:07 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: Maha<EOL>    address: class CreateUserRequestAddress {<EOL>        line1 (truncated)...]
2025-06-27 09:36:07 [http-nio-8077-exec-2] INFO  o.e.bank.controller.UserController - New user creation request received: Maha
2025-06-27 09:36:07 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - insert into address (county,line1,postcode,town,id) values (?,?,?,?,default)
2025-06-27 09:36:08 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)
2025-06-27 09:36:08 [http-nio-8077-exec-2] INFO  o.e.bank.controller.UserController - New user created: Maha, 1
2025-06-27 09:36:08 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 09:36:08 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class UserResponse {<EOL>    id: 1<EOL>    name: Maha<EOL>    address: class UpdateUserRequestAddress {<EOL>         (truncated)...]
2025-06-27 09:36:08 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 09:36:25 [http-nio-8077-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/users/1
2025-06-27 09:36:25 [http-nio-8077-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.MalformedJwtException: Invalid compact JWT string: Compact JWSs must contain exactly 2 period characters, and compact JWEs must contain exactly 4.  Found: 0
	at io.jsonwebtoken.impl.JwtTokenizer.tokenize(JwtTokenizer.java:102)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:370)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:362)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:821)
	at org.eagle.bank.security.JwtUtil.extractAllClaims(JwtUtil.java:55)
	at org.eagle.bank.security.JwtUtil.extractClaim(JwtUtil.java:47)
	at org.eagle.bank.security.JwtUtil.extractUsername(JwtUtil.java:39)
	at org.eagle.bank.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-27 09:36:25 [http-nio-8077-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-06-27 09:36:25 [http-nio-8077-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 09:36:25 [http-nio-8077-exec-3] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-06-27 09:36:28 [http-nio-8077-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/accounts/2/transactions
2025-06-27 09:36:28 [http-nio-8077-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.MalformedJwtException: Invalid compact JWT string: Compact JWSs must contain exactly 2 period characters, and compact JWEs must contain exactly 4.  Found: 0
	at io.jsonwebtoken.impl.JwtTokenizer.tokenize(JwtTokenizer.java:102)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:370)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:362)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:821)
	at org.eagle.bank.security.JwtUtil.extractAllClaims(JwtUtil.java:55)
	at org.eagle.bank.security.JwtUtil.extractClaim(JwtUtil.java:47)
	at org.eagle.bank.security.JwtUtil.extractUsername(JwtUtil.java:39)
	at org.eagle.bank.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-27 09:36:28 [http-nio-8077-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-06-27 09:36:28 [http-nio-8077-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 09:36:28 [http-nio-8077-exec-4] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-06-27 09:36:32 [http-nio-8077-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 09:36:32 [http-nio-8077-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 09:36:32 [http-nio-8077-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 09:36:32 [http-nio-8077-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 09:36:32 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 09:36:32 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: Maha<EOL>    address: class CreateUserRequestAddress {<EOL>        line1 (truncated)...]
2025-06-27 09:36:32 [http-nio-8077-exec-5] INFO  o.e.bank.controller.UserController - New user creation request received: Maha
2025-06-27 09:36:32 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - insert into address (county,line1,postcode,town,id) values (?,?,?,?,default)
2025-06-27 09:36:32 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)
2025-06-27 09:36:32 [http-nio-8077-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 23505, SQLState: 23505
2025-06-27 09:36:32 [http-nio-8077-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Unique index or primary key violation: "PUBLIC.UK_6DOTKOTT2KJSP8VW4D0M25FB7_INDEX_4 ON PUBLIC.USERS(EMAIL NULLS FIRST) VALUES ( /* 1 */ 'maha2@test.com' )"; SQL statement:
insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default) [23505-224]
2025-06-27 09:36:32 [http-nio-8077-exec-5] ERROR o.e.bank.controller.UserController - Error creating user: Maha, could not execute statement [Unique index or primary key violation: "PUBLIC.UK_6DOTKOTT2KJSP8VW4D0M25FB7_INDEX_4 ON PUBLIC.USERS(EMAIL NULLS FIRST) VALUES ( /* 1 */ 'maha2@test.com' )"; SQL statement:
insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default) [23505-224]] [insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)]; SQL [insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)]; constraint ["PUBLIC.UK_6DOTKOTT2KJSP8VW4D0M25FB7_INDEX_4 ON PUBLIC.USERS(EMAIL NULLS FIRST) VALUES ( /* 1 */ 'maha2@test.com' )"; SQL statement:
insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default) [23505-224]]
2025-06-27 09:36:32 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-06-27 09:36:32 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Error creating user: could not execute statement [Unique index or primary key violation: "PUBLIC.UK_ (truncated)..."]
2025-06-27 09:36:32 [http-nio-8077-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-06-27 09:36:53 [http-nio-8077-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 09:36:53 [http-nio-8077-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 09:36:53 [http-nio-8077-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 09:36:53 [http-nio-8077-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 09:36:53 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 09:36:53 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: Maha<EOL>    address: class CreateUserRequestAddress {<EOL>        line1 (truncated)...]
2025-06-27 09:36:53 [http-nio-8077-exec-7] INFO  o.e.bank.controller.UserController - New user creation request received: Maha
2025-06-27 09:36:56 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - insert into address (county,line1,postcode,town,id) values (?,?,?,?,default)
2025-06-27 09:36:56 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)
2025-06-27 09:36:56 [http-nio-8077-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 23505, SQLState: 23505
2025-06-27 09:36:56 [http-nio-8077-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Unique index or primary key violation: "PUBLIC.UK_6DOTKOTT2KJSP8VW4D0M25FB7_INDEX_4 ON PUBLIC.USERS(EMAIL NULLS FIRST) VALUES ( /* 1 */ 'maha2@test.com' )"; SQL statement:
insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default) [23505-224]
2025-06-27 09:36:56 [http-nio-8077-exec-7] ERROR o.e.bank.controller.UserController - Error creating user: Maha, could not execute statement [Unique index or primary key violation: "PUBLIC.UK_6DOTKOTT2KJSP8VW4D0M25FB7_INDEX_4 ON PUBLIC.USERS(EMAIL NULLS FIRST) VALUES ( /* 1 */ 'maha2@test.com' )"; SQL statement:
insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default) [23505-224]] [insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)]; SQL [insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)]; constraint ["PUBLIC.UK_6DOTKOTT2KJSP8VW4D0M25FB7_INDEX_4 ON PUBLIC.USERS(EMAIL NULLS FIRST) VALUES ( /* 1 */ 'maha2@test.com' )"; SQL statement:
insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default) [23505-224]]
2025-06-27 09:36:56 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-06-27 09:36:56 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Error creating user: could not execute statement [Unique index or primary key violation: "PUBLIC.UK_ (truncated)..."]
2025-06-27 09:36:56 [http-nio-8077-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-06-27 09:38:14 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 09:38:14 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-27 09:38:14 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-27 09:38:20 [main] INFO  org.eagle.bank.Main - Starting Main using Java 21.0.6 with PID 18885 (/Users/maha/workspace/barclays/eagle-bank/target/classes started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 09:38:20 [main] DEBUG org.eagle.bank.Main - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 09:38:20 [main] INFO  org.eagle.bank.Main - No active profile set, falling back to 1 default profile: "default"
2025-06-27 09:38:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-27 09:38:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 83 ms. Found 3 JPA repository interfaces.
2025-06-27 09:38:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8077 (http)
2025-06-27 09:38:22 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-27 09:38:22 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-06-27 09:38:22 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-27 09:38:22 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2075 ms
2025-06-27 09:38:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-27 09:38:23 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:eaglebankdb user=SA
2025-06-27 09:38:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-27 09:38:23 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:eaglebankdb'
2025-06-27 09:38:23 [main] DEBUG o.e.b.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-06-27 09:38:23 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-27 09:38:23 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2025-06-27 09:38:23 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-27 09:38:23 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-27 09:38:23 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-27 09:38:25 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-27 09:38:25 [main] DEBUG org.hibernate.SQL - create table address (id bigint generated by default as identity, county varchar(255) not null, line1 varchar(255) not null, postcode varchar(255) not null, town varchar(255) not null, primary key (id))
2025-06-27 09:38:25 [main] DEBUG org.hibernate.SQL - create table bank_account (id bigint generated by default as identity, account_number varchar(255) not null, account_type varchar(255) not null, balance numeric(38,2) not null, name varchar(255), sort_code varchar(255) not null, user_id bigint not null, primary key (id))
2025-06-27 09:38:25 [main] DEBUG org.hibernate.SQL - create table transaction (id bigint generated by default as identity, amount numeric(38,2) not null, reference varchar(255), timestamp timestamp(6) with time zone not null, type varchar(255) not null check (type in ('DEPOSIT','WITHDRAWAL')), account_id bigint not null, primary key (id))
2025-06-27 09:38:25 [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, email varchar(255) not null, name varchar(255) not null, password varchar(255) not null, phone_number varchar(255) not null, username varchar(255) not null, address_id bigint not null, primary key (id))
2025-06-27 09:38:25 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_mb8kv2x9143o96jgxbv6mahcq
2025-06-27 09:38:25 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_mb8kv2x9143o96jgxbv6mahcq unique (account_number)
2025-06-27 09:38:25 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_awggvx8byoiap9dq3uik3ul1a
2025-06-27 09:38:25 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_awggvx8byoiap9dq3uik3ul1a unique (sort_code)
2025-06-27 09:38:25 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_6dotkott2kjsp8vw4d0m25fb7
2025-06-27 09:38:25 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-06-27 09:38:25 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_9q63snka3mdh91as4io72espi
2025-06-27 09:38:25 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_9q63snka3mdh91as4io72espi unique (phone_number)
2025-06-27 09:38:25 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_r43af9ap4edm43mmtq01oddj6
2025-06-27 09:38:25 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-06-27 09:38:25 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_hbvhqvjgmhd5omxyo67ynvbyp
2025-06-27 09:38:25 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_hbvhqvjgmhd5omxyo67ynvbyp unique (address_id)
2025-06-27 09:38:25 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint FKftsfxon3d4ectm5bv7glrhlko foreign key (user_id) references users
2025-06-27 09:38:25 [main] DEBUG org.hibernate.SQL - alter table if exists transaction add constraint FK39a303qtsn29mv6kksw98ob2w foreign key (account_id) references bank_account
2025-06-27 09:38:25 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint FKditu6lr4ek16tkxtdsne0gxib foreign key (address_id) references address
2025-06-27 09:38:25 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 09:38:25 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-27 09:38:25 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-06-27 09:38:31 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 18 mappings in 'requestMappingHandlerMapping'
2025-06-27 09:38:32 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-06-27 09:38:32 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@28d74041, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5702232d, org.springframework.security.web.context.SecurityContextHolderFilter@768967cf, org.springframework.security.web.header.HeaderWriterFilter@2cc7b63d, org.springframework.web.filter.CorsFilter@5cbf9aee, org.springframework.security.web.authentication.logout.LogoutFilter@73418044, org.eagle.bank.security.JwtAuthenticationFilter@26d0ece6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7b8b755d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3bd5dff5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@35920655, org.springframework.security.web.session.SessionManagementFilter@5e572ad6, org.springframework.security.web.access.ExceptionTranslationFilter@440e2406, org.springframework.security.web.access.intercept.AuthorizationFilter@274b0c2a]
2025-06-27 09:38:32 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 09:38:32 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 09:38:32 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8077 (http) with context path ''
2025-06-27 09:38:32 [main] INFO  org.eagle.bank.Main - Started Main in 12.855 seconds (process running for 13.778)
2025-06-27 09:47:16 [http-nio-8077-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-27 09:47:16 [http-nio-8077-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-27 09:47:16 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-06-27 09:47:16 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-06-27 09:47:16 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-06-27 09:47:16 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@11548363
2025-06-27 09:47:16 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@9abbe39
2025-06-27 09:47:16 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-06-27 09:47:16 [http-nio-8077-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 19 ms
2025-06-27 09:47:16 [http-nio-8077-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 09:47:16 [http-nio-8077-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 09:47:16 [http-nio-8077-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 09:47:16 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 09:47:16 [http-nio-8077-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 09:47:16 [http-nio-8077-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: Maha<EOL>    address: class CreateUserRequestAddress {<EOL>        line1 (truncated)...]
2025-06-27 09:47:17 [http-nio-8077-exec-1] INFO  o.e.bank.controller.UserController - New user creation request received: Maha
2025-06-27 09:47:21 [http-nio-8077-exec-1] DEBUG org.hibernate.SQL - insert into address (county,line1,postcode,town,id) values (?,?,?,?,default)
2025-06-27 09:47:21 [http-nio-8077-exec-1] DEBUG org.hibernate.SQL - insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)
2025-06-27 09:47:21 [http-nio-8077-exec-1] INFO  o.e.bank.controller.UserController - New user created: Maha, 1
2025-06-27 09:47:21 [http-nio-8077-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 09:47:21 [http-nio-8077-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class UserResponse {<EOL>    id: 1<EOL>    name: Maha<EOL>    address: class UpdateUserRequestAddress {<EOL>         (truncated)...]
2025-06-27 09:47:21 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 09:56:34 [http-nio-8077-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 09:56:34 [http-nio-8077-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 09:56:34 [http-nio-8077-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 09:56:34 [http-nio-8077-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 09:56:34 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 09:56:34 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: Maha<EOL>    address: class CreateUserRequestAddress {<EOL>        line1 (truncated)...]
2025-06-27 09:56:34 [http-nio-8077-exec-5] INFO  o.e.bank.controller.UserController - New user creation request received: Maha
2025-06-27 09:56:34 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - insert into address (county,line1,postcode,town,id) values (?,?,?,?,default)
2025-06-27 09:56:34 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)
2025-06-27 09:56:34 [http-nio-8077-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 23505, SQLState: 23505
2025-06-27 09:56:34 [http-nio-8077-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Unique index or primary key violation: "PUBLIC.UK_6DOTKOTT2KJSP8VW4D0M25FB7_INDEX_4 ON PUBLIC.USERS(EMAIL NULLS FIRST) VALUES ( /* 1 */ 'maha2@test.com' )"; SQL statement:
insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default) [23505-224]
2025-06-27 09:56:34 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleDataIntegrityViolation(DataIntegrityViolationException)
2025-06-27 09:56:34 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 09:56:34 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Phone number, email, and username must be unique.}]
2025-06-27 09:56:34 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Unique index or primary key violation: "PUBLIC.UK_6DOTKOTT2KJSP8VW4D0M25FB7_INDEX_4 ON PUBLIC.USERS(EMAIL NULLS FIRST) VALUES ( /* 1 */ 'maha2@test.com' )"; SQL statement:<EOL>insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default) [23505-224]] [insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)]; SQL [insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)]; constraint ["PUBLIC.UK_6DOTKOTT2KJSP8VW4D0M25FB7_INDEX_4 ON PUBLIC.USERS(EMAIL NULLS FIRST) VALUES ( /* 1 */ 'maha2@test.com' )"; SQL statement:<EOL>insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default) [23505-224]]]
2025-06-27 09:56:34 [http-nio-8077-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 409 CONFLICT
2025-06-27 09:59:27 [http-nio-8077-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 09:59:27 [http-nio-8077-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 09:59:27 [http-nio-8077-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 09:59:27 [http-nio-8077-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 09:59:27 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 09:59:27 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: <EOL>    address: class CreateUserRequestAddress {<EOL>        line1: <EOL>  (truncated)...]
2025-06-27 09:59:27 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-06-27 09:59:27 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 09:59:27 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{password=must match "^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*#?&]).{8,}$", phoneNumber=must not b (truncated)...]
2025-06-27 09:59:27 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> org.eagle.bank.controller.UserController.createUser(org.eagle.bank.dto.CreateUserRequest) with 9 errors: [Field error in object 'createUserRequest' on field 'address.line1': rejected value []; codes [NotBlank.createUserRequest.address.line1,NotBlank.address.line1,NotBlank.line1,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.address.line1,address.line1]; arguments []; default message [address.line1]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'password': rejected value []; codes [Size.createUserRequest.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.password,password]; arguments []; default message [password],64,8]; default message [size must be between 8 and 64]] [Field error in object 'createUserRequest' on field 'name': rejected value []; codes [NotBlank.createUserRequest.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'phoneNumber': rejected value []; codes [NotBlank.createUserRequest.phoneNumber,NotBlank.phoneNumber,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.phoneNumber,phoneNumber]; arguments []; default message [phoneNumber]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'username': rejected value []; codes [NotBlank.createUserRequest.username,NotBlank.username,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.username,username]; arguments []; default message [username]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'password': rejected value []; codes [NotBlank.createUserRequest.password,NotBlank.password,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.password,password]; arguments []; default message [password]]; default message [Password must not be blank]] [Field error in object 'createUserRequest' on field 'email': rejected value []; codes [NotBlank.createUserRequest.email,NotBlank.email,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.email,email]; arguments []; default message [email]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'address.postcode': rejected value []; codes [NotBlank.createUserRequest.address.postcode,NotBlank.address.postcode,NotBlank.postcode,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.address.postcode,address.postcode]; arguments []; default message [address.postcode]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'password': rejected value []; codes [Pattern.createUserRequest.password,Pattern.password,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.password,password]; arguments []; default message [password],[Ljakarta.validation.constraints.Pattern$Flag;@50230492,^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*#?&]).{8,}$]; default message [must match "^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*#?&]).{8,}$"]] ]
2025-06-27 09:59:27 [http-nio-8077-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-06-27 09:59:34 [http-nio-8077-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 09:59:34 [http-nio-8077-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 09:59:34 [http-nio-8077-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 09:59:34 [http-nio-8077-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 09:59:34 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 09:59:34 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: <EOL>    address: class CreateUserRequestAddress {<EOL>        line1: <EOL>  (truncated)...]
2025-06-27 09:59:34 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-06-27 09:59:34 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 09:59:34 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{phoneNumber=must not be blank, name=must not be blank, address.line1=must not be blank, email=must  (truncated)...]
2025-06-27 09:59:34 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> org.eagle.bank.controller.UserController.createUser(org.eagle.bank.dto.CreateUserRequest) with 6 errors: [Field error in object 'createUserRequest' on field 'name': rejected value []; codes [NotBlank.createUserRequest.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'email': rejected value []; codes [NotBlank.createUserRequest.email,NotBlank.email,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.email,email]; arguments []; default message [email]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'address.line1': rejected value []; codes [NotBlank.createUserRequest.address.line1,NotBlank.address.line1,NotBlank.line1,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.address.line1,address.line1]; arguments []; default message [address.line1]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'phoneNumber': rejected value []; codes [NotBlank.createUserRequest.phoneNumber,NotBlank.phoneNumber,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.phoneNumber,phoneNumber]; arguments []; default message [phoneNumber]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'username': rejected value []; codes [NotBlank.createUserRequest.username,NotBlank.username,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.username,username]; arguments []; default message [username]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'address.postcode': rejected value []; codes [NotBlank.createUserRequest.address.postcode,NotBlank.address.postcode,NotBlank.postcode,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.address.postcode,address.postcode]; arguments []; default message [address.postcode]]; default message [must not be blank]] ]
2025-06-27 09:59:34 [http-nio-8077-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-06-27 09:59:38 [http-nio-8077-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 09:59:38 [http-nio-8077-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 09:59:38 [http-nio-8077-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 09:59:38 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 09:59:38 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 09:59:38 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: <EOL>    address: class CreateUserRequestAddress {<EOL>        line1: <EOL>  (truncated)...]
2025-06-27 09:59:38 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-06-27 09:59:38 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 09:59:38 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{phoneNumber=must not be blank, name=must not be blank, address.line1=must not be blank, address.pos (truncated)...]
2025-06-27 09:59:38 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> org.eagle.bank.controller.UserController.createUser(org.eagle.bank.dto.CreateUserRequest) with 5 errors: [Field error in object 'createUserRequest' on field 'address.postcode': rejected value []; codes [NotBlank.createUserRequest.address.postcode,NotBlank.address.postcode,NotBlank.postcode,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.address.postcode,address.postcode]; arguments []; default message [address.postcode]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'address.line1': rejected value []; codes [NotBlank.createUserRequest.address.line1,NotBlank.address.line1,NotBlank.line1,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.address.line1,address.line1]; arguments []; default message [address.line1]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'name': rejected value []; codes [NotBlank.createUserRequest.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'phoneNumber': rejected value []; codes [NotBlank.createUserRequest.phoneNumber,NotBlank.phoneNumber,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.phoneNumber,phoneNumber]; arguments []; default message [phoneNumber]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'username': rejected value []; codes [NotBlank.createUserRequest.username,NotBlank.username,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.username,username]; arguments []; default message [username]]; default message [must not be blank]] ]
2025-06-27 09:59:38 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-06-27 09:59:42 [http-nio-8077-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 09:59:42 [http-nio-8077-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 09:59:42 [http-nio-8077-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 09:59:42 [http-nio-8077-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 09:59:42 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 09:59:42 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: <EOL>    address: class CreateUserRequestAddress {<EOL>        line1: <EOL>  (truncated)...]
2025-06-27 09:59:42 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-06-27 09:59:42 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 09:59:42 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{phoneNumber=must not be blank, name=must not be blank, address.line1=must not be blank, address.pos (truncated)...]
2025-06-27 09:59:42 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> org.eagle.bank.controller.UserController.createUser(org.eagle.bank.dto.CreateUserRequest) with 4 errors: [Field error in object 'createUserRequest' on field 'name': rejected value []; codes [NotBlank.createUserRequest.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'address.line1': rejected value []; codes [NotBlank.createUserRequest.address.line1,NotBlank.address.line1,NotBlank.line1,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.address.line1,address.line1]; arguments []; default message [address.line1]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'phoneNumber': rejected value []; codes [NotBlank.createUserRequest.phoneNumber,NotBlank.phoneNumber,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.phoneNumber,phoneNumber]; arguments []; default message [phoneNumber]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'address.postcode': rejected value []; codes [NotBlank.createUserRequest.address.postcode,NotBlank.address.postcode,NotBlank.postcode,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.address.postcode,address.postcode]; arguments []; default message [address.postcode]]; default message [must not be blank]] ]
2025-06-27 09:59:42 [http-nio-8077-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-06-27 09:59:45 [http-nio-8077-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 09:59:45 [http-nio-8077-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 09:59:45 [http-nio-8077-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 09:59:45 [http-nio-8077-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 09:59:45 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 09:59:45 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: <EOL>    address: class CreateUserRequestAddress {<EOL>        line1: <EOL>  (truncated)...]
2025-06-27 09:59:45 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-06-27 09:59:45 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 09:59:45 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{name=must not be blank, address.line1=must not be blank, address.postcode=must not be blank}]
2025-06-27 09:59:45 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> org.eagle.bank.controller.UserController.createUser(org.eagle.bank.dto.CreateUserRequest) with 3 errors: [Field error in object 'createUserRequest' on field 'address.line1': rejected value []; codes [NotBlank.createUserRequest.address.line1,NotBlank.address.line1,NotBlank.line1,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.address.line1,address.line1]; arguments []; default message [address.line1]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'name': rejected value []; codes [NotBlank.createUserRequest.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'address.postcode': rejected value []; codes [NotBlank.createUserRequest.address.postcode,NotBlank.address.postcode,NotBlank.postcode,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.address.postcode,address.postcode]; arguments []; default message [address.postcode]]; default message [must not be blank]] ]
2025-06-27 09:59:45 [http-nio-8077-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-06-27 09:59:48 [http-nio-8077-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 09:59:48 [http-nio-8077-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 09:59:48 [http-nio-8077-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 09:59:48 [http-nio-8077-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 09:59:48 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 09:59:48 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: <EOL>    address: class CreateUserRequestAddress {<EOL>        line1: <EOL>  (truncated)...]
2025-06-27 09:59:48 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-06-27 09:59:48 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 09:59:48 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{name=must not be blank, address.line1=must not be blank}]
2025-06-27 09:59:48 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> org.eagle.bank.controller.UserController.createUser(org.eagle.bank.dto.CreateUserRequest) with 2 errors: [Field error in object 'createUserRequest' on field 'name': rejected value []; codes [NotBlank.createUserRequest.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'address.line1': rejected value []; codes [NotBlank.createUserRequest.address.line1,NotBlank.address.line1,NotBlank.line1,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.address.line1,address.line1]; arguments []; default message [address.line1]]; default message [must not be blank]] ]
2025-06-27 09:59:48 [http-nio-8077-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-06-27 09:59:51 [http-nio-8077-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 09:59:51 [http-nio-8077-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 09:59:51 [http-nio-8077-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 09:59:51 [http-nio-8077-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 09:59:51 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 09:59:51 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: <EOL>    address: class CreateUserRequestAddress {<EOL>        line1: <EOL>  (truncated)...]
2025-06-27 09:59:51 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-06-27 09:59:51 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 09:59:51 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{name=must not be blank, address.line1=must not be blank}]
2025-06-27 09:59:51 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> org.eagle.bank.controller.UserController.createUser(org.eagle.bank.dto.CreateUserRequest) with 2 errors: [Field error in object 'createUserRequest' on field 'name': rejected value []; codes [NotBlank.createUserRequest.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'address.line1': rejected value []; codes [NotBlank.createUserRequest.address.line1,NotBlank.address.line1,NotBlank.line1,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.address.line1,address.line1]; arguments []; default message [address.line1]]; default message [must not be blank]] ]
2025-06-27 09:59:51 [http-nio-8077-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-06-27 10:00:07 [http-nio-8077-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/auth/login
2025-06-27 10:00:07 [http-nio-8077-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 10:00:07 [http-nio-8077-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/auth/login
2025-06-27 10:00:07 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/auth/login", parameters={}
2025-06-27 10:00:07 [http-nio-8077-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AuthController#authenticate(LoginRequest)
2025-06-27 10:00:07 [http-nio-8077-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [org.eagle.bank.controller.AuthController$LoginRequest@6dd776bb]
2025-06-27 10:00:08 [http-nio-8077-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:00:08 [http-nio-8077-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:00:08 [http-nio-8077-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Invalid details}]
2025-06-27 10:00:08 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 401 UNAUTHORIZED
2025-06-27 10:30:37 [http-nio-8077-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 10:30:37 [http-nio-8077-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 10:30:37 [http-nio-8077-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 10:30:37 [http-nio-8077-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 10:30:37 [http-nio-8077-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 10:30:37 [http-nio-8077-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: Maha<EOL>    address: class CreateUserRequestAddress {<EOL>        line1 (truncated)...]
2025-06-27 10:30:37 [http-nio-8077-exec-6] INFO  o.e.bank.controller.UserController - New user creation request received: Maha
2025-06-27 10:30:37 [http-nio-8077-exec-6] DEBUG org.hibernate.SQL - insert into address (county,line1,postcode,town,id) values (?,?,?,?,default)
2025-06-27 10:30:37 [http-nio-8077-exec-6] DEBUG org.hibernate.SQL - insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)
2025-06-27 10:30:37 [http-nio-8077-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 23505, SQLState: 23505
2025-06-27 10:30:37 [http-nio-8077-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Unique index or primary key violation: "PUBLIC.UK_6DOTKOTT2KJSP8VW4D0M25FB7_INDEX_4 ON PUBLIC.USERS(EMAIL NULLS FIRST) VALUES ( /* 1 */ 'maha2@test.com' )"; SQL statement:
insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default) [23505-224]
2025-06-27 10:30:37 [http-nio-8077-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleDataIntegrityViolation(DataIntegrityViolationException)
2025-06-27 10:30:37 [http-nio-8077-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:30:37 [http-nio-8077-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Phone number, email, and username must be unique.}]
2025-06-27 10:30:37 [http-nio-8077-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Unique index or primary key violation: "PUBLIC.UK_6DOTKOTT2KJSP8VW4D0M25FB7_INDEX_4 ON PUBLIC.USERS(EMAIL NULLS FIRST) VALUES ( /* 1 */ 'maha2@test.com' )"; SQL statement:<EOL>insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default) [23505-224]] [insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)]; SQL [insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)]; constraint ["PUBLIC.UK_6DOTKOTT2KJSP8VW4D0M25FB7_INDEX_4 ON PUBLIC.USERS(EMAIL NULLS FIRST) VALUES ( /* 1 */ 'maha2@test.com' )"; SQL statement:<EOL>insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default) [23505-224]]]
2025-06-27 10:30:37 [http-nio-8077-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 409 CONFLICT
2025-06-27 10:30:39 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=19m46s188ms).
2025-06-27 10:30:55 [http-nio-8077-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 10:30:55 [http-nio-8077-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 10:30:55 [http-nio-8077-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 10:30:55 [http-nio-8077-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 10:30:55 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 10:30:55 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: Maha<EOL>    address: class CreateUserRequestAddress {<EOL>        line1 (truncated)...]
2025-06-27 10:30:55 [http-nio-8077-exec-5] INFO  o.e.bank.controller.UserController - New user creation request received: Maha
2025-06-27 10:30:55 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - insert into address (county,line1,postcode,town,id) values (?,?,?,?,default)
2025-06-27 10:30:55 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)
2025-06-27 10:30:55 [http-nio-8077-exec-5] INFO  o.e.bank.controller.UserController - New user created: Maha, 4
2025-06-27 10:30:55 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:30:55 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class UserResponse {<EOL>    id: 4<EOL>    name: Maha<EOL>    address: class UpdateUserRequestAddress {<EOL>         (truncated)...]
2025-06-27 10:30:55 [http-nio-8077-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 10:31:04 [http-nio-8077-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/auth/login
2025-06-27 10:31:04 [http-nio-8077-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 10:31:04 [http-nio-8077-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/auth/login
2025-06-27 10:31:04 [http-nio-8077-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/auth/login", parameters={}
2025-06-27 10:31:04 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AuthController#authenticate(LoginRequest)
2025-06-27 10:31:04 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [org.eagle.bank.controller.AuthController$LoginRequest@942d14f]
2025-06-27 10:31:04 [http-nio-8077-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:31:04 [http-nio-8077-exec-8] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:31:05 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:31:05 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtYWhhdGVzdDEiLCJpYXQiOjE3NTEwMTY2NjUsImV4cCI6MTc1MTEwMzA2NX0. (truncated)...]
2025-06-27 10:31:05 [http-nio-8077-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-06-27 10:31:09 [http-nio-8077-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/users/4
2025-06-27 10:31:09 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:31:09 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:31:09 [http-nio-8077-exec-7] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 4
2025-06-27 10:31:09 [http-nio-8077-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/users/4
2025-06-27 10:31:09 [http-nio-8077-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v1/users/4", parameters={}
2025-06-27 10:31:09 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#getUser(Long, HttpServletRequest)
2025-06-27 10:31:09 [http-nio-8077-exec-7] INFO  o.e.bank.controller.UserController - Fetching user details: 4
2025-06-27 10:31:09 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 10:31:09 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:31:09 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class UserResponse {<EOL>    id: 4<EOL>    name: Maha<EOL>    address: class UpdateUserRequestAddress {<EOL>         (truncated)...]
2025-06-27 10:31:09 [http-nio-8077-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-06-27 10:31:23 [http-nio-8077-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing PATCH /v1/users/4
2025-06-27 10:31:23 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:31:23 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:31:23 [http-nio-8077-exec-10] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 4
2025-06-27 10:31:23 [http-nio-8077-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured PATCH /v1/users/4
2025-06-27 10:31:23 [http-nio-8077-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - PATCH "/v1/users/4", parameters={}
2025-06-27 10:31:23 [http-nio-8077-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#updateUser(Long, UpdateUserRequest, HttpServletRequest)
2025-06-27 10:31:23 [http-nio-8077-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class UpdateUserRequest {<EOL>    name: Mux Test Test111<EOL>    address: class UpdateUserRequestAddress {<EOL>  (truncated)...]
2025-06-27 10:31:23 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 10:31:23 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - update address set county=?,line1=?,postcode=?,town=? where id=?
2025-06-27 10:31:23 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - update users set address_id=?,email=?,name=?,password=?,phone_number=?,username=? where id=?
2025-06-27 10:31:23 [http-nio-8077-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:31:23 [http-nio-8077-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class UserResponse {<EOL>    id: 4<EOL>    name: Mux Test Test111<EOL>    address: class UpdateUserRequestAddres (truncated)...]
2025-06-27 10:31:23 [http-nio-8077-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-06-27 10:31:34 [http-nio-8077-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts
2025-06-27 10:31:34 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:31:34 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:31:34 [http-nio-8077-exec-9] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 4
2025-06-27 10:31:34 [http-nio-8077-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/accounts
2025-06-27 10:31:34 [http-nio-8077-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/accounts", parameters={}
2025-06-27 10:31:34 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AccountController#createAccount(CreateBankAccountRequest, HttpServletRequest)
2025-06-27 10:31:34 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateBankAccountRequest {<EOL>    name: my personal account<EOL>    accountType: personal<EOL>    balance (truncated)...]
2025-06-27 10:31:34 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 10:31:34 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - insert into bank_account (account_number,account_type,balance,name,sort_code,user_id,id) values (?,?,?,?,?,?,default)
2025-06-27 10:31:34 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:31:34 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class BankAccountResponse {<EOL>    accountNumber: 01121756<EOL>    sortCode: 71-33-38<EOL>    name: my personal (truncated)...]
2025-06-27 10:31:34 [http-nio-8077-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 10:31:39 [http-nio-8077-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts
2025-06-27 10:31:39 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:31:39 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:31:39 [http-nio-8077-exec-2] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 4
2025-06-27 10:31:39 [http-nio-8077-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/accounts
2025-06-27 10:31:39 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/accounts", parameters={}
2025-06-27 10:31:39 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AccountController#createAccount(CreateBankAccountRequest, HttpServletRequest)
2025-06-27 10:31:39 [http-nio-8077-exec-2] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<?> org.eagle.bank.controller.AccountController.createAccount(org.eagle.bank.dto.CreateBankAccountRequest,jakarta.servlet.http.HttpServletRequest): JSON parse error: Cannot construct instance of `org.eagle.bank.dto.CreateBankAccountRequest$AccountTypeEnum`, problem: Unexpected value ''
2025-06-27 10:31:39 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleGeneric(Exception)
2025-06-27 10:31:39 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:31:39 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=An unexpected error occurred}]
2025-06-27 10:31:39 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `org.eagle.bank.dto.CreateBankAccountRequest$AccountTypeEnum`, problem: Unexpected value '']
2025-06-27 10:31:39 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-06-27 10:31:46 [http-nio-8077-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts
2025-06-27 10:31:46 [http-nio-8077-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:31:46 [http-nio-8077-exec-4] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:31:46 [http-nio-8077-exec-4] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 4
2025-06-27 10:31:46 [http-nio-8077-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/accounts
2025-06-27 10:31:46 [http-nio-8077-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/accounts", parameters={}
2025-06-27 10:31:46 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AccountController#createAccount(CreateBankAccountRequest, HttpServletRequest)
2025-06-27 10:31:46 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateBankAccountRequest {<EOL>    name: my personal account<EOL>    accountType: business<EOL>    balance (truncated)...]
2025-06-27 10:31:46 [http-nio-8077-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 10:31:46 [http-nio-8077-exec-4] DEBUG org.hibernate.SQL - insert into bank_account (account_number,account_type,balance,name,sort_code,user_id,id) values (?,?,?,?,?,?,default)
2025-06-27 10:31:46 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:31:46 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class BankAccountResponse {<EOL>    accountNumber: 01004065<EOL>    sortCode: 78-62-50<EOL>    name: my personal (truncated)...]
2025-06-27 10:31:46 [http-nio-8077-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 10:31:53 [http-nio-8077-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/accounts/01004065
2025-06-27 10:31:53 [http-nio-8077-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:31:53 [http-nio-8077-exec-3] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:31:53 [http-nio-8077-exec-3] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 4
2025-06-27 10:31:53 [http-nio-8077-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/accounts/01004065
2025-06-27 10:31:53 [http-nio-8077-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v1/accounts/01004065", parameters={}
2025-06-27 10:31:53 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AccountController#getAccount(String, HttpServletRequest)
2025-06-27 10:31:53 [http-nio-8077-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 10:31:53 [http-nio-8077-exec-3] DEBUG org.hibernate.SQL - select ba1_0.id,ba1_0.account_number,ba1_0.account_type,ba1_0.balance,ba1_0.name,ba1_0.sort_code,ba1_0.user_id from bank_account ba1_0 where ba1_0.account_number=?
2025-06-27 10:31:53 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:31:53 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class BankAccountResponse {<EOL>    accountNumber: 01004065<EOL>    sortCode: 78-62-50<EOL>    name: my personal (truncated)...]
2025-06-27 10:31:53 [http-nio-8077-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-06-27 10:31:58 [http-nio-8077-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/accounts
2025-06-27 10:31:58 [http-nio-8077-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:31:58 [http-nio-8077-exec-6] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:31:58 [http-nio-8077-exec-6] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 4
2025-06-27 10:31:58 [http-nio-8077-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/accounts
2025-06-27 10:31:58 [http-nio-8077-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v1/accounts", parameters={}
2025-06-27 10:31:58 [http-nio-8077-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AccountController#listAccounts(HttpServletRequest)
2025-06-27 10:31:58 [http-nio-8077-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 10:31:58 [http-nio-8077-exec-6] DEBUG org.hibernate.SQL - select ba1_0.id,ba1_0.account_number,ba1_0.account_type,ba1_0.balance,ba1_0.name,ba1_0.sort_code,ba1_0.user_id from bank_account ba1_0 where ba1_0.user_id=?
2025-06-27 10:31:58 [http-nio-8077-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:31:58 [http-nio-8077-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[class BankAccountResponse {<EOL>    accountNumber: 01121756<EOL>    sortCode: 71-33-38<EOL>    name: my persona (truncated)...]
2025-06-27 10:31:58 [http-nio-8077-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-06-27 10:32:05 [http-nio-8077-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts
2025-06-27 10:32:05 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:32:05 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:32:05 [http-nio-8077-exec-5] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 4
2025-06-27 10:32:05 [http-nio-8077-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/accounts
2025-06-27 10:32:05 [http-nio-8077-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/accounts", parameters={}
2025-06-27 10:32:05 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AccountController#createAccount(CreateBankAccountRequest, HttpServletRequest)
2025-06-27 10:32:05 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateBankAccountRequest {<EOL>    name: my personal account<EOL>    accountType: personal<EOL>    balance (truncated)...]
2025-06-27 10:32:05 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 10:32:05 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - insert into bank_account (account_number,account_type,balance,name,sort_code,user_id,id) values (?,?,?,?,?,?,default)
2025-06-27 10:32:05 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:32:05 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class BankAccountResponse {<EOL>    accountNumber: 01978134<EOL>    sortCode: 01-06-60<EOL>    name: my personal (truncated)...]
2025-06-27 10:32:05 [http-nio-8077-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 10:32:13 [http-nio-8077-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/accounts
2025-06-27 10:32:13 [http-nio-8077-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:32:13 [http-nio-8077-exec-8] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:32:13 [http-nio-8077-exec-8] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 4
2025-06-27 10:32:13 [http-nio-8077-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/accounts
2025-06-27 10:32:13 [http-nio-8077-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v1/accounts", parameters={}
2025-06-27 10:32:13 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AccountController#listAccounts(HttpServletRequest)
2025-06-27 10:32:13 [http-nio-8077-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 10:32:13 [http-nio-8077-exec-8] DEBUG org.hibernate.SQL - select ba1_0.id,ba1_0.account_number,ba1_0.account_type,ba1_0.balance,ba1_0.name,ba1_0.sort_code,ba1_0.user_id from bank_account ba1_0 where ba1_0.user_id=?
2025-06-27 10:32:13 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:32:13 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[class BankAccountResponse {<EOL>    accountNumber: 01121756<EOL>    sortCode: 71-33-38<EOL>    name: my persona (truncated)...]
2025-06-27 10:32:13 [http-nio-8077-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-06-27 10:32:42 [http-nio-8077-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /v1/accounts/01978134
2025-06-27 10:32:42 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:32:42 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:32:42 [http-nio-8077-exec-7] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 4
2025-06-27 10:32:42 [http-nio-8077-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /v1/accounts/01978134
2025-06-27 10:32:42 [http-nio-8077-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/v1/accounts/01978134", parameters={}
2025-06-27 10:32:42 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AccountController#deleteAccount(String, HttpServletRequest)
2025-06-27 10:32:42 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 10:32:42 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - select ba1_0.id,ba1_0.account_number,ba1_0.account_type,ba1_0.balance,ba1_0.name,ba1_0.sort_code,ba1_0.user_id from bank_account ba1_0 where ba1_0.account_number=?
2025-06-27 10:32:42 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - select t1_0.account_id,t1_0.id,t1_0.amount,t1_0.reference,t1_0.timestamp,t1_0.type from transaction t1_0 where t1_0.account_id=?
2025-06-27 10:32:42 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - delete from bank_account where id=?
2025-06-27 10:32:42 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/octet-stream', given [*/*] and supported [*/*]
2025-06-27 10:32:42 [http-nio-8077-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-06-27 10:32:51 [http-nio-8077-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/accounts
2025-06-27 10:32:51 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:32:51 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:32:51 [http-nio-8077-exec-10] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 4
2025-06-27 10:32:51 [http-nio-8077-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/accounts
2025-06-27 10:32:51 [http-nio-8077-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v1/accounts", parameters={}
2025-06-27 10:32:51 [http-nio-8077-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AccountController#listAccounts(HttpServletRequest)
2025-06-27 10:32:51 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 10:32:51 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - select ba1_0.id,ba1_0.account_number,ba1_0.account_type,ba1_0.balance,ba1_0.name,ba1_0.sort_code,ba1_0.user_id from bank_account ba1_0 where ba1_0.user_id=?
2025-06-27 10:32:51 [http-nio-8077-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:32:51 [http-nio-8077-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[class BankAccountResponse {<EOL>    accountNumber: 01121756<EOL>    sortCode: 71-33-38<EOL>    name: my persona (truncated)...]
2025-06-27 10:32:51 [http-nio-8077-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-06-27 10:32:58 [http-nio-8077-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts/01978134/transactions
2025-06-27 10:32:58 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:32:58 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:32:58 [http-nio-8077-exec-9] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 4
2025-06-27 10:32:58 [http-nio-8077-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/accounts/01978134/transactions
2025-06-27 10:32:58 [http-nio-8077-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/accounts/01978134/transactions", parameters={}
2025-06-27 10:32:58 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.TransactionController#createTransaction(String, CreateTransactionRequest, HttpServletRequest)
2025-06-27 10:32:58 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateTransactionRequest {<EOL>    amount: 100<EOL>    type: deposit<EOL>    reference: test transaction<EOL>}]
2025-06-27 10:32:58 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 10:32:58 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.account_number,a1_0.account_type,a1_0.balance,a1_0.name,a1_0.sort_code from bank_account a1_0 where a1_0.user_id=?
2025-06-27 10:32:58 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-06-27 10:32:58 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Account does not exist"]
2025-06-27 10:32:58 [http-nio-8077-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-06-27 10:33:08 [http-nio-8077-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts
2025-06-27 10:33:08 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:33:08 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:33:08 [http-nio-8077-exec-2] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 4
2025-06-27 10:33:08 [http-nio-8077-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/accounts
2025-06-27 10:33:08 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/accounts", parameters={}
2025-06-27 10:33:08 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AccountController#createAccount(CreateBankAccountRequest, HttpServletRequest)
2025-06-27 10:33:08 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateBankAccountRequest {<EOL>    name: my personal account<EOL>    accountType: personal<EOL>    balance (truncated)...]
2025-06-27 10:33:08 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 10:33:08 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - insert into bank_account (account_number,account_type,balance,name,sort_code,user_id,id) values (?,?,?,?,?,?,default)
2025-06-27 10:33:08 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:33:08 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class BankAccountResponse {<EOL>    accountNumber: 01260860<EOL>    sortCode: 96-39-70<EOL>    name: my personal (truncated)...]
2025-06-27 10:33:08 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 10:33:11 [http-nio-8077-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts/01260860/transactions
2025-06-27 10:33:11 [http-nio-8077-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:33:11 [http-nio-8077-exec-1] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:33:11 [http-nio-8077-exec-1] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 4
2025-06-27 10:33:11 [http-nio-8077-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/accounts/01260860/transactions
2025-06-27 10:33:11 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/accounts/01260860/transactions", parameters={}
2025-06-27 10:33:11 [http-nio-8077-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.TransactionController#createTransaction(String, CreateTransactionRequest, HttpServletRequest)
2025-06-27 10:33:11 [http-nio-8077-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateTransactionRequest {<EOL>    amount: 100<EOL>    type: deposit<EOL>    reference: test transaction<EOL>}]
2025-06-27 10:33:11 [http-nio-8077-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 10:33:11 [http-nio-8077-exec-1] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.account_number,a1_0.account_type,a1_0.balance,a1_0.name,a1_0.sort_code from bank_account a1_0 where a1_0.user_id=?
2025-06-27 10:33:11 [http-nio-8077-exec-1] DEBUG org.hibernate.SQL - insert into transaction (account_id,amount,reference,timestamp,type,id) values (?,?,?,?,?,default)
2025-06-27 10:33:11 [http-nio-8077-exec-1] DEBUG org.hibernate.SQL - update bank_account set account_number=?,account_type=?,balance=?,name=?,sort_code=?,user_id=? where id=?
2025-06-27 10:33:11 [http-nio-8077-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:33:11 [http-nio-8077-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class TransactionResponse {<EOL>    id: 1<EOL>    amount: 100<EOL>    type: deposit<EOL>    reference: test transact (truncated)...]
2025-06-27 10:33:11 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 10:33:21 [http-nio-8077-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts/01260860/transactions
2025-06-27 10:33:21 [http-nio-8077-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:33:21 [http-nio-8077-exec-4] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:33:21 [http-nio-8077-exec-4] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 4
2025-06-27 10:33:21 [http-nio-8077-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/accounts/01260860/transactions
2025-06-27 10:33:21 [http-nio-8077-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/accounts/01260860/transactions", parameters={}
2025-06-27 10:33:21 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.TransactionController#createTransaction(String, CreateTransactionRequest, HttpServletRequest)
2025-06-27 10:33:21 [http-nio-8077-exec-4] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [1] in public org.springframework.http.ResponseEntity<?> org.eagle.bank.controller.TransactionController.createTransaction(java.lang.String,org.eagle.bank.dto.CreateTransactionRequest,jakarta.servlet.http.HttpServletRequest): JSON parse error: Cannot construct instance of `org.eagle.bank.dto.CreateTransactionRequest$TypeEnum`, problem: Unexpected value 'withdraw'
2025-06-27 10:33:21 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleGeneric(Exception)
2025-06-27 10:33:21 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:33:21 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=An unexpected error occurred}]
2025-06-27 10:33:21 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `org.eagle.bank.dto.CreateTransactionRequest$TypeEnum`, problem: Unexpected value 'withdraw']
2025-06-27 10:33:21 [http-nio-8077-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-06-27 10:33:43 [http-nio-8077-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts/01260860/transactions
2025-06-27 10:33:43 [http-nio-8077-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:33:43 [http-nio-8077-exec-3] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:33:43 [http-nio-8077-exec-3] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 4
2025-06-27 10:33:43 [http-nio-8077-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/accounts/01260860/transactions
2025-06-27 10:33:43 [http-nio-8077-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/accounts/01260860/transactions", parameters={}
2025-06-27 10:33:43 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.TransactionController#createTransaction(String, CreateTransactionRequest, HttpServletRequest)
2025-06-27 10:33:43 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateTransactionRequest {<EOL>    amount: 100<EOL>    type: withdrawal<EOL>    reference: test transactio (truncated)...]
2025-06-27 10:33:43 [http-nio-8077-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 10:33:43 [http-nio-8077-exec-3] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.account_number,a1_0.account_type,a1_0.balance,a1_0.name,a1_0.sort_code from bank_account a1_0 where a1_0.user_id=?
2025-06-27 10:33:43 [http-nio-8077-exec-3] DEBUG org.hibernate.SQL - insert into transaction (account_id,amount,reference,timestamp,type,id) values (?,?,?,?,?,default)
2025-06-27 10:33:43 [http-nio-8077-exec-3] DEBUG org.hibernate.SQL - update bank_account set account_number=?,account_type=?,balance=?,name=?,sort_code=?,user_id=? where id=?
2025-06-27 10:33:43 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:33:43 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class TransactionResponse {<EOL>    id: 2<EOL>    amount: 100<EOL>    type: withdrawal<EOL>    reference: test trans (truncated)...]
2025-06-27 10:33:43 [http-nio-8077-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 10:34:16 [http-nio-8077-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts/01260860/transactions
2025-06-27 10:34:18 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:34:18 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:34:18 [http-nio-8077-exec-5] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 4
2025-06-27 10:34:19 [http-nio-8077-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/accounts/01260860/transactions
2025-06-27 10:34:19 [http-nio-8077-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/accounts/01260860/transactions", parameters={}
2025-06-27 10:34:19 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.TransactionController#createTransaction(String, CreateTransactionRequest, HttpServletRequest)
2025-06-27 10:34:19 [http-nio-8077-exec-5] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [1] in public org.springframework.http.ResponseEntity<?> org.eagle.bank.controller.TransactionController.createTransaction(java.lang.String,org.eagle.bank.dto.CreateTransactionRequest,jakarta.servlet.http.HttpServletRequest): JSON parse error: Cannot construct instance of `org.eagle.bank.dto.CreateTransactionRequest$TypeEnum`, problem: Unexpected value 'w'
2025-06-27 10:34:19 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleGeneric(Exception)
2025-06-27 10:34:19 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:34:19 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=An unexpected error occurred}]
2025-06-27 10:34:19 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `org.eagle.bank.dto.CreateTransactionRequest$TypeEnum`, problem: Unexpected value 'w']
2025-06-27 10:34:19 [http-nio-8077-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-06-27 10:34:52 [http-nio-8077-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts/01260860/transactions
2025-06-27 10:34:55 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:34:55 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:34:55 [http-nio-8077-exec-7] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 4
2025-06-27 10:34:56 [http-nio-8077-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/accounts/01260860/transactions
2025-06-27 10:34:56 [http-nio-8077-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/accounts/01260860/transactions", parameters={}
2025-06-27 10:34:56 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.TransactionController#createTransaction(String, CreateTransactionRequest, HttpServletRequest)
2025-06-27 10:34:56 [http-nio-8077-exec-7] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [1] in public org.springframework.http.ResponseEntity<?> org.eagle.bank.controller.TransactionController.createTransaction(java.lang.String,org.eagle.bank.dto.CreateTransactionRequest,jakarta.servlet.http.HttpServletRequest): JSON parse error: Cannot construct instance of `org.eagle.bank.dto.CreateTransactionRequest$TypeEnum`, problem: Unexpected value 'w'
2025-06-27 10:34:56 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleGeneric(Exception)
2025-06-27 10:36:45 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m34s379ms).
2025-06-27 10:36:45 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:36:45 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=An unexpected error occurred}]
2025-06-27 10:36:45 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `org.eagle.bank.dto.CreateTransactionRequest$TypeEnum`, problem: Unexpected value 'w']
2025-06-27 10:36:45 [http-nio-8077-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-06-27 10:36:47 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 10:36:47 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-27 10:36:47 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-27 10:36:59 [main] INFO  org.eagle.bank.Main - Starting Main using Java 21.0.6 with PID 25054 (/Users/maha/workspace/barclays/eagle-bank/target/classes started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 10:36:59 [main] DEBUG org.eagle.bank.Main - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 10:36:59 [main] INFO  org.eagle.bank.Main - No active profile set, falling back to 1 default profile: "default"
2025-06-27 10:37:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-27 10:37:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 74 ms. Found 3 JPA repository interfaces.
2025-06-27 10:37:01 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8077 (http)
2025-06-27 10:37:01 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-27 10:37:01 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-06-27 10:37:01 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-27 10:37:01 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2311 ms
2025-06-27 10:37:01 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-27 10:37:01 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:eaglebankdb user=SA
2025-06-27 10:37:01 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-27 10:37:01 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:eaglebankdb'
2025-06-27 10:37:02 [main] DEBUG o.e.b.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-06-27 10:37:02 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-27 10:37:02 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2025-06-27 10:37:02 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-27 10:37:02 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-27 10:37:02 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-27 10:37:04 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-27 10:37:04 [main] DEBUG org.hibernate.SQL - create table address (id bigint generated by default as identity, county varchar(255) not null, line1 varchar(255) not null, postcode varchar(255) not null, town varchar(255) not null, primary key (id))
2025-06-27 10:37:04 [main] DEBUG org.hibernate.SQL - create table bank_account (id bigint generated by default as identity, account_number varchar(255) not null, account_type varchar(255) not null, balance numeric(38,2) not null, name varchar(255), sort_code varchar(255) not null, user_id bigint not null, primary key (id))
2025-06-27 10:37:04 [main] DEBUG org.hibernate.SQL - create table transaction (id bigint generated by default as identity, amount numeric(38,2) not null, reference varchar(255), timestamp timestamp(6) with time zone not null, type varchar(255) not null check (type in ('DEPOSIT','WITHDRAWAL')), account_id bigint not null, primary key (id))
2025-06-27 10:37:04 [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, email varchar(255) not null, name varchar(255) not null, password varchar(255) not null, phone_number varchar(255) not null, username varchar(255) not null, address_id bigint not null, primary key (id))
2025-06-27 10:37:04 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_mb8kv2x9143o96jgxbv6mahcq
2025-06-27 10:37:04 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_mb8kv2x9143o96jgxbv6mahcq unique (account_number)
2025-06-27 10:37:04 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_awggvx8byoiap9dq3uik3ul1a
2025-06-27 10:37:04 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_awggvx8byoiap9dq3uik3ul1a unique (sort_code)
2025-06-27 10:37:04 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_6dotkott2kjsp8vw4d0m25fb7
2025-06-27 10:37:04 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-06-27 10:37:04 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_9q63snka3mdh91as4io72espi
2025-06-27 10:37:04 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_9q63snka3mdh91as4io72espi unique (phone_number)
2025-06-27 10:37:04 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_r43af9ap4edm43mmtq01oddj6
2025-06-27 10:37:04 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-06-27 10:37:04 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_hbvhqvjgmhd5omxyo67ynvbyp
2025-06-27 10:37:04 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_hbvhqvjgmhd5omxyo67ynvbyp unique (address_id)
2025-06-27 10:37:04 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint FKftsfxon3d4ectm5bv7glrhlko foreign key (user_id) references users
2025-06-27 10:37:04 [main] DEBUG org.hibernate.SQL - alter table if exists transaction add constraint FK39a303qtsn29mv6kksw98ob2w foreign key (account_id) references bank_account
2025-06-27 10:37:04 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint FKditu6lr4ek16tkxtdsne0gxib foreign key (address_id) references address
2025-06-27 10:37:04 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 10:37:05 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-27 10:37:05 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-06-27 10:37:07 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 18 mappings in 'requestMappingHandlerMapping'
2025-06-27 10:37:08 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-06-27 10:37:08 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@28d74041, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5702232d, org.springframework.security.web.context.SecurityContextHolderFilter@768967cf, org.springframework.security.web.header.HeaderWriterFilter@2cc7b63d, org.springframework.web.filter.CorsFilter@5cbf9aee, org.springframework.security.web.authentication.logout.LogoutFilter@73418044, org.eagle.bank.security.JwtAuthenticationFilter@4ae280da, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7b8b755d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3bd5dff5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@35920655, org.springframework.security.web.session.SessionManagementFilter@5e572ad6, org.springframework.security.web.access.ExceptionTranslationFilter@440e2406, org.springframework.security.web.access.intercept.AuthorizationFilter@274b0c2a]
2025-06-27 10:37:08 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 10:37:08 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'handlerExceptionResolver' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Failed to instantiate [org.springframework.web.servlet.HandlerExceptionResolver]: Factory method 'handlerExceptionResolver' threw exception with message: Ambiguous @ExceptionHandler method mapped for [class java.lang.Exception]: {public org.springframework.http.ResponseEntity org.eagle.bank.exception.ApiExceptionHandler.handleGeneric(java.lang.Exception), public org.springframework.http.ResponseEntity org.eagle.bank.exception.ApiExceptionHandler.handleJsonFormatException(org.springframework.http.converter.HttpMessageNotReadableException)}
2025-06-27 10:37:08 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 10:37:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-27 10:37:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-27 10:37:08 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-27 10:37:08 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-27 10:37:08 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'handlerExceptionResolver' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Failed to instantiate [org.springframework.web.servlet.HandlerExceptionResolver]: Factory method 'handlerExceptionResolver' threw exception with message: Ambiguous @ExceptionHandler method mapped for [class java.lang.Exception]: {public org.springframework.http.ResponseEntity org.eagle.bank.exception.ApiExceptionHandler.handleGeneric(java.lang.Exception), public org.springframework.http.ResponseEntity org.eagle.bank.exception.ApiExceptionHandler.handleJsonFormatException(org.springframework.http.converter.HttpMessageNotReadableException)}
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1337)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at org.eagle.bank.Main.main(Main.java:10)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerExceptionResolver]: Factory method 'handlerExceptionResolver' threw exception with message: Ambiguous @ExceptionHandler method mapped for [class java.lang.Exception]: {public org.springframework.http.ResponseEntity org.eagle.bank.exception.ApiExceptionHandler.handleGeneric(java.lang.Exception), public org.springframework.http.ResponseEntity org.eagle.bank.exception.ApiExceptionHandler.handleJsonFormatException(org.springframework.http.converter.HttpMessageNotReadableException)}
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:177)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:644)
	... 19 common frames omitted
Caused by: java.lang.IllegalStateException: Ambiguous @ExceptionHandler method mapped for [class java.lang.Exception]: {public org.springframework.http.ResponseEntity org.eagle.bank.exception.ApiExceptionHandler.handleGeneric(java.lang.Exception), public org.springframework.http.ResponseEntity org.eagle.bank.exception.ApiExceptionHandler.handleJsonFormatException(org.springframework.http.converter.HttpMessageNotReadableException)}
	at org.springframework.web.method.annotation.ExceptionHandlerMethodResolver.addExceptionMapping(ExceptionHandlerMethodResolver.java:114)
	at org.springframework.web.method.annotation.ExceptionHandlerMethodResolver.<init>(ExceptionHandlerMethodResolver.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache(ExceptionHandlerExceptionResolver.java:289)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.afterPropertiesSet(ExceptionHandlerExceptionResolver.java:256)
	at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.addDefaultHandlerExceptionResolvers(WebMvcConfigurationSupport.java:1063)
	at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.handlerExceptionResolver(WebMvcConfigurationSupport.java:1005)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:140)
	... 20 common frames omitted
2025-06-27 10:38:43 [main] INFO  org.eagle.bank.Main - Starting Main using Java 21.0.6 with PID 25323 (/Users/maha/workspace/barclays/eagle-bank/target/classes started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 10:38:43 [main] DEBUG org.eagle.bank.Main - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 10:38:43 [main] INFO  org.eagle.bank.Main - No active profile set, falling back to 1 default profile: "default"
2025-06-27 10:38:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-27 10:38:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 83 ms. Found 3 JPA repository interfaces.
2025-06-27 10:38:45 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8077 (http)
2025-06-27 10:38:45 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-27 10:38:45 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-06-27 10:38:45 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-27 10:38:45 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2006 ms
2025-06-27 10:38:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-27 10:38:45 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:eaglebankdb user=SA
2025-06-27 10:38:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-27 10:38:45 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:eaglebankdb'
2025-06-27 10:38:46 [main] DEBUG o.e.b.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-06-27 10:38:46 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-27 10:38:46 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2025-06-27 10:38:46 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-27 10:38:46 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-27 10:38:46 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-27 10:38:48 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-27 10:38:48 [main] DEBUG org.hibernate.SQL - create table address (id bigint generated by default as identity, county varchar(255) not null, line1 varchar(255) not null, postcode varchar(255) not null, town varchar(255) not null, primary key (id))
2025-06-27 10:38:48 [main] DEBUG org.hibernate.SQL - create table bank_account (id bigint generated by default as identity, account_number varchar(255) not null, account_type varchar(255) not null, balance numeric(38,2) not null, name varchar(255), sort_code varchar(255) not null, user_id bigint not null, primary key (id))
2025-06-27 10:38:48 [main] DEBUG org.hibernate.SQL - create table transaction (id bigint generated by default as identity, amount numeric(38,2) not null, reference varchar(255), timestamp timestamp(6) with time zone not null, type varchar(255) not null check (type in ('DEPOSIT','WITHDRAWAL')), account_id bigint not null, primary key (id))
2025-06-27 10:38:48 [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, email varchar(255) not null, name varchar(255) not null, password varchar(255) not null, phone_number varchar(255) not null, username varchar(255) not null, address_id bigint not null, primary key (id))
2025-06-27 10:38:48 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_mb8kv2x9143o96jgxbv6mahcq
2025-06-27 10:38:48 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_mb8kv2x9143o96jgxbv6mahcq unique (account_number)
2025-06-27 10:38:48 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_awggvx8byoiap9dq3uik3ul1a
2025-06-27 10:38:48 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_awggvx8byoiap9dq3uik3ul1a unique (sort_code)
2025-06-27 10:38:48 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_6dotkott2kjsp8vw4d0m25fb7
2025-06-27 10:38:48 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-06-27 10:38:48 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_9q63snka3mdh91as4io72espi
2025-06-27 10:38:48 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_9q63snka3mdh91as4io72espi unique (phone_number)
2025-06-27 10:38:48 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_r43af9ap4edm43mmtq01oddj6
2025-06-27 10:38:48 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-06-27 10:38:48 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_hbvhqvjgmhd5omxyo67ynvbyp
2025-06-27 10:38:48 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_hbvhqvjgmhd5omxyo67ynvbyp unique (address_id)
2025-06-27 10:38:48 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint FKftsfxon3d4ectm5bv7glrhlko foreign key (user_id) references users
2025-06-27 10:38:48 [main] DEBUG org.hibernate.SQL - alter table if exists transaction add constraint FK39a303qtsn29mv6kksw98ob2w foreign key (account_id) references bank_account
2025-06-27 10:38:48 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint FKditu6lr4ek16tkxtdsne0gxib foreign key (address_id) references address
2025-06-27 10:38:48 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 10:38:48 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-27 10:38:48 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-06-27 10:38:52 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 18 mappings in 'requestMappingHandlerMapping'
2025-06-27 10:38:52 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-06-27 10:38:52 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5f910283, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e2764c9, org.springframework.security.web.context.SecurityContextHolderFilter@3a8cc099, org.springframework.security.web.header.HeaderWriterFilter@2bb03136, org.springframework.web.filter.CorsFilter@6e5106fc, org.springframework.security.web.authentication.logout.LogoutFilter@66c9aca2, org.eagle.bank.security.JwtAuthenticationFilter@25533bba, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1c00a9f0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@203ba07, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@70199db0, org.springframework.security.web.session.SessionManagementFilter@55d35f7a, org.springframework.security.web.access.ExceptionTranslationFilter@53f18591, org.springframework.security.web.access.intercept.AuthorizationFilter@1a557a52]
2025-06-27 10:38:52 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 10:38:52 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 10:38:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8077 (http) with context path ''
2025-06-27 10:38:52 [main] INFO  org.eagle.bank.Main - Started Main in 10.294 seconds (process running for 11.237)
2025-06-27 10:39:08 [http-nio-8077-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-27 10:39:08 [http-nio-8077-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-27 10:39:08 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-06-27 10:39:08 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-06-27 10:39:08 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-06-27 10:39:08 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2ff2a096
2025-06-27 10:39:08 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@5a0b925a
2025-06-27 10:39:08 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-06-27 10:39:08 [http-nio-8077-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 7 ms
2025-06-27 10:39:08 [http-nio-8077-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 10:39:08 [http-nio-8077-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 10:39:08 [http-nio-8077-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 10:39:08 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 10:39:08 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 10:39:08 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: Maha<EOL>    address: class CreateUserRequestAddress {<EOL>        line1 (truncated)...]
2025-06-27 10:39:08 [http-nio-8077-exec-2] INFO  o.e.bank.controller.UserController - New user creation request received: Maha
2025-06-27 10:39:11 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - insert into address (county,line1,postcode,town,id) values (?,?,?,?,default)
2025-06-27 10:39:11 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)
2025-06-27 10:39:11 [http-nio-8077-exec-2] INFO  o.e.bank.controller.UserController - New user created: Maha, 1
2025-06-27 10:39:11 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:39:11 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class UserResponse {<EOL>    id: 1<EOL>    name: Maha<EOL>    address: class UpdateUserRequestAddress {<EOL>         (truncated)...]
2025-06-27 10:39:11 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 10:39:18 [http-nio-8077-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/auth/login
2025-06-27 10:39:18 [http-nio-8077-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 10:39:18 [http-nio-8077-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/auth/login
2025-06-27 10:39:18 [http-nio-8077-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/auth/login", parameters={}
2025-06-27 10:39:18 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AuthController#authenticate(LoginRequest)
2025-06-27 10:39:18 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [org.eagle.bank.controller.AuthController$LoginRequest@5d4b28bc]
2025-06-27 10:39:18 [http-nio-8077-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:39:18 [http-nio-8077-exec-3] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:39:19 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:39:19 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtYWhhdGVzdDEiLCJpYXQiOjE3NTEwMTcxNTksImV4cCI6MTc1MTEwMzU1OX0. (truncated)...]
2025-06-27 10:39:19 [http-nio-8077-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-06-27 10:39:24 [http-nio-8077-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts
2025-06-27 10:39:24 [http-nio-8077-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:39:24 [http-nio-8077-exec-4] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:39:24 [http-nio-8077-exec-4] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 1
2025-06-27 10:39:24 [http-nio-8077-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/accounts
2025-06-27 10:39:24 [http-nio-8077-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/accounts", parameters={}
2025-06-27 10:39:24 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AccountController#createAccount(CreateBankAccountRequest, HttpServletRequest)
2025-06-27 10:39:24 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateBankAccountRequest {<EOL>    name: my personal account<EOL>    accountType: personal<EOL>    balance (truncated)...]
2025-06-27 10:39:24 [http-nio-8077-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 10:39:24 [http-nio-8077-exec-4] DEBUG org.hibernate.SQL - insert into bank_account (account_number,account_type,balance,name,sort_code,user_id,id) values (?,?,?,?,?,?,default)
2025-06-27 10:39:24 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:39:24 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class BankAccountResponse {<EOL>    accountNumber: 01578726<EOL>    sortCode: 73-15-60<EOL>    name: my personal (truncated)...]
2025-06-27 10:39:24 [http-nio-8077-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 10:39:35 [http-nio-8077-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts/01578726/transactions
2025-06-27 10:39:36 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:39:36 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:39:36 [http-nio-8077-exec-5] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 1
2025-06-27 10:39:36 [http-nio-8077-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/accounts/01578726/transactions
2025-06-27 10:39:36 [http-nio-8077-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/accounts/01578726/transactions", parameters={}
2025-06-27 10:39:36 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.TransactionController#createTransaction(String, CreateTransactionRequest, HttpServletRequest)
2025-06-27 10:39:36 [http-nio-8077-exec-5] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [1] in public org.springframework.http.ResponseEntity<?> org.eagle.bank.controller.TransactionController.createTransaction(java.lang.String,org.eagle.bank.dto.CreateTransactionRequest,jakarta.servlet.http.HttpServletRequest): JSON parse error: Cannot construct instance of `org.eagle.bank.dto.CreateTransactionRequest$TypeEnum`, problem: Unexpected value 'w'
2025-06-27 10:39:36 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleGeneric(Exception)
2025-06-27 10:39:36 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:39:36 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=An unexpected error occurred}]
2025-06-27 10:39:36 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `org.eagle.bank.dto.CreateTransactionRequest$TypeEnum`, problem: Unexpected value 'w']
2025-06-27 10:39:36 [http-nio-8077-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-06-27 10:39:43 [http-nio-8077-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts/01578726/transactions
2025-06-27 10:39:43 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:39:43 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:39:43 [http-nio-8077-exec-7] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 1
2025-06-27 10:39:43 [http-nio-8077-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/accounts/01578726/transactions
2025-06-27 10:39:43 [http-nio-8077-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/accounts/01578726/transactions", parameters={}
2025-06-27 10:39:43 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.TransactionController#createTransaction(String, CreateTransactionRequest, HttpServletRequest)
2025-06-27 10:39:43 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateTransactionRequest {<EOL>    amount: 100<EOL>    type: withdrawal<EOL>    reference: test transactio (truncated)...]
2025-06-27 10:39:43 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 10:39:43 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.account_number,a1_0.account_type,a1_0.balance,a1_0.name,a1_0.sort_code from bank_account a1_0 where a1_0.user_id=?
2025-06-27 10:39:43 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - insert into transaction (account_id,amount,reference,timestamp,type,id) values (?,?,?,?,?,default)
2025-06-27 10:39:43 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - update bank_account set account_number=?,account_type=?,balance=?,name=?,sort_code=?,user_id=? where id=?
2025-06-27 10:39:43 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:39:43 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class TransactionResponse {<EOL>    id: 1<EOL>    amount: 100<EOL>    type: withdrawal<EOL>    reference: test trans (truncated)...]
2025-06-27 10:39:43 [http-nio-8077-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 10:39:52 [http-nio-8077-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/accounts/2/transactions
2025-06-27 10:39:52 [http-nio-8077-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:39:52 [http-nio-8077-exec-8] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:39:52 [http-nio-8077-exec-8] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 1
2025-06-27 10:39:52 [http-nio-8077-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/accounts/2/transactions
2025-06-27 10:39:52 [http-nio-8077-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v1/accounts/2/transactions", parameters={}
2025-06-27 10:39:52 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.TransactionController#listTransactions(String, HttpServletRequest)
2025-06-27 10:39:52 [http-nio-8077-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 10:39:52 [http-nio-8077-exec-8] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.account_number,a1_0.account_type,a1_0.balance,a1_0.name,a1_0.sort_code from bank_account a1_0 where a1_0.user_id=?
2025-06-27 10:39:52 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-06-27 10:39:52 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Account not found or forbidden"]
2025-06-27 10:39:52 [http-nio-8077-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-06-27 10:40:08 [http-nio-8077-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/accounts/01578726/transactions
2025-06-27 10:40:08 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:40:08 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:40:08 [http-nio-8077-exec-9] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 1
2025-06-27 10:40:08 [http-nio-8077-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/accounts/01578726/transactions
2025-06-27 10:40:08 [http-nio-8077-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v1/accounts/01578726/transactions", parameters={}
2025-06-27 10:40:08 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.TransactionController#listTransactions(String, HttpServletRequest)
2025-06-27 10:40:08 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 10:40:08 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.account_number,a1_0.account_type,a1_0.balance,a1_0.name,a1_0.sort_code from bank_account a1_0 where a1_0.user_id=?
2025-06-27 10:40:08 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.reference,t1_0.timestamp,t1_0.type from transaction t1_0 where t1_0.account_id=?
2025-06-27 10:40:08 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:40:08 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[class TransactionResponse {<EOL>    id: 1<EOL>    amount: 100.00<EOL>    type: withdrawal<EOL>    reference: test t (truncated)...]
2025-06-27 10:40:08 [http-nio-8077-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-06-27 10:40:18 [http-nio-8077-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /v1/accounts/01578726
2025-06-27 10:40:18 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:40:18 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:40:18 [http-nio-8077-exec-10] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 1
2025-06-27 10:40:18 [http-nio-8077-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /v1/accounts/01578726
2025-06-27 10:40:18 [http-nio-8077-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/v1/accounts/01578726", parameters={}
2025-06-27 10:40:18 [http-nio-8077-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AccountController#deleteAccount(String, HttpServletRequest)
2025-06-27 10:40:18 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 10:40:18 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - select ba1_0.id,ba1_0.account_number,ba1_0.account_type,ba1_0.balance,ba1_0.name,ba1_0.sort_code,ba1_0.user_id from bank_account ba1_0 where ba1_0.account_number=?
2025-06-27 10:40:18 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - select t1_0.account_id,t1_0.id,t1_0.amount,t1_0.reference,t1_0.timestamp,t1_0.type from transaction t1_0 where t1_0.account_id=?
2025-06-27 10:40:18 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - delete from transaction where id=?
2025-06-27 10:40:18 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - delete from bank_account where id=?
2025-06-27 10:40:18 [http-nio-8077-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/octet-stream', given [*/*] and supported [*/*]
2025-06-27 10:40:18 [http-nio-8077-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-06-27 10:42:50 [http-nio-8077-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 10:42:50 [http-nio-8077-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 10:42:50 [http-nio-8077-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 10:42:50 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 10:42:50 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 10:42:50 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: Maha<EOL>    address: class CreateUserRequestAddress {<EOL>        line1 (truncated)...]
2025-06-27 10:42:50 [http-nio-8077-exec-2] INFO  o.e.bank.controller.UserController - New user creation request received: Maha
2025-06-27 10:42:50 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - insert into address (county,line1,postcode,town,id) values (?,?,?,?,default)
2025-06-27 10:42:50 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)
2025-06-27 10:42:50 [http-nio-8077-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 23505, SQLState: 23505
2025-06-27 10:42:50 [http-nio-8077-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Unique index or primary key violation: "PUBLIC.UK_6DOTKOTT2KJSP8VW4D0M25FB7_INDEX_4 ON PUBLIC.USERS(EMAIL NULLS FIRST) VALUES ( /* 1 */ 'mahatest1@test.com' )"; SQL statement:
insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default) [23505-224]
2025-06-27 10:42:50 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleDataIntegrityViolation(DataIntegrityViolationException)
2025-06-27 10:42:50 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:42:50 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Phone number, email, and username must be unique.}]
2025-06-27 10:42:50 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Unique index or primary key violation: "PUBLIC.UK_6DOTKOTT2KJSP8VW4D0M25FB7_INDEX_4 ON PUBLIC.USERS(EMAIL NULLS FIRST) VALUES ( /* 1 */ 'mahatest1@test.com' )"; SQL statement:<EOL>insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default) [23505-224]] [insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)]; SQL [insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)]; constraint ["PUBLIC.UK_6DOTKOTT2KJSP8VW4D0M25FB7_INDEX_4 ON PUBLIC.USERS(EMAIL NULLS FIRST) VALUES ( /* 1 */ 'mahatest1@test.com' )"; SQL statement:<EOL>insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default) [23505-224]]]
2025-06-27 10:42:50 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 409 CONFLICT
2025-06-27 10:43:26 [http-nio-8077-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 10:43:26 [http-nio-8077-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 10:43:26 [http-nio-8077-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 10:43:26 [http-nio-8077-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 10:43:26 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 10:43:26 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: Maha<EOL>    address: class CreateUserRequestAddress {<EOL>        line1 (truncated)...]
2025-06-27 10:43:26 [http-nio-8077-exec-4] INFO  o.e.bank.controller.UserController - New user creation request received: Maha
2025-06-27 10:43:26 [http-nio-8077-exec-4] DEBUG org.hibernate.SQL - insert into address (county,line1,postcode,town,id) values (?,?,?,?,default)
2025-06-27 10:43:26 [http-nio-8077-exec-4] DEBUG org.hibernate.SQL - insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)
2025-06-27 10:43:26 [http-nio-8077-exec-4] INFO  o.e.bank.controller.UserController - New user created: Maha, 3
2025-06-27 10:43:26 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:43:26 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class UserResponse {<EOL>    id: 3<EOL>    name: Maha<EOL>    address: class UpdateUserRequestAddress {<EOL>         (truncated)...]
2025-06-27 10:43:26 [http-nio-8077-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 10:52:41 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 10:52:41 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-27 10:52:41 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-27 10:52:49 [main] INFO  org.eagle.bank.Main - Starting Main using Java 21.0.6 with PID 27518 (/Users/maha/workspace/barclays/eagle-bank/target/classes started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 10:52:49 [main] DEBUG org.eagle.bank.Main - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 10:52:49 [main] INFO  org.eagle.bank.Main - No active profile set, falling back to 1 default profile: "default"
2025-06-27 10:52:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-27 10:52:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 110 ms. Found 3 JPA repository interfaces.
2025-06-27 10:52:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8077 (http)
2025-06-27 10:52:51 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-27 10:52:51 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-06-27 10:52:51 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-27 10:52:51 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2016 ms
2025-06-27 10:52:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-27 10:52:52 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:eaglebankdb user=SA
2025-06-27 10:52:52 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-27 10:52:52 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:eaglebankdb'
2025-06-27 10:52:52 [main] DEBUG o.e.b.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-06-27 10:52:52 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-27 10:52:52 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2025-06-27 10:52:52 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-27 10:52:52 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-27 10:52:52 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-27 10:52:54 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-27 10:52:54 [main] DEBUG org.hibernate.SQL - create table address (id bigint generated by default as identity, county varchar(255) not null, line1 varchar(255) not null, postcode varchar(255) not null, town varchar(255) not null, primary key (id))
2025-06-27 10:52:54 [main] DEBUG org.hibernate.SQL - create table bank_account (id bigint generated by default as identity, account_number varchar(255) not null, account_type varchar(255) not null, balance numeric(38,2) not null, name varchar(255), sort_code varchar(255) not null, user_id bigint not null, primary key (id))
2025-06-27 10:52:54 [main] DEBUG org.hibernate.SQL - create table transaction (id bigint generated by default as identity, amount numeric(38,2) not null, reference varchar(255), timestamp timestamp(6) with time zone not null, type varchar(255) not null check (type in ('DEPOSIT','WITHDRAWAL')), account_id bigint not null, primary key (id))
2025-06-27 10:52:54 [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, email varchar(255) not null, name varchar(255) not null, password varchar(255) not null, phone_number varchar(255) not null, username varchar(255) not null, address_id bigint not null, primary key (id))
2025-06-27 10:52:54 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_mb8kv2x9143o96jgxbv6mahcq
2025-06-27 10:52:54 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_mb8kv2x9143o96jgxbv6mahcq unique (account_number)
2025-06-27 10:52:54 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_awggvx8byoiap9dq3uik3ul1a
2025-06-27 10:52:54 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_awggvx8byoiap9dq3uik3ul1a unique (sort_code)
2025-06-27 10:52:54 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_6dotkott2kjsp8vw4d0m25fb7
2025-06-27 10:52:54 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-06-27 10:52:54 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_9q63snka3mdh91as4io72espi
2025-06-27 10:52:54 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_9q63snka3mdh91as4io72espi unique (phone_number)
2025-06-27 10:52:54 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_r43af9ap4edm43mmtq01oddj6
2025-06-27 10:52:54 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-06-27 10:52:54 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_hbvhqvjgmhd5omxyo67ynvbyp
2025-06-27 10:52:54 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_hbvhqvjgmhd5omxyo67ynvbyp unique (address_id)
2025-06-27 10:52:54 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint FKftsfxon3d4ectm5bv7glrhlko foreign key (user_id) references users
2025-06-27 10:52:54 [main] DEBUG org.hibernate.SQL - alter table if exists transaction add constraint FK39a303qtsn29mv6kksw98ob2w foreign key (account_id) references bank_account
2025-06-27 10:52:54 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint FKditu6lr4ek16tkxtdsne0gxib foreign key (address_id) references address
2025-06-27 10:52:54 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 10:52:54 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-27 10:52:54 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-06-27 10:52:54 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 19 mappings in 'requestMappingHandlerMapping'
2025-06-27 10:52:55 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-06-27 10:52:55 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6e2764c9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e5106fc, org.springframework.security.web.context.SecurityContextHolderFilter@756b703d, org.springframework.security.web.header.HeaderWriterFilter@78a46d7b, org.springframework.web.filter.CorsFilter@70199db0, org.springframework.security.web.authentication.logout.LogoutFilter@18206382, org.eagle.bank.security.JwtAuthenticationFilter@100bba26, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@203ba07, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e572ad6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@274b0c2a, org.springframework.security.web.session.SessionManagementFilter@12ef7db5, org.springframework.security.web.access.ExceptionTranslationFilter@4dfbe8c2, org.springframework.security.web.access.intercept.AuthorizationFilter@4ab959e8]
2025-06-27 10:52:55 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 10:52:55 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 10:52:55 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8077 (http) with context path ''
2025-06-27 10:52:55 [main] INFO  org.eagle.bank.Main - Started Main in 6.785 seconds (process running for 7.656)
2025-06-27 10:53:06 [http-nio-8077-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-27 10:53:06 [http-nio-8077-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-27 10:53:06 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-06-27 10:53:06 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-06-27 10:53:06 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-06-27 10:53:06 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@59c2bf78
2025-06-27 10:53:06 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@a6fc2e1
2025-06-27 10:53:06 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-06-27 10:53:06 [http-nio-8077-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-06-27 10:53:06 [http-nio-8077-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 10:53:07 [http-nio-8077-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 10:53:07 [http-nio-8077-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 10:53:07 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 10:53:07 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 10:53:07 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: Maha<EOL>    address: class CreateUserRequestAddress {<EOL>        line1 (truncated)...]
2025-06-27 10:53:07 [http-nio-8077-exec-2] INFO  o.e.bank.controller.UserController - New user creation request received: Maha
2025-06-27 10:53:07 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - insert into address (county,line1,postcode,town,id) values (?,?,?,?,default)
2025-06-27 10:53:07 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)
2025-06-27 10:53:07 [http-nio-8077-exec-2] INFO  o.e.bank.controller.UserController - New user created: Maha, 1
2025-06-27 10:53:07 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:53:07 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class UserResponse {<EOL>    id: 1<EOL>    name: Maha<EOL>    address: class UpdateUserRequestAddress {<EOL>         (truncated)...]
2025-06-27 10:53:07 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 10:53:13 [http-nio-8077-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/auth/login
2025-06-27 10:53:13 [http-nio-8077-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 10:53:13 [http-nio-8077-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/auth/login
2025-06-27 10:53:13 [http-nio-8077-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/auth/login", parameters={}
2025-06-27 10:53:13 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AuthController#authenticate(LoginRequest)
2025-06-27 10:53:13 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [org.eagle.bank.controller.AuthController$LoginRequest@40e7efbc]
2025-06-27 10:53:14 [http-nio-8077-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:53:14 [http-nio-8077-exec-3] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:53:14 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:53:14 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtYWhhdGVzdDExIiwiaWF0IjoxNzUxMDE3OTk0LCJleHAiOjE3NTExMDQzOTR9 (truncated)...]
2025-06-27 10:53:14 [http-nio-8077-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-06-27 10:53:24 [http-nio-8077-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts
2025-06-27 10:53:25 [http-nio-8077-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:53:25 [http-nio-8077-exec-4] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:53:25 [http-nio-8077-exec-4] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 1
2025-06-27 10:53:25 [http-nio-8077-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/accounts
2025-06-27 10:53:25 [http-nio-8077-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/accounts", parameters={}
2025-06-27 10:53:25 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AccountController#createAccount(CreateBankAccountRequest, HttpServletRequest)
2025-06-27 10:53:25 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateBankAccountRequest {<EOL>    name: my personal account<EOL>    accountType: personal<EOL>    balance (truncated)...]
2025-06-27 10:53:25 [http-nio-8077-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 10:53:25 [http-nio-8077-exec-4] DEBUG org.hibernate.SQL - insert into bank_account (account_number,account_type,balance,name,sort_code,user_id,id) values (?,?,?,?,?,?,default)
2025-06-27 10:53:25 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:53:25 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class BankAccountResponse {<EOL>    accountNumber: 01095172<EOL>    sortCode: 24-54-18<EOL>    name: my personal (truncated)...]
2025-06-27 10:53:25 [http-nio-8077-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 10:53:30 [http-nio-8077-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts/01095172/transactions
2025-06-27 10:53:30 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:53:30 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:53:30 [http-nio-8077-exec-5] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 1
2025-06-27 10:53:30 [http-nio-8077-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/accounts/01095172/transactions
2025-06-27 10:53:30 [http-nio-8077-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/accounts/01095172/transactions", parameters={}
2025-06-27 10:53:30 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.TransactionController#createTransaction(String, CreateTransactionRequest, HttpServletRequest)
2025-06-27 10:53:30 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateTransactionRequest {<EOL>    amount: 100<EOL>    type: withdrawal<EOL>    reference: test transactio (truncated)...]
2025-06-27 10:53:30 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 10:53:30 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.account_number,a1_0.account_type,a1_0.balance,a1_0.name,a1_0.sort_code from bank_account a1_0 where a1_0.user_id=?
2025-06-27 10:53:30 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - insert into transaction (account_id,amount,reference,timestamp,type,id) values (?,?,?,?,?,default)
2025-06-27 10:53:30 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - update bank_account set account_number=?,account_type=?,balance=?,name=?,sort_code=?,user_id=? where id=?
2025-06-27 10:53:30 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:53:30 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class TransactionResponse {<EOL>    id: 1<EOL>    amount: 100<EOL>    type: withdrawal<EOL>    reference: test trans (truncated)...]
2025-06-27 10:53:30 [http-nio-8077-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 10:53:44 [http-nio-8077-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/accounts/01095172/transactions/1
2025-06-27 10:53:44 [http-nio-8077-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:53:44 [http-nio-8077-exec-6] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:53:44 [http-nio-8077-exec-6] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 1
2025-06-27 10:53:44 [http-nio-8077-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/accounts/01095172/transactions/1
2025-06-27 10:53:44 [http-nio-8077-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v1/accounts/01095172/transactions/1", parameters={}
2025-06-27 10:53:44 [http-nio-8077-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.TransactionController#getTransaction(String, Long, HttpServletRequest)
2025-06-27 10:53:44 [http-nio-8077-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 10:53:44 [http-nio-8077-exec-6] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.account_number,a1_0.account_type,a1_0.balance,a1_0.name,a1_0.sort_code from bank_account a1_0 where a1_0.user_id=?
2025-06-27 10:53:44 [http-nio-8077-exec-6] DEBUG org.hibernate.SQL - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.reference,t1_0.timestamp,t1_0.type from transaction t1_0 where t1_0.id=? and t1_0.account_id=?
2025-06-27 10:53:44 [http-nio-8077-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:53:44 [http-nio-8077-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.eagle.bank.model.Transaction@35586aa]
2025-06-27 10:53:44 [http-nio-8077-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleGeneric(Exception)
2025-06-27 10:53:44 [http-nio-8077-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/json' in response
2025-06-27 10:53:44 [http-nio-8077-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=An unexpected error occurred}]
2025-06-27 10:53:44 [http-nio-8077-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Infinite recursion (StackOverflowError)]
2025-06-27 10:53:44 [http-nio-8077-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-06-27 10:53:49 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 10:53:49 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-27 10:53:49 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-27 10:54:33 [main] INFO  org.eagle.bank.Main - Starting Main using Java 21.0.6 with PID 27795 (/Users/maha/workspace/barclays/eagle-bank/target/classes started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 10:54:33 [main] DEBUG org.eagle.bank.Main - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 10:54:33 [main] INFO  org.eagle.bank.Main - No active profile set, falling back to 1 default profile: "default"
2025-06-27 10:54:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-27 10:54:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 72 ms. Found 3 JPA repository interfaces.
2025-06-27 10:54:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8077 (http)
2025-06-27 10:54:35 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-27 10:54:35 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-06-27 10:54:35 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-27 10:54:35 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2264 ms
2025-06-27 10:54:35 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-27 10:54:35 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:eaglebankdb user=SA
2025-06-27 10:54:35 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-27 10:54:35 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:eaglebankdb'
2025-06-27 10:54:35 [main] DEBUG o.e.b.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-06-27 10:54:36 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-27 10:54:36 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2025-06-27 10:54:36 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-27 10:54:36 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-27 10:54:36 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-27 10:54:37 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-27 10:54:38 [main] DEBUG org.hibernate.SQL - create table address (id bigint generated by default as identity, county varchar(255) not null, line1 varchar(255) not null, postcode varchar(255) not null, town varchar(255) not null, primary key (id))
2025-06-27 10:54:38 [main] DEBUG org.hibernate.SQL - create table bank_account (id bigint generated by default as identity, account_number varchar(255) not null, account_type varchar(255) not null, balance numeric(38,2) not null, name varchar(255), sort_code varchar(255) not null, user_id bigint not null, primary key (id))
2025-06-27 10:54:38 [main] DEBUG org.hibernate.SQL - create table transaction (id bigint generated by default as identity, amount numeric(38,2) not null, reference varchar(255), timestamp timestamp(6) with time zone not null, type varchar(255) not null check (type in ('DEPOSIT','WITHDRAWAL')), account_id bigint not null, primary key (id))
2025-06-27 10:54:38 [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, email varchar(255) not null, name varchar(255) not null, password varchar(255) not null, phone_number varchar(255) not null, username varchar(255) not null, address_id bigint not null, primary key (id))
2025-06-27 10:54:38 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_mb8kv2x9143o96jgxbv6mahcq
2025-06-27 10:54:38 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_mb8kv2x9143o96jgxbv6mahcq unique (account_number)
2025-06-27 10:54:38 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_awggvx8byoiap9dq3uik3ul1a
2025-06-27 10:54:38 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_awggvx8byoiap9dq3uik3ul1a unique (sort_code)
2025-06-27 10:54:38 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_6dotkott2kjsp8vw4d0m25fb7
2025-06-27 10:54:38 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-06-27 10:54:38 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_9q63snka3mdh91as4io72espi
2025-06-27 10:54:38 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_9q63snka3mdh91as4io72espi unique (phone_number)
2025-06-27 10:54:38 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_r43af9ap4edm43mmtq01oddj6
2025-06-27 10:54:38 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-06-27 10:54:38 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_hbvhqvjgmhd5omxyo67ynvbyp
2025-06-27 10:54:38 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_hbvhqvjgmhd5omxyo67ynvbyp unique (address_id)
2025-06-27 10:54:38 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint FKftsfxon3d4ectm5bv7glrhlko foreign key (user_id) references users
2025-06-27 10:54:38 [main] DEBUG org.hibernate.SQL - alter table if exists transaction add constraint FK39a303qtsn29mv6kksw98ob2w foreign key (account_id) references bank_account
2025-06-27 10:54:38 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint FKditu6lr4ek16tkxtdsne0gxib foreign key (address_id) references address
2025-06-27 10:54:38 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 10:54:38 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-27 10:54:38 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-06-27 10:54:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 19 mappings in 'requestMappingHandlerMapping'
2025-06-27 10:54:39 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-06-27 10:54:39 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@13ac1657, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@52d68eb9, org.springframework.security.web.context.SecurityContextHolderFilter@6f4e39b3, org.springframework.security.web.header.HeaderWriterFilter@4a0a93ce, org.springframework.web.filter.CorsFilter@1a557a52, org.springframework.security.web.authentication.logout.LogoutFilter@16117d9, org.eagle.bank.security.JwtAuthenticationFilter@71bb8b34, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@55d35f7a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12ef7db5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ab959e8, org.springframework.security.web.session.SessionManagementFilter@2cc7b63d, org.springframework.security.web.access.ExceptionTranslationFilter@530aa75c, org.springframework.security.web.access.intercept.AuthorizationFilter@52b2713a]
2025-06-27 10:54:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 10:54:39 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 10:54:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8077 (http) with context path ''
2025-06-27 10:54:39 [main] INFO  org.eagle.bank.Main - Started Main in 7.921 seconds (process running for 8.908)
2025-06-27 10:54:46 [http-nio-8077-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-27 10:54:46 [http-nio-8077-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-27 10:54:46 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-06-27 10:54:46 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-06-27 10:54:46 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-06-27 10:54:46 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@36a59d8
2025-06-27 10:54:46 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@4458887d
2025-06-27 10:54:46 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-06-27 10:54:46 [http-nio-8077-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-06-27 10:54:46 [http-nio-8077-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 10:54:46 [http-nio-8077-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 10:54:46 [http-nio-8077-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 10:54:46 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 10:54:46 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 10:54:46 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: Maha<EOL>    address: class CreateUserRequestAddress {<EOL>        line1 (truncated)...]
2025-06-27 10:54:47 [http-nio-8077-exec-2] INFO  o.e.bank.controller.UserController - New user creation request received: Maha
2025-06-27 10:54:47 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - insert into address (county,line1,postcode,town,id) values (?,?,?,?,default)
2025-06-27 10:54:47 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)
2025-06-27 10:54:47 [http-nio-8077-exec-2] INFO  o.e.bank.controller.UserController - New user created: Maha, 1
2025-06-27 10:54:47 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:54:47 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class UserResponse {<EOL>    id: 1<EOL>    name: Maha<EOL>    address: class UpdateUserRequestAddress {<EOL>         (truncated)...]
2025-06-27 10:54:47 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 10:54:53 [http-nio-8077-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts
2025-06-27 10:54:53 [http-nio-8077-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.MalformedJwtException: Invalid compact JWT string: Compact JWSs must contain exactly 2 period characters, and compact JWEs must contain exactly 4.  Found: 0
	at io.jsonwebtoken.impl.JwtTokenizer.tokenize(JwtTokenizer.java:102)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:370)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:362)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:821)
	at org.eagle.bank.security.JwtUtil.extractAllClaims(JwtUtil.java:55)
	at org.eagle.bank.security.JwtUtil.extractClaim(JwtUtil.java:47)
	at org.eagle.bank.security.JwtUtil.extractUsername(JwtUtil.java:39)
	at org.eagle.bank.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-27 10:54:53 [http-nio-8077-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-06-27 10:54:53 [http-nio-8077-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 10:54:53 [http-nio-8077-exec-3] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-06-27 10:54:59 [http-nio-8077-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/auth/login
2025-06-27 10:54:59 [http-nio-8077-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 10:54:59 [http-nio-8077-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/auth/login
2025-06-27 10:54:59 [http-nio-8077-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/auth/login", parameters={}
2025-06-27 10:54:59 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AuthController#authenticate(LoginRequest)
2025-06-27 10:54:59 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [org.eagle.bank.controller.AuthController$LoginRequest@1ee1cf6c]
2025-06-27 10:54:59 [http-nio-8077-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:54:59 [http-nio-8077-exec-4] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:54:59 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:54:59 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtYWhhdGVzdDExIiwiaWF0IjoxNzUxMDE4MDk5LCJleHAiOjE3NTExMDQ0OTl9 (truncated)...]
2025-06-27 10:54:59 [http-nio-8077-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-06-27 10:55:05 [http-nio-8077-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts
2025-06-27 10:55:06 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:55:06 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:55:06 [http-nio-8077-exec-5] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 1
2025-06-27 10:55:06 [http-nio-8077-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/accounts
2025-06-27 10:55:06 [http-nio-8077-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/accounts", parameters={}
2025-06-27 10:55:06 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AccountController#createAccount(CreateBankAccountRequest, HttpServletRequest)
2025-06-27 10:55:06 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateBankAccountRequest {<EOL>    name: my personal account<EOL>    accountType: personal<EOL>    balance (truncated)...]
2025-06-27 10:55:06 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 10:55:06 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - insert into bank_account (account_number,account_type,balance,name,sort_code,user_id,id) values (?,?,?,?,?,?,default)
2025-06-27 10:55:06 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:55:06 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class BankAccountResponse {<EOL>    accountNumber: 01980699<EOL>    sortCode: 60-73-16<EOL>    name: my personal (truncated)...]
2025-06-27 10:55:06 [http-nio-8077-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 10:55:21 [http-nio-8077-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts/01980699/transactions
2025-06-27 10:55:21 [http-nio-8077-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:55:21 [http-nio-8077-exec-6] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:55:21 [http-nio-8077-exec-6] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 1
2025-06-27 10:55:21 [http-nio-8077-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/accounts/01980699/transactions
2025-06-27 10:55:21 [http-nio-8077-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/accounts/01980699/transactions", parameters={}
2025-06-27 10:55:21 [http-nio-8077-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.TransactionController#createTransaction(String, CreateTransactionRequest, HttpServletRequest)
2025-06-27 10:55:21 [http-nio-8077-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateTransactionRequest {<EOL>    amount: 100<EOL>    type: withdrawal<EOL>    reference: test transactio (truncated)...]
2025-06-27 10:55:21 [http-nio-8077-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 10:55:21 [http-nio-8077-exec-6] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.account_number,a1_0.account_type,a1_0.balance,a1_0.name,a1_0.sort_code from bank_account a1_0 where a1_0.user_id=?
2025-06-27 10:55:21 [http-nio-8077-exec-6] DEBUG org.hibernate.SQL - insert into transaction (account_id,amount,reference,timestamp,type,id) values (?,?,?,?,?,default)
2025-06-27 10:55:21 [http-nio-8077-exec-6] DEBUG org.hibernate.SQL - update bank_account set account_number=?,account_type=?,balance=?,name=?,sort_code=?,user_id=? where id=?
2025-06-27 10:55:21 [http-nio-8077-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:55:21 [http-nio-8077-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class TransactionResponse {<EOL>    id: 1<EOL>    amount: 100<EOL>    type: withdrawal<EOL>    reference: test trans (truncated)...]
2025-06-27 10:55:21 [http-nio-8077-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 10:55:27 [http-nio-8077-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/accounts/01980699/transactions/1
2025-06-27 10:55:27 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:55:27 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:55:27 [http-nio-8077-exec-7] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 1
2025-06-27 10:55:27 [http-nio-8077-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/accounts/01980699/transactions/1
2025-06-27 10:55:27 [http-nio-8077-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v1/accounts/01980699/transactions/1", parameters={}
2025-06-27 10:55:27 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.TransactionController#getTransaction(String, Long, HttpServletRequest)
2025-06-27 10:55:27 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 10:55:27 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.account_number,a1_0.account_type,a1_0.balance,a1_0.name,a1_0.sort_code from bank_account a1_0 where a1_0.user_id=?
2025-06-27 10:55:27 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.reference,t1_0.timestamp,t1_0.type from transaction t1_0 where t1_0.id=? and t1_0.account_id=?
2025-06-27 10:55:27 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:55:27 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class TransactionResponse {<EOL>    id: 1<EOL>    amount: 100.00<EOL>    type: withdrawal<EOL>    reference: test tr (truncated)...]
2025-06-27 10:55:27 [http-nio-8077-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-06-27 10:55:42 [http-nio-8077-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/accounts/01980699/transactions/5
2025-06-27 10:55:42 [http-nio-8077-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:55:42 [http-nio-8077-exec-8] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:55:42 [http-nio-8077-exec-8] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 1
2025-06-27 10:55:42 [http-nio-8077-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/accounts/01980699/transactions/5
2025-06-27 10:55:42 [http-nio-8077-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v1/accounts/01980699/transactions/5", parameters={}
2025-06-27 10:55:42 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.TransactionController#getTransaction(String, Long, HttpServletRequest)
2025-06-27 10:55:42 [http-nio-8077-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 10:55:42 [http-nio-8077-exec-8] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.account_number,a1_0.account_type,a1_0.balance,a1_0.name,a1_0.sort_code from bank_account a1_0 where a1_0.user_id=?
2025-06-27 10:55:42 [http-nio-8077-exec-8] DEBUG org.hibernate.SQL - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.reference,t1_0.timestamp,t1_0.type from transaction t1_0 where t1_0.id=? and t1_0.account_id=?
2025-06-27 10:55:42 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-06-27 10:55:42 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Transaction not found"]
2025-06-27 10:55:42 [http-nio-8077-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-06-27 10:55:51 [http-nio-8077-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/accounts/100/transactions/5
2025-06-27 10:55:51 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 10:55:51 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 10:55:51 [http-nio-8077-exec-9] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 1
2025-06-27 10:55:51 [http-nio-8077-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/accounts/100/transactions/5
2025-06-27 10:55:51 [http-nio-8077-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v1/accounts/100/transactions/5", parameters={}
2025-06-27 10:55:51 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.TransactionController#getTransaction(String, Long, HttpServletRequest)
2025-06-27 10:55:51 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 10:55:51 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.account_number,a1_0.account_type,a1_0.balance,a1_0.name,a1_0.sort_code from bank_account a1_0 where a1_0.user_id=?
2025-06-27 10:55:51 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-06-27 10:55:51 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Account not found or forbidden"]
2025-06-27 10:55:51 [http-nio-8077-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-06-27 10:59:07 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 10:59:07 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-27 10:59:07 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-27 10:59:15 [main] INFO  org.eagle.bank.Main - Starting Main using Java 21.0.6 with PID 28521 (/Users/maha/workspace/barclays/eagle-bank/target/classes started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 10:59:15 [main] DEBUG org.eagle.bank.Main - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 10:59:15 [main] INFO  org.eagle.bank.Main - No active profile set, falling back to 1 default profile: "default"
2025-06-27 10:59:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-27 10:59:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 76 ms. Found 3 JPA repository interfaces.
2025-06-27 10:59:17 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8077 (http)
2025-06-27 10:59:17 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-27 10:59:17 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-06-27 10:59:17 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-27 10:59:17 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2189 ms
2025-06-27 10:59:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-27 10:59:17 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:eaglebankdb user=SA
2025-06-27 10:59:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-27 10:59:17 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:eaglebankdb'
2025-06-27 10:59:17 [main] DEBUG o.e.b.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-06-27 10:59:17 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-27 10:59:17 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2025-06-27 10:59:17 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-27 10:59:18 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-27 10:59:18 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-27 10:59:19 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-27 10:59:19 [main] DEBUG org.hibernate.SQL - create table address (id bigint generated by default as identity, county varchar(255) not null, line1 varchar(255) not null, postcode varchar(255) not null, town varchar(255) not null, primary key (id))
2025-06-27 10:59:19 [main] DEBUG org.hibernate.SQL - create table bank_account (id bigint generated by default as identity, account_number varchar(255) not null, account_type varchar(255) not null, balance numeric(38,2) not null, name varchar(255), sort_code varchar(255) not null, user_id bigint not null, primary key (id))
2025-06-27 10:59:19 [main] DEBUG org.hibernate.SQL - create table transaction (id bigint generated by default as identity, amount numeric(38,2) not null, reference varchar(255), timestamp timestamp(6) with time zone not null, type varchar(255) not null check (type in ('DEPOSIT','WITHDRAWAL')), account_id bigint not null, primary key (id))
2025-06-27 10:59:19 [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, email varchar(255) not null, name varchar(255) not null, password varchar(255) not null, phone_number varchar(255) not null, username varchar(255) not null, address_id bigint not null, primary key (id))
2025-06-27 10:59:19 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_mb8kv2x9143o96jgxbv6mahcq
2025-06-27 10:59:19 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_mb8kv2x9143o96jgxbv6mahcq unique (account_number)
2025-06-27 10:59:19 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_awggvx8byoiap9dq3uik3ul1a
2025-06-27 10:59:19 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_awggvx8byoiap9dq3uik3ul1a unique (sort_code)
2025-06-27 10:59:19 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_6dotkott2kjsp8vw4d0m25fb7
2025-06-27 10:59:19 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-06-27 10:59:19 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_9q63snka3mdh91as4io72espi
2025-06-27 10:59:19 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_9q63snka3mdh91as4io72espi unique (phone_number)
2025-06-27 10:59:19 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_r43af9ap4edm43mmtq01oddj6
2025-06-27 10:59:19 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-06-27 10:59:19 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_hbvhqvjgmhd5omxyo67ynvbyp
2025-06-27 10:59:19 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_hbvhqvjgmhd5omxyo67ynvbyp unique (address_id)
2025-06-27 10:59:19 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint FKftsfxon3d4ectm5bv7glrhlko foreign key (user_id) references users
2025-06-27 10:59:19 [main] DEBUG org.hibernate.SQL - alter table if exists transaction add constraint FK39a303qtsn29mv6kksw98ob2w foreign key (account_id) references bank_account
2025-06-27 10:59:19 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint FKditu6lr4ek16tkxtdsne0gxib foreign key (address_id) references address
2025-06-27 10:59:19 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 10:59:20 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-27 10:59:20 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-06-27 10:59:21 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 19 mappings in 'requestMappingHandlerMapping'
2025-06-27 10:59:21 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-06-27 10:59:21 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2bdf6c7c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13ac1657, org.springframework.security.web.context.SecurityContextHolderFilter@54626326, org.springframework.security.web.header.HeaderWriterFilter@593d0173, org.springframework.web.filter.CorsFilter@52d68eb9, org.springframework.security.web.authentication.logout.LogoutFilter@74727e41, org.eagle.bank.security.JwtAuthenticationFilter@3dc39459, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ea91c39, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55d35f7a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a557a52, org.springframework.security.web.session.SessionManagementFilter@56adb75e, org.springframework.security.web.access.ExceptionTranslationFilter@497cf31a, org.springframework.security.web.access.intercept.AuthorizationFilter@58ec04f4]
2025-06-27 10:59:21 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 10:59:21 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 10:59:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8077 (http) with context path ''
2025-06-27 10:59:21 [main] INFO  org.eagle.bank.Main - Started Main in 7.83 seconds (process running for 8.788)
2025-06-27 10:59:29 [http-nio-8077-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-27 10:59:29 [http-nio-8077-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-27 10:59:29 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-06-27 10:59:29 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-06-27 10:59:29 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-06-27 10:59:29 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4ab1693b
2025-06-27 10:59:29 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@4c364a9d
2025-06-27 10:59:29 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-06-27 10:59:29 [http-nio-8077-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-06-27 10:59:29 [http-nio-8077-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 10:59:29 [http-nio-8077-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 10:59:29 [http-nio-8077-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 10:59:29 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 10:59:29 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 10:59:29 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: Maha<EOL>    address: class CreateUserRequestAddress {<EOL>        line1 (truncated)...]
2025-06-27 10:59:29 [http-nio-8077-exec-2] INFO  o.e.bank.controller.UserController - New user creation request received: Maha
2025-06-27 10:59:30 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - insert into address (county,line1,postcode,town,id) values (?,?,?,?,default)
2025-06-27 10:59:30 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)
2025-06-27 10:59:30 [http-nio-8077-exec-2] INFO  o.e.bank.controller.UserController - New user created: Maha, 1
2025-06-27 10:59:30 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 10:59:30 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class UserResponse {<EOL>    id: 1<EOL>    name: Maha<EOL>    address: class UpdateUserRequestAddress {<EOL>         (truncated)...]
2025-06-27 10:59:30 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 10:59:35 [http-nio-8077-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/users/1
2025-06-27 10:59:35 [http-nio-8077-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.MalformedJwtException: Invalid compact JWT string: Compact JWSs must contain exactly 2 period characters, and compact JWEs must contain exactly 4.  Found: 0
	at io.jsonwebtoken.impl.JwtTokenizer.tokenize(JwtTokenizer.java:102)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:370)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:362)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:821)
	at org.eagle.bank.security.JwtUtil.extractAllClaims(JwtUtil.java:55)
	at org.eagle.bank.security.JwtUtil.extractClaim(JwtUtil.java:47)
	at org.eagle.bank.security.JwtUtil.extractUsername(JwtUtil.java:39)
	at org.eagle.bank.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-27 10:59:35 [http-nio-8077-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-06-27 10:59:35 [http-nio-8077-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 10:59:35 [http-nio-8077-exec-3] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-06-27 11:00:38 [http-nio-8077-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/users/1
2025-06-27 11:00:38 [http-nio-8077-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.MalformedJwtException: Invalid compact JWT string: Compact JWSs must contain exactly 2 period characters, and compact JWEs must contain exactly 4.  Found: 0
	at io.jsonwebtoken.impl.JwtTokenizer.tokenize(JwtTokenizer.java:102)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:370)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:362)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:821)
	at org.eagle.bank.security.JwtUtil.extractAllClaims(JwtUtil.java:55)
	at org.eagle.bank.security.JwtUtil.extractClaim(JwtUtil.java:47)
	at org.eagle.bank.security.JwtUtil.extractUsername(JwtUtil.java:39)
	at org.eagle.bank.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-27 11:00:38 [http-nio-8077-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-06-27 11:00:38 [http-nio-8077-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 11:00:38 [http-nio-8077-exec-6] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-06-27 11:00:45 [http-nio-8077-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/users/1
2025-06-27 11:00:45 [http-nio-8077-exec-7] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.MalformedJwtException: Invalid compact JWT string: Compact JWSs must contain exactly 2 period characters, and compact JWEs must contain exactly 4.  Found: 0
	at io.jsonwebtoken.impl.JwtTokenizer.tokenize(JwtTokenizer.java:102)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:370)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:362)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:821)
	at org.eagle.bank.security.JwtUtil.extractAllClaims(JwtUtil.java:55)
	at org.eagle.bank.security.JwtUtil.extractClaim(JwtUtil.java:47)
	at org.eagle.bank.security.JwtUtil.extractUsername(JwtUtil.java:39)
	at org.eagle.bank.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-27 11:00:45 [http-nio-8077-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-06-27 11:00:45 [http-nio-8077-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 11:00:45 [http-nio-8077-exec-7] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-06-27 11:00:56 [http-nio-8077-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/users/1
2025-06-27 11:01:04 [http-nio-8077-exec-8] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.MalformedJwtException: Invalid compact JWT string: Compact JWSs must contain exactly 2 period characters, and compact JWEs must contain exactly 4.  Found: 0
	at io.jsonwebtoken.impl.JwtTokenizer.tokenize(JwtTokenizer.java:102)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:370)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:362)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:821)
	at org.eagle.bank.security.JwtUtil.extractAllClaims(JwtUtil.java:55)
	at org.eagle.bank.security.JwtUtil.extractClaim(JwtUtil.java:47)
	at org.eagle.bank.security.JwtUtil.extractUsername(JwtUtil.java:39)
	at org.eagle.bank.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-27 11:01:04 [http-nio-8077-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-06-27 11:01:04 [http-nio-8077-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 11:01:04 [http-nio-8077-exec-8] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-06-27 11:01:07 [http-nio-8077-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/users/1
2025-06-27 11:01:30 [http-nio-8077-exec-9] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.MalformedJwtException: Invalid compact JWT string: Compact JWSs must contain exactly 2 period characters, and compact JWEs must contain exactly 4.  Found: 0
	at io.jsonwebtoken.impl.JwtTokenizer.tokenize(JwtTokenizer.java:102)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:370)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:362)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:821)
	at org.eagle.bank.security.JwtUtil.extractAllClaims(JwtUtil.java:55)
	at org.eagle.bank.security.JwtUtil.extractClaim(JwtUtil.java:47)
	at org.eagle.bank.security.JwtUtil.extractUsername(JwtUtil.java:39)
	at org.eagle.bank.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-27 11:01:30 [http-nio-8077-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-06-27 11:01:30 [http-nio-8077-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 11:01:30 [http-nio-8077-exec-9] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-06-27 11:02:12 [http-nio-8077-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/users/1
2025-06-27 11:02:47 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=53s975ms).
2025-06-27 11:02:47 [http-nio-8077-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.MalformedJwtException: Invalid compact JWT string: Compact JWSs must contain exactly 2 period characters, and compact JWEs must contain exactly 4.  Found: 0
	at io.jsonwebtoken.impl.JwtTokenizer.tokenize(JwtTokenizer.java:102)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:370)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:362)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:821)
	at org.eagle.bank.security.JwtUtil.extractAllClaims(JwtUtil.java:55)
	at org.eagle.bank.security.JwtUtil.extractClaim(JwtUtil.java:47)
	at org.eagle.bank.security.JwtUtil.extractUsername(JwtUtil.java:39)
	at org.eagle.bank.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-27 11:02:47 [http-nio-8077-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-06-27 11:02:47 [http-nio-8077-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 11:02:47 [http-nio-8077-exec-1] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-06-27 11:04:25 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 11:04:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-27 11:04:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-27 11:05:09 [main] INFO  org.eagle.bank.Main - Starting Main using Java 21.0.6 with PID 29475 (/Users/maha/workspace/barclays/eagle-bank/target/classes started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 11:05:09 [main] DEBUG org.eagle.bank.Main - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 11:05:09 [main] INFO  org.eagle.bank.Main - No active profile set, falling back to 1 default profile: "default"
2025-06-27 11:05:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-27 11:05:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 74 ms. Found 3 JPA repository interfaces.
2025-06-27 11:05:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8077 (http)
2025-06-27 11:05:11 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-27 11:05:11 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-06-27 11:05:11 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-27 11:05:11 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2199 ms
2025-06-27 11:05:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-27 11:05:11 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:eaglebankdb user=SA
2025-06-27 11:05:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-27 11:05:11 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:eaglebankdb'
2025-06-27 11:05:11 [main] DEBUG o.e.b.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-06-27 11:05:11 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-27 11:05:12 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2025-06-27 11:05:12 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-27 11:05:12 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-27 11:05:12 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-27 11:05:13 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-27 11:05:13 [main] DEBUG org.hibernate.SQL - create table address (id bigint generated by default as identity, county varchar(255) not null, line1 varchar(255) not null, postcode varchar(255) not null, town varchar(255) not null, primary key (id))
2025-06-27 11:05:13 [main] DEBUG org.hibernate.SQL - create table bank_account (id bigint generated by default as identity, account_number varchar(255) not null, account_type varchar(255) not null, balance numeric(38,2) not null, name varchar(255), sort_code varchar(255) not null, user_id bigint not null, primary key (id))
2025-06-27 11:05:13 [main] DEBUG org.hibernate.SQL - create table transaction (id bigint generated by default as identity, amount numeric(38,2) not null, reference varchar(255), timestamp timestamp(6) with time zone not null, type varchar(255) not null check (type in ('DEPOSIT','WITHDRAWAL')), account_id bigint not null, primary key (id))
2025-06-27 11:05:13 [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, email varchar(255) not null, name varchar(255) not null, password varchar(255) not null, phone_number varchar(255) not null, username varchar(255) not null, address_id bigint not null, primary key (id))
2025-06-27 11:05:13 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_mb8kv2x9143o96jgxbv6mahcq
2025-06-27 11:05:13 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_mb8kv2x9143o96jgxbv6mahcq unique (account_number)
2025-06-27 11:05:13 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_awggvx8byoiap9dq3uik3ul1a
2025-06-27 11:05:13 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_awggvx8byoiap9dq3uik3ul1a unique (sort_code)
2025-06-27 11:05:13 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_6dotkott2kjsp8vw4d0m25fb7
2025-06-27 11:05:13 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-06-27 11:05:13 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_9q63snka3mdh91as4io72espi
2025-06-27 11:05:13 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_9q63snka3mdh91as4io72espi unique (phone_number)
2025-06-27 11:05:13 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_r43af9ap4edm43mmtq01oddj6
2025-06-27 11:05:13 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-06-27 11:05:13 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_hbvhqvjgmhd5omxyo67ynvbyp
2025-06-27 11:05:13 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_hbvhqvjgmhd5omxyo67ynvbyp unique (address_id)
2025-06-27 11:05:13 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint FKftsfxon3d4ectm5bv7glrhlko foreign key (user_id) references users
2025-06-27 11:05:13 [main] DEBUG org.hibernate.SQL - alter table if exists transaction add constraint FK39a303qtsn29mv6kksw98ob2w foreign key (account_id) references bank_account
2025-06-27 11:05:13 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint FKditu6lr4ek16tkxtdsne0gxib foreign key (address_id) references address
2025-06-27 11:05:13 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 11:05:14 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-27 11:05:14 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-06-27 11:05:14 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 19 mappings in 'requestMappingHandlerMapping'
2025-06-27 11:05:14 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-06-27 11:05:14 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@721f3526, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@149fab7f, org.springframework.security.web.context.SecurityContextHolderFilter@709353b9, org.springframework.security.web.header.HeaderWriterFilter@440e2406, org.springframework.web.filter.CorsFilter@28d74041, org.springframework.security.web.authentication.logout.LogoutFilter@11c372e9, org.eagle.bank.security.JwtAuthenticationFilter@685d7ba5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@768967cf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@116fe252, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5702232d, org.springframework.security.web.session.SessionManagementFilter@1c00a9f0, org.springframework.security.web.access.ExceptionTranslationFilter@3509f32d, org.springframework.security.web.access.intercept.AuthorizationFilter@6e5106fc]
2025-06-27 11:05:14 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 11:05:14 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 11:05:15 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8077 (http) with context path ''
2025-06-27 11:05:15 [main] INFO  org.eagle.bank.Main - Started Main in 7.282 seconds (process running for 8.137)
2025-06-27 11:05:22 [http-nio-8077-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-27 11:05:22 [http-nio-8077-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-27 11:05:22 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-06-27 11:05:22 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-06-27 11:05:22 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-06-27 11:05:22 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5f9f1886
2025-06-27 11:05:22 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@3f54fabc
2025-06-27 11:05:22 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-06-27 11:05:22 [http-nio-8077-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-06-27 11:05:22 [http-nio-8077-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 11:05:22 [http-nio-8077-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 11:05:22 [http-nio-8077-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 11:05:22 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 11:05:22 [http-nio-8077-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 11:05:22 [http-nio-8077-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: Maha<EOL>    address: class CreateUserRequestAddress {<EOL>        line1 (truncated)...]
2025-06-27 11:05:23 [http-nio-8077-exec-1] INFO  o.e.bank.controller.UserController - New user creation request received: Maha
2025-06-27 11:05:23 [http-nio-8077-exec-1] DEBUG org.hibernate.SQL - insert into address (county,line1,postcode,town,id) values (?,?,?,?,default)
2025-06-27 11:05:23 [http-nio-8077-exec-1] DEBUG org.hibernate.SQL - insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)
2025-06-27 11:05:23 [http-nio-8077-exec-1] INFO  o.e.bank.controller.UserController - New user created: Maha, 1
2025-06-27 11:05:23 [http-nio-8077-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 11:05:23 [http-nio-8077-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class UserResponse {<EOL>    id: 1<EOL>    name: Maha<EOL>    address: class UpdateUserRequestAddress {<EOL>         (truncated)...]
2025-06-27 11:05:23 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 11:05:29 [http-nio-8077-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/users/1
2025-06-27 11:05:30 [http-nio-8077-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
org.eagle.bank.exception.NotLoggedInException: User nor logged in or token is invalid
	at org.eagle.bank.security.JwtUtil.extractAllClaims(JwtUtil.java:62)
	at org.eagle.bank.security.JwtUtil.extractClaim(JwtUtil.java:48)
	at org.eagle.bank.security.JwtUtil.extractUsername(JwtUtil.java:40)
	at org.eagle.bank.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-27 11:05:30 [http-nio-8077-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-06-27 11:05:30 [http-nio-8077-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 11:05:30 [http-nio-8077-exec-3] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-06-27 11:05:49 [http-nio-8077-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/users/1
2025-06-27 11:05:55 [http-nio-8077-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
org.eagle.bank.exception.NotLoggedInException: User nor logged in or token is invalid
	at org.eagle.bank.security.JwtUtil.extractAllClaims(JwtUtil.java:62)
	at org.eagle.bank.security.JwtUtil.extractClaim(JwtUtil.java:48)
	at org.eagle.bank.security.JwtUtil.extractUsername(JwtUtil.java:40)
	at org.eagle.bank.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-27 11:05:55 [http-nio-8077-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-06-27 11:05:55 [http-nio-8077-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 11:05:55 [http-nio-8077-exec-4] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-06-27 11:06:25 [http-nio-8077-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/users/1
2025-06-27 11:06:44 [http-nio-8077-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
org.eagle.bank.exception.NotLoggedInException: User nor logged in or token is invalid
	at org.eagle.bank.security.JwtUtil.extractAllClaims(JwtUtil.java:62)
	at org.eagle.bank.security.JwtUtil.extractClaim(JwtUtil.java:48)
	at org.eagle.bank.security.JwtUtil.extractUsername(JwtUtil.java:40)
	at org.eagle.bank.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-27 11:06:44 [http-nio-8077-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-06-27 11:06:44 [http-nio-8077-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 11:06:44 [http-nio-8077-exec-5] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-06-27 11:07:16 [http-nio-8077-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/auth/login
2025-06-27 11:07:16 [http-nio-8077-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 11:07:16 [http-nio-8077-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/auth/login
2025-06-27 11:07:16 [http-nio-8077-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/auth/login", parameters={}
2025-06-27 11:07:16 [http-nio-8077-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AuthController#authenticate(LoginRequest)
2025-06-27 11:07:16 [http-nio-8077-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [org.eagle.bank.controller.AuthController$LoginRequest@4a1f84cc]
2025-06-27 11:07:20 [http-nio-8077-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 11:07:20 [http-nio-8077-exec-6] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 11:07:21 [http-nio-8077-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 11:07:21 [http-nio-8077-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtYWhhdGVzdDExIiwiaWF0IjoxNzUxMDE4ODQxLCJleHAiOjE3NTExMDUyNDF9 (truncated)...]
2025-06-27 11:07:21 [http-nio-8077-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-06-27 11:07:42 [http-nio-8077-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 11:07:42 [http-nio-8077-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 11:07:42 [http-nio-8077-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 11:07:42 [http-nio-8077-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 11:07:42 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 11:07:42 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: Maha<EOL>    address: class CreateUserRequestAddress {<EOL>        line1 (truncated)...]
2025-06-27 11:07:42 [http-nio-8077-exec-7] INFO  o.e.bank.controller.UserController - New user creation request received: Maha
2025-06-27 11:07:42 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - insert into address (county,line1,postcode,town,id) values (?,?,?,?,default)
2025-06-27 11:07:42 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)
2025-06-27 11:07:42 [http-nio-8077-exec-7] INFO  o.e.bank.controller.UserController - New user created: Maha, 2
2025-06-27 11:07:42 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 11:07:42 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class UserResponse {<EOL>    id: 2<EOL>    name: Maha<EOL>    address: class UpdateUserRequestAddress {<EOL>         (truncated)...]
2025-06-27 11:07:42 [http-nio-8077-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 11:07:48 [http-nio-8077-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts
2025-06-27 11:07:48 [http-nio-8077-exec-8] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
org.eagle.bank.exception.NotLoggedInException: User nor logged in or token is invalid
	at org.eagle.bank.security.JwtUtil.extractAllClaims(JwtUtil.java:62)
	at org.eagle.bank.security.JwtUtil.extractClaim(JwtUtil.java:48)
	at org.eagle.bank.security.JwtUtil.extractUsername(JwtUtil.java:40)
	at org.eagle.bank.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-27 11:07:48 [http-nio-8077-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-06-27 11:07:48 [http-nio-8077-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 11:07:48 [http-nio-8077-exec-8] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-06-27 11:08:13 [http-nio-8077-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/auth/login
2025-06-27 11:08:13 [http-nio-8077-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 11:08:13 [http-nio-8077-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/auth/login
2025-06-27 11:08:13 [http-nio-8077-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/auth/login", parameters={}
2025-06-27 11:08:13 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AuthController#authenticate(LoginRequest)
2025-06-27 11:08:13 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [org.eagle.bank.controller.AuthController$LoginRequest@3fc2c08]
2025-06-27 11:08:13 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 11:08:13 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 11:08:13 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 11:08:13 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtYWhhdGVzdDIxMSIsImlhdCI6MTc1MTAxODg5MywiZXhwIjoxNzUxMTA1Mjkz (truncated)...]
2025-06-27 11:08:13 [http-nio-8077-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-06-27 11:08:20 [http-nio-8077-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts
2025-06-27 11:08:20 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 11:08:20 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 11:08:20 [http-nio-8077-exec-10] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 2
2025-06-27 11:08:20 [http-nio-8077-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/accounts
2025-06-27 11:08:20 [http-nio-8077-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/accounts", parameters={}
2025-06-27 11:08:20 [http-nio-8077-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AccountController#createAccount(CreateBankAccountRequest, HttpServletRequest)
2025-06-27 11:08:20 [http-nio-8077-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateBankAccountRequest {<EOL>    name: my personal account<EOL>    accountType: personal<EOL>    balance (truncated)...]
2025-06-27 11:08:20 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 11:08:20 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - insert into bank_account (account_number,account_type,balance,name,sort_code,user_id,id) values (?,?,?,?,?,?,default)
2025-06-27 11:08:20 [http-nio-8077-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 11:08:20 [http-nio-8077-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class BankAccountResponse {<EOL>    accountNumber: 01248134<EOL>    sortCode: 93-19-84<EOL>    name: my personal (truncated)...]
2025-06-27 11:08:20 [http-nio-8077-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 11:08:30 [http-nio-8077-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts/01248134/transactions
2025-06-27 11:08:30 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 11:08:30 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 11:08:30 [http-nio-8077-exec-2] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 2
2025-06-27 11:08:30 [http-nio-8077-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/accounts/01248134/transactions
2025-06-27 11:08:30 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/accounts/01248134/transactions", parameters={}
2025-06-27 11:08:30 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.TransactionController#createTransaction(String, CreateTransactionRequest, HttpServletRequest)
2025-06-27 11:08:30 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateTransactionRequest {<EOL>    amount: 100<EOL>    type: withdrawal<EOL>    reference: test transactio (truncated)...]
2025-06-27 11:08:30 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 11:08:30 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.account_number,a1_0.account_type,a1_0.balance,a1_0.name,a1_0.sort_code from bank_account a1_0 where a1_0.user_id=?
2025-06-27 11:08:30 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - insert into transaction (account_id,amount,reference,timestamp,type,id) values (?,?,?,?,?,default)
2025-06-27 11:08:30 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - update bank_account set account_number=?,account_type=?,balance=?,name=?,sort_code=?,user_id=? where id=?
2025-06-27 11:08:30 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 11:08:30 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class TransactionResponse {<EOL>    id: 1<EOL>    amount: 100<EOL>    type: withdrawal<EOL>    reference: test trans (truncated)...]
2025-06-27 11:08:30 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 11:08:35 [http-nio-8077-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/accounts/01248134/transactions
2025-06-27 11:08:35 [http-nio-8077-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 11:08:35 [http-nio-8077-exec-1] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 11:08:35 [http-nio-8077-exec-1] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 2
2025-06-27 11:08:35 [http-nio-8077-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/accounts/01248134/transactions
2025-06-27 11:08:35 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v1/accounts/01248134/transactions", parameters={}
2025-06-27 11:08:35 [http-nio-8077-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.TransactionController#listTransactions(String, HttpServletRequest)
2025-06-27 11:08:35 [http-nio-8077-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 11:08:35 [http-nio-8077-exec-1] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.account_number,a1_0.account_type,a1_0.balance,a1_0.name,a1_0.sort_code from bank_account a1_0 where a1_0.user_id=?
2025-06-27 11:08:35 [http-nio-8077-exec-1] DEBUG org.hibernate.SQL - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.reference,t1_0.timestamp,t1_0.type from transaction t1_0 where t1_0.account_id=?
2025-06-27 11:08:35 [http-nio-8077-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 11:08:35 [http-nio-8077-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[class TransactionResponse {<EOL>    id: 1<EOL>    amount: 100.00<EOL>    type: withdrawal<EOL>    reference: test t (truncated)...]
2025-06-27 11:08:35 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-06-27 11:08:39 [http-nio-8077-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/accounts/100/transactions/5
2025-06-27 11:08:39 [http-nio-8077-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 11:08:39 [http-nio-8077-exec-3] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 11:08:39 [http-nio-8077-exec-3] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 2
2025-06-27 11:08:39 [http-nio-8077-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/accounts/100/transactions/5
2025-06-27 11:08:39 [http-nio-8077-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v1/accounts/100/transactions/5", parameters={}
2025-06-27 11:08:39 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.TransactionController#getTransaction(String, Long, HttpServletRequest)
2025-06-27 11:08:39 [http-nio-8077-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 11:08:39 [http-nio-8077-exec-3] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.account_number,a1_0.account_type,a1_0.balance,a1_0.name,a1_0.sort_code from bank_account a1_0 where a1_0.user_id=?
2025-06-27 11:08:39 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-06-27 11:08:39 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Account not found or forbidden"]
2025-06-27 11:08:39 [http-nio-8077-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-06-27 11:08:51 [http-nio-8077-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/accounts/01248134/transactions/1
2025-06-27 11:08:51 [http-nio-8077-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 11:08:51 [http-nio-8077-exec-4] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 11:08:51 [http-nio-8077-exec-4] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 2
2025-06-27 11:08:51 [http-nio-8077-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/accounts/01248134/transactions/1
2025-06-27 11:08:51 [http-nio-8077-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v1/accounts/01248134/transactions/1", parameters={}
2025-06-27 11:08:51 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.TransactionController#getTransaction(String, Long, HttpServletRequest)
2025-06-27 11:08:51 [http-nio-8077-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 11:08:51 [http-nio-8077-exec-4] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.account_number,a1_0.account_type,a1_0.balance,a1_0.name,a1_0.sort_code from bank_account a1_0 where a1_0.user_id=?
2025-06-27 11:08:51 [http-nio-8077-exec-4] DEBUG org.hibernate.SQL - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.reference,t1_0.timestamp,t1_0.type from transaction t1_0 where t1_0.id=? and t1_0.account_id=?
2025-06-27 11:08:51 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 11:08:51 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class TransactionResponse {<EOL>    id: 1<EOL>    amount: 100.00<EOL>    type: withdrawal<EOL>    reference: test tr (truncated)...]
2025-06-27 11:08:51 [http-nio-8077-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-06-27 11:09:15 [http-nio-8077-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 11:09:15 [http-nio-8077-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 11:09:15 [http-nio-8077-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 11:09:15 [http-nio-8077-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 11:09:15 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 11:09:15 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: Maha<EOL>    address: class CreateUserRequestAddress {<EOL>        line1 (truncated)...]
2025-06-27 11:09:15 [http-nio-8077-exec-5] INFO  o.e.bank.controller.UserController - New user creation request received: Maha
2025-06-27 11:09:16 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - insert into address (county,line1,postcode,town,id) values (?,?,?,?,default)
2025-06-27 11:09:16 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)
2025-06-27 11:09:16 [http-nio-8077-exec-5] INFO  o.e.bank.controller.UserController - New user created: Maha, 3
2025-06-27 11:09:16 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 11:09:16 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class UserResponse {<EOL>    id: 3<EOL>    name: Maha<EOL>    address: class UpdateUserRequestAddress {<EOL>         (truncated)...]
2025-06-27 11:09:16 [http-nio-8077-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 11:09:27 [http-nio-8077-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts
2025-06-27 11:09:27 [http-nio-8077-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
org.eagle.bank.exception.NotLoggedInException: User nor logged in or token is invalid
	at org.eagle.bank.security.JwtUtil.extractAllClaims(JwtUtil.java:62)
	at org.eagle.bank.security.JwtUtil.extractClaim(JwtUtil.java:48)
	at org.eagle.bank.security.JwtUtil.extractUsername(JwtUtil.java:40)
	at org.eagle.bank.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-27 11:09:27 [http-nio-8077-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-06-27 11:09:27 [http-nio-8077-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 11:09:27 [http-nio-8077-exec-6] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-06-27 11:09:41 [http-nio-8077-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/auth/login
2025-06-27 11:09:41 [http-nio-8077-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 11:09:41 [http-nio-8077-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/auth/login
2025-06-27 11:09:41 [http-nio-8077-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/auth/login", parameters={}
2025-06-27 11:09:41 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AuthController#authenticate(LoginRequest)
2025-06-27 11:09:41 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [org.eagle.bank.controller.AuthController$LoginRequest@3d113d56]
2025-06-27 11:09:41 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 11:09:41 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 11:09:41 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 11:09:41 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtYWhhdGVzdDMxMSIsImlhdCI6MTc1MTAxODk4MSwiZXhwIjoxNzUxMTA1Mzgx (truncated)...]
2025-06-27 11:09:41 [http-nio-8077-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-06-27 11:09:54 [http-nio-8077-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/accounts/01248134/transactions
2025-06-27 11:09:54 [http-nio-8077-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 11:09:54 [http-nio-8077-exec-8] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 11:09:54 [http-nio-8077-exec-8] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 3
2025-06-27 11:09:54 [http-nio-8077-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/accounts/01248134/transactions
2025-06-27 11:09:54 [http-nio-8077-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v1/accounts/01248134/transactions", parameters={}
2025-06-27 11:09:54 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.TransactionController#listTransactions(String, HttpServletRequest)
2025-06-27 11:09:54 [http-nio-8077-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 11:09:54 [http-nio-8077-exec-8] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.account_number,a1_0.account_type,a1_0.balance,a1_0.name,a1_0.sort_code from bank_account a1_0 where a1_0.user_id=?
2025-06-27 11:09:54 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-06-27 11:09:54 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Account not found or forbidden"]
2025-06-27 11:09:54 [http-nio-8077-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-06-27 11:10:08 [http-nio-8077-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/accounts
2025-06-27 11:10:08 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 11:10:08 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 11:10:08 [http-nio-8077-exec-9] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 3
2025-06-27 11:10:08 [http-nio-8077-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/accounts
2025-06-27 11:10:08 [http-nio-8077-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v1/accounts", parameters={}
2025-06-27 11:10:08 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AccountController#listAccounts(HttpServletRequest)
2025-06-27 11:10:08 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 11:10:08 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - select ba1_0.id,ba1_0.account_number,ba1_0.account_type,ba1_0.balance,ba1_0.name,ba1_0.sort_code,ba1_0.user_id from bank_account ba1_0 where ba1_0.user_id=?
2025-06-27 11:10:08 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 11:10:08 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-06-27 11:10:08 [http-nio-8077-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-06-27 11:10:12 [http-nio-8077-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/accounts/01248134/transactions
2025-06-27 11:10:12 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 11:10:12 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 11:10:12 [http-nio-8077-exec-10] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 3
2025-06-27 11:10:12 [http-nio-8077-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/accounts/01248134/transactions
2025-06-27 11:10:12 [http-nio-8077-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v1/accounts/01248134/transactions", parameters={}
2025-06-27 11:10:12 [http-nio-8077-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.TransactionController#listTransactions(String, HttpServletRequest)
2025-06-27 11:10:12 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 11:10:12 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.account_number,a1_0.account_type,a1_0.balance,a1_0.name,a1_0.sort_code from bank_account a1_0 where a1_0.user_id=?
2025-06-27 11:10:12 [http-nio-8077-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-06-27 11:10:12 [http-nio-8077-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Account not found or forbidden"]
2025-06-27 11:10:12 [http-nio-8077-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-06-27 11:10:16 [http-nio-8077-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts
2025-06-27 11:10:16 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 11:10:16 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 11:10:16 [http-nio-8077-exec-2] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 3
2025-06-27 11:10:16 [http-nio-8077-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/accounts
2025-06-27 11:10:16 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/accounts", parameters={}
2025-06-27 11:10:16 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AccountController#createAccount(CreateBankAccountRequest, HttpServletRequest)
2025-06-27 11:10:16 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateBankAccountRequest {<EOL>    name: my personal account<EOL>    accountType: personal<EOL>    balance (truncated)...]
2025-06-27 11:10:16 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 11:10:16 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - insert into bank_account (account_number,account_type,balance,name,sort_code,user_id,id) values (?,?,?,?,?,?,default)
2025-06-27 11:10:16 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 11:10:16 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class BankAccountResponse {<EOL>    accountNumber: 01607311<EOL>    sortCode: 19-24-32<EOL>    name: my personal (truncated)...]
2025-06-27 11:10:16 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 11:10:23 [http-nio-8077-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts/01607311/transactions
2025-06-27 11:10:23 [http-nio-8077-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 11:10:23 [http-nio-8077-exec-1] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 11:10:23 [http-nio-8077-exec-1] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 3
2025-06-27 11:10:23 [http-nio-8077-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/accounts/01607311/transactions
2025-06-27 11:10:23 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/accounts/01607311/transactions", parameters={}
2025-06-27 11:10:23 [http-nio-8077-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.TransactionController#createTransaction(String, CreateTransactionRequest, HttpServletRequest)
2025-06-27 11:10:23 [http-nio-8077-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateTransactionRequest {<EOL>    amount: 100<EOL>    type: withdrawal<EOL>    reference: test transactio (truncated)...]
2025-06-27 11:10:23 [http-nio-8077-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 11:10:23 [http-nio-8077-exec-1] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.account_number,a1_0.account_type,a1_0.balance,a1_0.name,a1_0.sort_code from bank_account a1_0 where a1_0.user_id=?
2025-06-27 11:10:23 [http-nio-8077-exec-1] DEBUG org.hibernate.SQL - insert into transaction (account_id,amount,reference,timestamp,type,id) values (?,?,?,?,?,default)
2025-06-27 11:10:23 [http-nio-8077-exec-1] DEBUG org.hibernate.SQL - update bank_account set account_number=?,account_type=?,balance=?,name=?,sort_code=?,user_id=? where id=?
2025-06-27 11:10:23 [http-nio-8077-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 11:10:23 [http-nio-8077-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class TransactionResponse {<EOL>    id: 2<EOL>    amount: 100<EOL>    type: withdrawal<EOL>    reference: test trans (truncated)...]
2025-06-27 11:10:23 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 11:41:23 [http-nio-8077-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 11:41:23 [http-nio-8077-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 11:41:23 [http-nio-8077-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 11:41:23 [http-nio-8077-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 11:41:23 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 11:41:23 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: Maha<EOL>    address: class CreateUserRequestAddress {<EOL>        line1 (truncated)...]
2025-06-27 11:41:23 [http-nio-8077-exec-5] INFO  o.e.bank.controller.UserController - New user creation request received: Maha
2025-06-27 11:41:23 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - insert into address (county,line1,postcode,town,id) values (?,?,?,?,default)
2025-06-27 11:41:23 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)
2025-06-27 11:41:23 [http-nio-8077-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 23505, SQLState: 23505
2025-06-27 11:41:23 [http-nio-8077-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Unique index or primary key violation: "PUBLIC.UK_6DOTKOTT2KJSP8VW4D0M25FB7_INDEX_4 ON PUBLIC.USERS(EMAIL NULLS FIRST) VALUES ( /* 3 */ 'mahatest131@test.com' )"; SQL statement:
insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default) [23505-224]
2025-06-27 11:41:23 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleDataIntegrityViolation(DataIntegrityViolationException)
2025-06-27 11:41:23 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 11:41:23 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Phone number, email, and username must be unique.}]
2025-06-27 11:41:23 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Unique index or primary key violation: "PUBLIC.UK_6DOTKOTT2KJSP8VW4D0M25FB7_INDEX_4 ON PUBLIC.USERS(EMAIL NULLS FIRST) VALUES ( /* 3 */ 'mahatest131@test.com' )"; SQL statement:<EOL>insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default) [23505-224]] [insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)]; SQL [insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)]; constraint ["PUBLIC.UK_6DOTKOTT2KJSP8VW4D0M25FB7_INDEX_4 ON PUBLIC.USERS(EMAIL NULLS FIRST) VALUES ( /* 3 */ 'mahatest131@test.com' )"; SQL statement:<EOL>insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default) [23505-224]]]
2025-06-27 11:41:23 [http-nio-8077-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 409 CONFLICT
2025-06-27 11:43:53 [http-nio-8077-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 11:43:53 [http-nio-8077-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 11:43:53 [http-nio-8077-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 11:43:53 [http-nio-8077-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 11:43:53 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 11:43:53 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: Maha<EOL>    address: class CreateUserRequestAddress {<EOL>        line1 (truncated)...]
2025-06-27 11:43:53 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-06-27 11:43:53 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 11:43:53 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{address.line1=must not be blank}]
2025-06-27 11:43:53 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> org.eagle.bank.controller.UserController.createUser(org.eagle.bank.dto.CreateUserRequest): [Field error in object 'createUserRequest' on field 'address.line1': rejected value []; codes [NotBlank.createUserRequest.address.line1,NotBlank.address.line1,NotBlank.line1,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.address.line1,address.line1]; arguments []; default message [address.line1]]; default message [must not be blank]] ]
2025-06-27 11:43:53 [http-nio-8077-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-06-27 11:44:35 [http-nio-8077-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 11:44:35 [http-nio-8077-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 11:44:35 [http-nio-8077-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 11:44:35 [http-nio-8077-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 11:44:35 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 11:44:35 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: Maha<EOL>    address: class CreateUserRequestAddress {<EOL>        line1 (truncated)...]
2025-06-27 11:44:35 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-06-27 11:44:35 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 11:44:35 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{address.line1=must not be blank}]
2025-06-27 11:44:35 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> org.eagle.bank.controller.UserController.createUser(org.eagle.bank.dto.CreateUserRequest): [Field error in object 'createUserRequest' on field 'address.line1': rejected value []; codes [NotBlank.createUserRequest.address.line1,NotBlank.address.line1,NotBlank.line1,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.address.line1,address.line1]; arguments []; default message [address.line1]]; default message [must not be blank]] ]
2025-06-27 11:44:35 [http-nio-8077-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-06-27 11:48:43 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 36354 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 11:48:43 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 11:48:43 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 11:48:43 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@7ed9ae94
2025-06-27 11:48:45 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [/Users/maha/workspace/barclays/eagle-bank/target/classes/org/eagle/bank/security/JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'org.eagle.bank.security.JwtUtil' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-06-27 11:48:45 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-27 11:48:45 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in org.eagle.bank.security.JwtAuthenticationFilter required a bean of type 'org.eagle.bank.security.JwtUtil' that could not be found.


Action:

Consider defining a bean of type 'org.eagle.bank.security.JwtUtil' in your configuration.

2025-06-27 11:48:45 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@79cb8ffa]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@65600fb3 testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@25ce435 key = [org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@b86de0d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1169afe1, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3197ecf3, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@43015c69, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@73158519, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@447bf53a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5a37d3ed, org.springframework.boot.test.context.SpringBootTestAnnotation@3ea313a], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:122)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:106)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:63)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [/Users/maha/workspace/barclays/eagle-bank/target/classes/org/eagle/bank/security/JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'org.eagle.bank.security.JwtUtil' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1357)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 73 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.eagle.bank.security.JwtUtil' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1880)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1406)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 97 common frames omitted
2025-06-27 11:51:17 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 36774 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 11:51:17 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 11:51:17 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 11:51:17 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@534ca02b
2025-06-27 11:51:19 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [/Users/maha/workspace/barclays/eagle-bank/target/classes/org/eagle/bank/security/JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'org.eagle.bank.security.JwtUtil' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-06-27 11:51:19 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-27 11:51:19 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in org.eagle.bank.security.JwtAuthenticationFilter required a bean of type 'org.eagle.bank.security.JwtUtil' that could not be found.


Action:

Consider defining a bean of type 'org.eagle.bank.security.JwtUtil' in your configuration.

2025-06-27 11:51:19 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@1a2e563e]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@25ce435 testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@7ea71fc2 key = [org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2ca26d77, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2ca923bb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@4474f776, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@791d1f8b, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@5f470e92, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@eb569f1c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@f14a7d4, org.springframework.boot.test.context.SpringBootTestAnnotation@7cfd3a24], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:122)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:106)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:63)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [/Users/maha/workspace/barclays/eagle-bank/target/classes/org/eagle/bank/security/JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'org.eagle.bank.security.JwtUtil' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1357)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 73 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.eagle.bank.security.JwtUtil' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1880)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1406)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 97 common frames omitted
2025-06-27 11:55:01 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 37399 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 11:55:01 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 11:55:01 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 11:55:01 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@534ca02b
2025-06-27 11:55:03 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter': Unsatisfied dependency expressed through field 'jwtUtil': No qualifying bean of type 'org.eagle.bank.security.JwtUtil' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-06-27 11:55:03 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-27 11:55:03 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field jwtUtil in org.eagle.bank.security.JwtAuthenticationFilter required a bean of type 'org.eagle.bank.security.JwtUtil' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.eagle.bank.security.JwtUtil' in your configuration.

2025-06-27 11:55:03 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@20bb85b4]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@9690008 testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@42cf6349 key = [org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2ca26d77, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2ca923bb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@4474f776, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@791d1f8b, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@5f470e92, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@eb569f1c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@f14a7d4, org.springframework.boot.test.context.SpringBootTestAnnotation@7cfd3a24], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:122)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:106)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:63)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter': Unsatisfied dependency expressed through field 'jwtUtil': No qualifying bean of type 'org.eagle.bank.security.JwtUtil' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 73 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.eagle.bank.security.JwtUtil' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1880)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1406)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 98 common frames omitted
2025-06-27 11:56:24 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 37614 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 11:56:24 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 11:56:24 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 11:56:24 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@66de00f2
2025-06-27 11:56:25 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter': Unsatisfied dependency expressed through field 'jwtUtil': No qualifying bean of type 'org.eagle.bank.security.JwtUtil' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-06-27 11:56:25 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-27 11:56:25 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field jwtUtil in org.eagle.bank.security.JwtAuthenticationFilter required a bean of type 'org.eagle.bank.security.JwtUtil' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.eagle.bank.security.JwtUtil' in your configuration.

2025-06-27 11:56:25 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@1152900]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@658e7ead testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@cfd5cd2 key = [org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1ec9bd38, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6f8e8894, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@777e84a2, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5e21e98f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@485b0e0b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4a4db37c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@6e01f9b0, org.springframework.boot.test.context.SpringBootTestAnnotation@e1b5016a], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:122)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:106)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:63)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter': Unsatisfied dependency expressed through field 'jwtUtil': No qualifying bean of type 'org.eagle.bank.security.JwtUtil' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 73 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.eagle.bank.security.JwtUtil' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1880)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1406)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 98 common frames omitted
2025-06-27 12:15:58 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=5m15s269ms).
2025-06-27 12:18:02 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 40415 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 12:18:02 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 12:18:02 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 12:18:02 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@4b6ac111
2025-06-27 12:18:05 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter': Unsatisfied dependency expressed through field 'jwtUtil': No qualifying bean of type 'org.eagle.bank.security.JwtUtil' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-06-27 12:18:05 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-27 12:18:05 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field jwtUtil in org.eagle.bank.security.JwtAuthenticationFilter required a bean of type 'org.eagle.bank.security.JwtUtil' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.eagle.bank.security.JwtUtil' in your configuration.

2025-06-27 12:18:05 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@47fb7ec9]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@7cd5fcf4 testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@19cdc217 key = [org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@13df2a8c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1787f2a0, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@6d3f9934, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@24c22fe, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8a74dc34, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ccc2cc92, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@2d9caaeb, org.springframework.boot.test.context.SpringBootTestAnnotation@f525a191], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:122)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:106)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:63)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter': Unsatisfied dependency expressed through field 'jwtUtil': No qualifying bean of type 'org.eagle.bank.security.JwtUtil' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 73 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.eagle.bank.security.JwtUtil' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1880)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1406)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 98 common frames omitted
2025-06-27 12:18:05 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@6206b4a7]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@7cd5fcf4 testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@19cdc217 key = [org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@13df2a8c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1787f2a0, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@6d3f9934, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@24c22fe, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8a74dc34, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ccc2cc92, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@2d9caaeb, org.springframework.boot.test.context.SpringBootTestAnnotation@f525a191], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:122)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:106)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:63)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2025-06-27 12:18:05 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@175581eb]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@7cd5fcf4 testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@19cdc217 key = [org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@13df2a8c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1787f2a0, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@6d3f9934, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@24c22fe, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8a74dc34, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ccc2cc92, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@2d9caaeb, org.springframework.boot.test.context.SpringBootTestAnnotation@f525a191], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:122)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:106)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:63)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2025-06-27 12:18:05 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@5d14e99e]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@7cd5fcf4 testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@19cdc217 key = [org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@13df2a8c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1787f2a0, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@6d3f9934, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@24c22fe, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8a74dc34, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ccc2cc92, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@2d9caaeb, org.springframework.boot.test.context.SpringBootTestAnnotation@f525a191], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:122)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:106)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:63)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2025-06-27 12:19:58 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 40723 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 12:19:58 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 12:19:58 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 12:19:58 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6ecd665
2025-06-27 12:20:01 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 6 mappings in 'requestMappingHandlerMapping'
2025-06-27 12:20:01 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-06-27 12:20:01 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 12:20:01 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 12:20:01 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: a2926797-725f-4ba5-a52a-15afa9f0c950

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-06-27 12:20:01 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@371cd2fc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b32e983, org.springframework.security.web.context.SecurityContextHolderFilter@2d47b06, org.springframework.security.web.header.HeaderWriterFilter@63e70bf9, org.springframework.web.filter.CorsFilter@3c346c45, org.springframework.security.web.csrf.CsrfFilter@580ffea, org.springframework.security.web.authentication.logout.LogoutFilter@69d667a5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@29c244e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@43a59289, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@16df9bde, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@652b3733, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@48106381, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c544c9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@478530cb, org.springframework.security.web.access.ExceptionTranslationFilter@10f20d38, org.springframework.security.web.access.intercept.AuthorizationFilter@b86cb18]
2025-06-27 12:20:01 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-06-27 12:20:01 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-06-27 12:20:01 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-06-27 12:20:01 [main] INFO  o.e.b.c.UserControllerValidationTest - Started UserControllerValidationTest in 3.291 seconds (process running for 5.283)
2025-06-27 12:20:01 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 12:20:01 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json" to [class CreateUserRequest {<EOL>    name: null<EOL>    address: null<EOL>    phoneNumber: +441234567890<EOL>    email: (truncated)...]
2025-06-27 12:20:02 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-06-27 12:20:02 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 12:20:02 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{address=must not be null, name=must not be null}]
2025-06-27 12:20:02 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> org.eagle.bank.controller.UserController.createUser(org.eagle.bank.dto.CreateUserRequest) with 3 errors: [Field error in object 'createUserRequest' on field 'name': rejected value [null]; codes [NotBlank.createUserRequest.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'address': rejected value [null]; codes [NotNull.createUserRequest.address,NotNull.address,NotNull.org.eagle.bank.dto.CreateUserRequestAddress,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.address,address]; arguments []; default message [address]]; default message [must not be null]] [Field error in object 'createUserRequest' on field 'name': rejected value [null]; codes [NotNull.createUserRequest.name,NotNull.name,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be null]] ]
2025-06-27 12:20:02 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 12:20:02 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json" to [class CreateUserRequest {<EOL>    name: null<EOL>    address: null<EOL>    phoneNumber: null<EOL>    email: john@exa (truncated)...]
2025-06-27 12:20:02 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-06-27 12:20:02 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 12:20:02 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{password=Password must not be blank, address=must not be null, phoneNumber=must not be blank, name= (truncated)...]
2025-06-27 12:20:02 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> org.eagle.bank.controller.UserController.createUser(org.eagle.bank.dto.CreateUserRequest) with 7 errors: [Field error in object 'createUserRequest' on field 'name': rejected value [null]; codes [NotNull.createUserRequest.name,NotNull.name,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be null]] [Field error in object 'createUserRequest' on field 'name': rejected value [null]; codes [NotBlank.createUserRequest.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'address': rejected value [null]; codes [NotNull.createUserRequest.address,NotNull.address,NotNull.org.eagle.bank.dto.CreateUserRequestAddress,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.address,address]; arguments []; default message [address]]; default message [must not be null]] [Field error in object 'createUserRequest' on field 'phoneNumber': rejected value [null]; codes [NotNull.createUserRequest.phoneNumber,NotNull.phoneNumber,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.phoneNumber,phoneNumber]; arguments []; default message [phoneNumber]]; default message [must not be null]] [Field error in object 'createUserRequest' on field 'password': rejected value [null]; codes [NotNull.createUserRequest.password,NotNull.password,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.password,password]; arguments []; default message [password]]; default message [must not be null]] [Field error in object 'createUserRequest' on field 'password': rejected value [null]; codes [NotBlank.createUserRequest.password,NotBlank.password,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.password,password]; arguments []; default message [password]]; default message [Password must not be blank]] [Field error in object 'createUserRequest' on field 'phoneNumber': rejected value [null]; codes [NotBlank.createUserRequest.phoneNumber,NotBlank.phoneNumber,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.phoneNumber,phoneNumber]; arguments []; default message [phoneNumber]]; default message [must not be blank]] ]
2025-06-27 12:20:02 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 12:20:02 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json" to [class CreateUserRequest {<EOL>    name: null<EOL>    address: null<EOL>    phoneNumber: null<EOL>    email: john@exa (truncated)...]
2025-06-27 12:20:02 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-06-27 12:20:02 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 12:20:02 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{phoneNumber=must not be null, address=must not be null, name=must not be null, username=must not be (truncated)...]
2025-06-27 12:20:02 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> org.eagle.bank.controller.UserController.createUser(org.eagle.bank.dto.CreateUserRequest) with 7 errors: [Field error in object 'createUserRequest' on field 'name': rejected value [null]; codes [NotBlank.createUserRequest.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'phoneNumber': rejected value [null]; codes [NotBlank.createUserRequest.phoneNumber,NotBlank.phoneNumber,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.phoneNumber,phoneNumber]; arguments []; default message [phoneNumber]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'address': rejected value [null]; codes [NotNull.createUserRequest.address,NotNull.address,NotNull.org.eagle.bank.dto.CreateUserRequestAddress,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.address,address]; arguments []; default message [address]]; default message [must not be null]] [Field error in object 'createUserRequest' on field 'username': rejected value [null]; codes [NotBlank.createUserRequest.username,NotBlank.username,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.username,username]; arguments []; default message [username]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'phoneNumber': rejected value [null]; codes [NotNull.createUserRequest.phoneNumber,NotNull.phoneNumber,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.phoneNumber,phoneNumber]; arguments []; default message [phoneNumber]]; default message [must not be null]] [Field error in object 'createUserRequest' on field 'name': rejected value [null]; codes [NotNull.createUserRequest.name,NotNull.name,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be null]] [Field error in object 'createUserRequest' on field 'username': rejected value [null]; codes [NotNull.createUserRequest.username,NotNull.username,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.username,username]; arguments []; default message [username]]; default message [must not be null]] ]
2025-06-27 12:20:02 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 12:20:02 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json" to [class CreateUserRequest {<EOL>    name: null<EOL>    address: null<EOL>    phoneNumber: null<EOL>    email: null<EOL>    (truncated)...]
2025-06-27 12:20:02 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-06-27 12:20:02 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 12:20:02 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{address=must not be null, phoneNumber=must not be null, name=must not be null, email=must not be bl (truncated)...]
2025-06-27 12:20:02 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> org.eagle.bank.controller.UserController.createUser(org.eagle.bank.dto.CreateUserRequest) with 7 errors: [Field error in object 'createUserRequest' on field 'name': rejected value [null]; codes [NotBlank.createUserRequest.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'email': rejected value [null]; codes [NotNull.createUserRequest.email,NotNull.email,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.email,email]; arguments []; default message [email]]; default message [must not be null]] [Field error in object 'createUserRequest' on field 'email': rejected value [null]; codes [NotBlank.createUserRequest.email,NotBlank.email,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.email,email]; arguments []; default message [email]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'address': rejected value [null]; codes [NotNull.createUserRequest.address,NotNull.address,NotNull.org.eagle.bank.dto.CreateUserRequestAddress,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.address,address]; arguments []; default message [address]]; default message [must not be null]] [Field error in object 'createUserRequest' on field 'phoneNumber': rejected value [null]; codes [NotBlank.createUserRequest.phoneNumber,NotBlank.phoneNumber,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.phoneNumber,phoneNumber]; arguments []; default message [phoneNumber]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'phoneNumber': rejected value [null]; codes [NotNull.createUserRequest.phoneNumber,NotNull.phoneNumber,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.phoneNumber,phoneNumber]; arguments []; default message [phoneNumber]]; default message [must not be null]] [Field error in object 'createUserRequest' on field 'name': rejected value [null]; codes [NotNull.createUserRequest.name,NotNull.name,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be null]] ]
2025-06-27 12:20:02 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@6ecd665, started on Fri Jun 27 12:19:58 BST 2025
2025-06-27 12:26:21 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 41725 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 12:26:21 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 12:26:21 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 12:26:21 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@591fd34d
2025-06-27 12:26:24 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 6 mappings in 'requestMappingHandlerMapping'
2025-06-27 12:26:24 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-06-27 12:26:24 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 12:26:24 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 12:26:24 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 099b1091-84a4-40ac-bc98-0383713394a5

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-06-27 12:26:24 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@371cd2fc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b32e983, org.springframework.security.web.context.SecurityContextHolderFilter@2d47b06, org.springframework.security.web.header.HeaderWriterFilter@63e70bf9, org.springframework.web.filter.CorsFilter@3c346c45, org.springframework.security.web.csrf.CsrfFilter@580ffea, org.springframework.security.web.authentication.logout.LogoutFilter@69d667a5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@29c244e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@43a59289, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@16df9bde, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@652b3733, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@48106381, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c544c9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@478530cb, org.springframework.security.web.access.ExceptionTranslationFilter@10f20d38, org.springframework.security.web.access.intercept.AuthorizationFilter@b86cb18]
2025-06-27 12:26:24 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-06-27 12:26:24 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-06-27 12:26:24 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-06-27 12:26:24 [main] INFO  o.e.b.c.UserControllerValidationTest - Started UserControllerValidationTest in 3.3 seconds (process running for 5.03)
2025-06-27 12:26:24 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 12:26:24 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json" to [class CreateUserRequest {<EOL>    name: null<EOL>    address: null<EOL>    phoneNumber: +441234567890<EOL>    email: (truncated)...]
2025-06-27 12:26:24 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-06-27 12:26:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 12:26:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{address=must not be null, name=must not be null}]
2025-06-27 12:26:24 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> org.eagle.bank.controller.UserController.createUser(org.eagle.bank.dto.CreateUserRequest) with 3 errors: [Field error in object 'createUserRequest' on field 'name': rejected value [null]; codes [NotBlank.createUserRequest.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'address': rejected value [null]; codes [NotNull.createUserRequest.address,NotNull.address,NotNull.org.eagle.bank.dto.CreateUserRequestAddress,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.address,address]; arguments []; default message [address]]; default message [must not be null]] [Field error in object 'createUserRequest' on field 'name': rejected value [null]; codes [NotNull.createUserRequest.name,NotNull.name,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be null]] ]
2025-06-27 12:26:24 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@591fd34d, started on Fri Jun 27 12:26:21 BST 2025
2025-06-27 12:27:21 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 41890 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 12:27:21 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 12:27:21 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 12:27:21 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@736ac09a
2025-06-27 12:27:23 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 6 mappings in 'requestMappingHandlerMapping'
2025-06-27 12:27:24 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-06-27 12:27:24 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 12:27:24 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 12:27:24 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 14e7470b-c1a0-4a8a-97a6-bed9cc75ed12

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-06-27 12:27:24 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@44aeae34, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ec5cc14, org.springframework.security.web.context.SecurityContextHolderFilter@87aec6a, org.springframework.security.web.header.HeaderWriterFilter@3c544c9, org.springframework.web.filter.CorsFilter@40a8a26f, org.springframework.security.web.csrf.CsrfFilter@7f2ca6f8, org.springframework.security.web.authentication.logout.LogoutFilter@965bcbc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@686b1e2d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@175ac243, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@269308cc, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@16df9bde, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43a59289, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c2883b1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@177ddd24, org.springframework.security.web.access.ExceptionTranslationFilter@59371066, org.springframework.security.web.access.intercept.AuthorizationFilter@4d2f9e3c]
2025-06-27 12:27:24 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-06-27 12:27:24 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-06-27 12:27:24 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-06-27 12:27:24 [main] INFO  o.e.b.c.UserControllerValidationTest - Started UserControllerValidationTest in 3.231 seconds (process running for 4.474)
2025-06-27 12:27:24 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 12:27:24 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json" to [class CreateUserRequest {<EOL>    name: null<EOL>    address: null<EOL>    phoneNumber: +441234567890<EOL>    email: (truncated)...]
2025-06-27 12:27:24 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-06-27 12:27:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 12:27:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{address=must not be null, name=must not be null}]
2025-06-27 12:27:24 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> org.eagle.bank.controller.UserController.createUser(org.eagle.bank.dto.CreateUserRequest) with 3 errors: [Field error in object 'createUserRequest' on field 'address': rejected value [null]; codes [NotNull.createUserRequest.address,NotNull.address,NotNull.org.eagle.bank.dto.CreateUserRequestAddress,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.address,address]; arguments []; default message [address]]; default message [must not be null]] [Field error in object 'createUserRequest' on field 'name': rejected value [null]; codes [NotBlank.createUserRequest.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'name': rejected value [null]; codes [NotNull.createUserRequest.name,NotNull.name,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be null]] ]
2025-06-27 12:27:24 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 12:27:24 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json" to [class CreateUserRequest {<EOL>    name: null<EOL>    address: null<EOL>    phoneNumber: null<EOL>    email: john@exa (truncated)...]
2025-06-27 12:27:24 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-06-27 12:27:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 12:27:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{password=must not be null, phoneNumber=must not be blank, address=must not be null, name=must not b (truncated)...]
2025-06-27 12:27:24 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> org.eagle.bank.controller.UserController.createUser(org.eagle.bank.dto.CreateUserRequest) with 7 errors: [Field error in object 'createUserRequest' on field 'name': rejected value [null]; codes [NotBlank.createUserRequest.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'phoneNumber': rejected value [null]; codes [NotNull.createUserRequest.phoneNumber,NotNull.phoneNumber,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.phoneNumber,phoneNumber]; arguments []; default message [phoneNumber]]; default message [must not be null]] [Field error in object 'createUserRequest' on field 'name': rejected value [null]; codes [NotNull.createUserRequest.name,NotNull.name,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be null]] [Field error in object 'createUserRequest' on field 'password': rejected value [null]; codes [NotBlank.createUserRequest.password,NotBlank.password,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.password,password]; arguments []; default message [password]]; default message [Password must not be blank]] [Field error in object 'createUserRequest' on field 'address': rejected value [null]; codes [NotNull.createUserRequest.address,NotNull.address,NotNull.org.eagle.bank.dto.CreateUserRequestAddress,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.address,address]; arguments []; default message [address]]; default message [must not be null]] [Field error in object 'createUserRequest' on field 'password': rejected value [null]; codes [NotNull.createUserRequest.password,NotNull.password,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.password,password]; arguments []; default message [password]]; default message [must not be null]] [Field error in object 'createUserRequest' on field 'phoneNumber': rejected value [null]; codes [NotBlank.createUserRequest.phoneNumber,NotBlank.phoneNumber,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.phoneNumber,phoneNumber]; arguments []; default message [phoneNumber]]; default message [must not be blank]] ]
2025-06-27 12:27:24 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 12:27:24 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json" to [class CreateUserRequest {<EOL>    name: John Doe<EOL>    address: class CreateUserRequestAddress {<EOL>        l (truncated)...]
2025-06-27 12:27:24 [main] INFO  o.e.bank.controller.UserController - New user creation request received: John Doe
2025-06-27 12:27:24 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-06-27 12:27:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 12:27:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=source cannot be null}]
2025-06-27 12:27:24 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: source cannot be null]
2025-06-27 12:27:24 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 12:27:24 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json" to [class CreateUserRequest {<EOL>    name: null<EOL>    address: null<EOL>    phoneNumber: null<EOL>    email: null<EOL>    (truncated)...]
2025-06-27 12:27:24 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-06-27 12:27:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 12:27:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{address=must not be null, phoneNumber=must not be null, name=must not be null, email=must not be nu (truncated)...]
2025-06-27 12:27:24 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> org.eagle.bank.controller.UserController.createUser(org.eagle.bank.dto.CreateUserRequest) with 7 errors: [Field error in object 'createUserRequest' on field 'address': rejected value [null]; codes [NotNull.createUserRequest.address,NotNull.address,NotNull.org.eagle.bank.dto.CreateUserRequestAddress,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.address,address]; arguments []; default message [address]]; default message [must not be null]] [Field error in object 'createUserRequest' on field 'phoneNumber': rejected value [null]; codes [NotBlank.createUserRequest.phoneNumber,NotBlank.phoneNumber,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.phoneNumber,phoneNumber]; arguments []; default message [phoneNumber]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'email': rejected value [null]; codes [NotBlank.createUserRequest.email,NotBlank.email,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.email,email]; arguments []; default message [email]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'email': rejected value [null]; codes [NotNull.createUserRequest.email,NotNull.email,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.email,email]; arguments []; default message [email]]; default message [must not be null]] [Field error in object 'createUserRequest' on field 'name': rejected value [null]; codes [NotBlank.createUserRequest.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'phoneNumber': rejected value [null]; codes [NotNull.createUserRequest.phoneNumber,NotNull.phoneNumber,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.phoneNumber,phoneNumber]; arguments []; default message [phoneNumber]]; default message [must not be null]] [Field error in object 'createUserRequest' on field 'name': rejected value [null]; codes [NotNull.createUserRequest.name,NotNull.name,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be null]] ]
2025-06-27 12:27:24 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@736ac09a, started on Fri Jun 27 12:27:21 BST 2025
2025-06-27 12:28:41 [http-nio-8077-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 12:28:41 [http-nio-8077-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 12:28:41 [http-nio-8077-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 12:28:41 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 12:28:41 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 12:28:41 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: Maha<EOL>    address: class CreateUserRequestAddress {<EOL>        line1 (truncated)...]
2025-06-27 12:28:41 [http-nio-8077-exec-2] INFO  o.e.bank.controller.UserController - New user creation request received: Maha
2025-06-27 12:28:41 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - insert into address (county,line1,postcode,town,id) values (?,?,?,?,default)
2025-06-27 12:28:41 [http-nio-8077-exec-2] DEBUG org.hibernate.SQL - insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)
2025-06-27 12:28:41 [http-nio-8077-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 23505, SQLState: 23505
2025-06-27 12:28:41 [http-nio-8077-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Unique index or primary key violation: "PUBLIC.UK_6DOTKOTT2KJSP8VW4D0M25FB7_INDEX_4 ON PUBLIC.USERS(EMAIL NULLS FIRST) VALUES ( /* 3 */ 'mahatest131@test.com' )"; SQL statement:
insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default) [23505-224]
2025-06-27 12:28:41 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleDataIntegrityViolation(DataIntegrityViolationException)
2025-06-27 12:28:41 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 12:28:41 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Phone number, email, and username must be unique.}]
2025-06-27 12:28:41 [http-nio-8077-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Unique index or primary key violation: "PUBLIC.UK_6DOTKOTT2KJSP8VW4D0M25FB7_INDEX_4 ON PUBLIC.USERS(EMAIL NULLS FIRST) VALUES ( /* 3 */ 'mahatest131@test.com' )"; SQL statement:<EOL>insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default) [23505-224]] [insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)]; SQL [insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)]; constraint ["PUBLIC.UK_6DOTKOTT2KJSP8VW4D0M25FB7_INDEX_4 ON PUBLIC.USERS(EMAIL NULLS FIRST) VALUES ( /* 3 */ 'mahatest131@test.com' )"; SQL statement:<EOL>insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default) [23505-224]]]
2025-06-27 12:28:41 [http-nio-8077-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 409 CONFLICT
2025-06-27 12:28:48 [http-nio-8077-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 12:28:48 [http-nio-8077-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 12:28:48 [http-nio-8077-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 12:28:48 [http-nio-8077-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 12:28:48 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 12:28:48 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: Maha<EOL>    address: class CreateUserRequestAddress {<EOL>        line1 (truncated)...]
2025-06-27 12:28:48 [http-nio-8077-exec-3] INFO  o.e.bank.controller.UserController - New user creation request received: Maha
2025-06-27 12:28:48 [http-nio-8077-exec-3] DEBUG org.hibernate.SQL - insert into address (county,line1,postcode,town,id) values (?,?,?,?,default)
2025-06-27 12:28:48 [http-nio-8077-exec-3] DEBUG org.hibernate.SQL - insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)
2025-06-27 12:28:48 [http-nio-8077-exec-3] INFO  o.e.bank.controller.UserController - New user created: Maha, 6
2025-06-27 12:28:48 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 12:28:48 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class UserResponse {<EOL>    id: 6<EOL>    name: Maha<EOL>    address: class UpdateUserRequestAddress {<EOL>         (truncated)...]
2025-06-27 12:28:48 [http-nio-8077-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 12:29:28 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 42233 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 12:29:28 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 12:29:28 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 12:29:28 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5491f68b
2025-06-27 12:29:30 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 6 mappings in 'requestMappingHandlerMapping'
2025-06-27 12:29:30 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-06-27 12:29:30 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 12:29:30 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 12:29:30 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: cda1a348-2552-4b90-9c31-c091b85abd3c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-06-27 12:29:30 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@b32e983, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c346c45, org.springframework.security.web.context.SecurityContextHolderFilter@59371066, org.springframework.security.web.header.HeaderWriterFilter@402a69f, org.springframework.web.filter.CorsFilter@16df9bde, org.springframework.security.web.csrf.CsrfFilter@191e654, org.springframework.security.web.authentication.logout.LogoutFilter@7fe87c0e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6cc8da1c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6c2883b1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@478530cb, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7b598d05, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c544c9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22e813fc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5be7b749, org.springframework.security.web.access.ExceptionTranslationFilter@538aa83f, org.springframework.security.web.access.intercept.AuthorizationFilter@29c244e]
2025-06-27 12:29:31 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-06-27 12:29:31 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-06-27 12:29:31 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-06-27 12:29:31 [main] INFO  o.e.b.c.UserControllerValidationTest - Started UserControllerValidationTest in 3.631 seconds (process running for 5.346)
2025-06-27 12:29:31 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 12:29:31 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json" to [class CreateUserRequest {<EOL>    name: John Doe<EOL>    address: class CreateUserRequestAddress {<EOL>        l (truncated)...]
2025-06-27 12:29:31 [main] INFO  o.e.bank.controller.UserController - New user creation request received: John Doe
2025-06-27 12:29:31 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-06-27 12:29:31 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 12:29:31 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=source cannot be null}]
2025-06-27 12:29:31 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: source cannot be null]
2025-06-27 12:29:31 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@5491f68b, started on Fri Jun 27 12:29:28 BST 2025
2025-06-27 12:30:14 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 42353 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 12:30:14 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 12:30:14 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 12:30:14 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@26ae880a
2025-06-27 12:30:16 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 6 mappings in 'requestMappingHandlerMapping'
2025-06-27 12:30:16 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-06-27 12:30:16 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 12:30:16 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 12:30:16 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 6ce31bb1-89d0-4b4b-bb46-835cacd7ba3c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-06-27 12:30:17 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@304744a1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73385d3f, org.springframework.security.web.context.SecurityContextHolderFilter@495da9a7, org.springframework.security.web.header.HeaderWriterFilter@7742a276, org.springframework.web.filter.CorsFilter@6814262d, org.springframework.security.web.csrf.CsrfFilter@6febec41, org.springframework.security.web.authentication.logout.LogoutFilter@1f6c4ae, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4b336cc8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3bcc8f13, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7fc1fd31, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6be50b35, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@732d078d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@58bad46f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@75a9cc24, org.springframework.security.web.access.ExceptionTranslationFilter@60194904, org.springframework.security.web.access.intercept.AuthorizationFilter@3c4059a]
2025-06-27 12:30:17 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-06-27 12:30:17 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-06-27 12:30:17 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-06-27 12:30:17 [main] INFO  o.e.b.c.UserControllerValidationTest - Started UserControllerValidationTest in 3.61 seconds (process running for 6.046)
2025-06-27 12:31:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 12:31:47 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json" to [class CreateUserRequest {<EOL>    name: John Doe<EOL>    address: class CreateUserRequestAddress {<EOL>        l (truncated)...]
2025-06-27 12:31:48 [main] INFO  o.e.bank.controller.UserController - New user creation request received: John Doe
2025-06-27 12:31:49 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-06-27 12:32:23 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 12:32:23 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=source cannot be null}]
2025-06-27 12:32:23 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: source cannot be null]
2025-06-27 12:32:24 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@26ae880a, started on Fri Jun 27 12:30:14 BST 2025
2025-06-27 12:38:58 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 43727 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 12:38:58 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 12:38:58 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 12:38:58 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3c0036b
2025-06-27 12:39:00 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 6 mappings in 'requestMappingHandlerMapping'
2025-06-27 12:39:00 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-06-27 12:39:01 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 12:39:01 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 12:39:01 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: cca04d75-cd3c-4de1-b28c-d5f20ef48e98

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-06-27 12:39:01 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@402f61f5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6480a063, org.springframework.security.web.context.SecurityContextHolderFilter@6b751cb1, org.springframework.security.web.header.HeaderWriterFilter@6f112f70, org.springframework.web.filter.CorsFilter@2f6f4ac4, org.springframework.security.web.csrf.CsrfFilter@2a42019a, org.springframework.security.web.authentication.logout.LogoutFilter@4b336cc8, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6814262d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@61b8c9de, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@727dcc64, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4e5d5ac1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4ec427, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c8d45cf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@49e62b17, org.springframework.security.web.access.ExceptionTranslationFilter@73d91faf, org.springframework.security.web.access.intercept.AuthorizationFilter@73385d3f]
2025-06-27 12:39:01 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-06-27 12:39:01 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-06-27 12:39:01 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-06-27 12:39:01 [main] INFO  o.e.b.c.UserControllerValidationTest - Started UserControllerValidationTest in 3.541 seconds (process running for 4.974)
2025-06-27 12:39:18 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 12:39:18 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json" to [class CreateUserRequest {<EOL>    name: John Doe<EOL>    address: class CreateUserRequestAddress {<EOL>        l (truncated)...]
2025-06-27 12:39:19 [main] INFO  o.e.bank.controller.UserController - New user creation request received: John Doe
2025-06-27 12:39:19 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-06-27 12:40:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 12:40:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=source cannot be null}]
2025-06-27 12:40:24 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: source cannot be null]
2025-06-27 12:40:25 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@3c0036b, started on Fri Jun 27 12:38:58 BST 2025
2025-06-27 12:42:59 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 44356 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 12:42:59 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 12:42:59 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 12:42:59 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@50d3bf39
2025-06-27 12:43:02 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 6 mappings in 'requestMappingHandlerMapping'
2025-06-27 12:43:02 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-06-27 12:43:02 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 12:43:02 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 12:43:02 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: fc027f42-901a-41bb-b06d-88389fe8fe32

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-06-27 12:43:03 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@75b363c3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6ea3a513, org.springframework.security.web.context.SecurityContextHolderFilter@57b63253, org.springframework.security.web.header.HeaderWriterFilter@79b8ecb, org.springframework.web.filter.CorsFilter@3c4059a, org.springframework.security.web.csrf.CsrfFilter@7b332b23, org.springframework.security.web.authentication.logout.LogoutFilter@73d91faf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5b490d5e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@65d90b7f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4b336cc8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2c56eba5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c1ea7be, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2493eec6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2570b316, org.springframework.security.web.access.ExceptionTranslationFilter@3de88f64, org.springframework.security.web.access.intercept.AuthorizationFilter@b34c7c9]
2025-06-27 12:43:03 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-06-27 12:43:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-06-27 12:43:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-06-27 12:43:03 [main] INFO  o.e.b.c.UserControllerValidationTest - Started UserControllerValidationTest in 4.591 seconds (process running for 7.109)
2025-06-27 12:43:56 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 12:43:56 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json" to [class CreateUserRequest {<EOL>    name: John Doe<EOL>    address: class CreateUserRequestAddress {<EOL>        l (truncated)...]
2025-06-27 12:43:56 [main] INFO  o.e.bank.controller.UserController - New user creation request received: John Doe
2025-06-27 12:43:56 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-06-27 12:43:58 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 12:43:58 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=source cannot be null}]
2025-06-27 12:43:58 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: source cannot be null]
2025-06-27 12:43:58 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@50d3bf39, started on Fri Jun 27 12:42:59 BST 2025
2025-06-27 12:47:35 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 45091 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 12:47:35 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 12:47:35 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 12:47:35 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@26f96b85
2025-06-27 12:47:42 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 6 mappings in 'requestMappingHandlerMapping'
2025-06-27 12:47:42 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-06-27 12:47:42 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 12:47:42 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 12:47:42 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 5d2f9a35-cd16-491b-981d-5725b85e2342

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-06-27 12:47:43 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2166c48a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@304744a1, org.springframework.security.web.context.SecurityContextHolderFilter@35b3c1f6, org.springframework.security.web.header.HeaderWriterFilter@4db6348b, org.springframework.web.filter.CorsFilter@73385d3f, org.springframework.security.web.csrf.CsrfFilter@9880a15, org.springframework.security.web.authentication.logout.LogoutFilter@5b490d5e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3c4059a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@35becbd4, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6814262d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@18513c23, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2beee3e8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@732d078d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fc1fd31, org.springframework.security.web.access.ExceptionTranslationFilter@6fc0e448, org.springframework.security.web.access.intercept.AuthorizationFilter@6ea3a513]
2025-06-27 12:47:43 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-06-27 12:47:43 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-06-27 12:47:43 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-06-27 12:47:43 [main] INFO  o.e.b.c.UserControllerValidationTest - Started UserControllerValidationTest in 9.288 seconds (process running for 13.487)
2025-06-27 12:48:20 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 12:48:20 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json" to [class CreateUserRequest {<EOL>    name: John Doe<EOL>    address: class CreateUserRequestAddress {<EOL>        l (truncated)...]
2025-06-27 12:48:23 [main] INFO  o.e.bank.controller.UserController - New user creation request received: John Doe
2025-06-27 12:48:24 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-06-27 12:49:19 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 12:49:19 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=source cannot be null}]
2025-06-27 12:49:20 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: source cannot be null]
2025-06-27 12:49:20 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@26f96b85, started on Fri Jun 27 12:47:35 BST 2025
2025-06-27 12:49:40 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 45405 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 12:49:40 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 12:49:40 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 12:49:40 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3c017078
2025-06-27 12:49:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 6 mappings in 'requestMappingHandlerMapping'
2025-06-27 12:49:46 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-06-27 12:49:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 12:49:46 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 12:49:46 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 9722ee38-cc06-4054-93c2-e7e6d52d6e76

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-06-27 12:49:47 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@58ebee9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@131c0b6f, org.springframework.security.web.context.SecurityContextHolderFilter@65d90b7f, org.springframework.security.web.header.HeaderWriterFilter@4ec0229c, org.springframework.web.filter.CorsFilter@7f030c72, org.springframework.security.web.csrf.CsrfFilter@6dbbdf92, org.springframework.security.web.authentication.logout.LogoutFilter@4c8d45cf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@246df37b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@495da9a7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@68d8ae27, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@56881196, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6fc0e448, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60194904, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@18513c23, org.springframework.security.web.access.ExceptionTranslationFilter@2493eec6, org.springframework.security.web.access.intercept.AuthorizationFilter@3eee08f5]
2025-06-27 12:49:47 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-06-27 12:49:47 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-06-27 12:49:47 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-06-27 12:49:47 [main] INFO  o.e.b.c.UserControllerValidationTest - Started UserControllerValidationTest in 8.587 seconds (process running for 14.897)
2025-06-27 12:49:50 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 12:49:51 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json" to [class CreateUserRequest {<EOL>    name: John Doe<EOL>    address: class CreateUserRequestAddress {<EOL>        l (truncated)...]
2025-06-27 12:50:12 [main] INFO  o.e.bank.controller.UserController - New user creation request received: John Doe
2025-06-27 12:50:44 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-06-27 12:50:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 12:50:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=source cannot be null}]
2025-06-27 12:50:48 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: source cannot be null]
2025-06-27 12:50:48 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@3c017078, started on Fri Jun 27 12:49:40 BST 2025
2025-06-27 12:51:15 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 45648 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 12:51:15 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 12:51:15 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 12:51:15 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6bd16207
2025-06-27 12:51:20 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 6 mappings in 'requestMappingHandlerMapping'
2025-06-27 12:51:20 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-06-27 12:51:20 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 12:51:20 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 12:51:20 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 99e3c127-5887-468c-94c8-6c65f51927bb

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-06-27 12:51:21 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7fc1fd31, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@75a9cc24, org.springframework.security.web.context.SecurityContextHolderFilter@58bad46f, org.springframework.security.web.header.HeaderWriterFilter@495da9a7, org.springframework.web.filter.CorsFilter@4449a60b, org.springframework.security.web.csrf.CsrfFilter@79b8ecb, org.springframework.security.web.authentication.logout.LogoutFilter@18b04526, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@75c33608, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@30fa8a6b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@da5d5e1, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@304744a1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@20231384, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ba97962, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d7d8911, org.springframework.security.web.access.ExceptionTranslationFilter@1f48fa72, org.springframework.security.web.access.intercept.AuthorizationFilter@56881196]
2025-06-27 12:51:21 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-06-27 12:51:21 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-06-27 12:51:21 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-06-27 12:51:21 [main] INFO  o.e.b.c.UserControllerValidationTest - Started UserControllerValidationTest in 7.917 seconds (process running for 12.149)
2025-06-27 12:51:56 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 12:51:56 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json" to [class CreateUserRequest {<EOL>    name: John Doe<EOL>    address: class CreateUserRequestAddress {<EOL>        l (truncated)...]
2025-06-27 12:51:58 [main] INFO  o.e.bank.controller.UserController - New user creation request received: John Doe
2025-06-27 12:53:04 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-06-27 12:53:06 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 12:53:06 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=source cannot be null}]
2025-06-27 12:53:06 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: source cannot be null]
2025-06-27 12:53:07 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@6bd16207, started on Fri Jun 27 12:51:15 BST 2025
2025-06-27 12:53:39 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 45991 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 12:53:39 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 12:53:39 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 12:53:39 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@522ba524
2025-06-27 12:53:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 6 mappings in 'requestMappingHandlerMapping'
2025-06-27 12:53:49 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-06-27 12:53:49 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 12:53:49 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 12:53:49 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 621b8e26-3bc6-4662-8eeb-d93b0018e21f

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-06-27 12:53:50 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@13404f75, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6cc90398, org.springframework.security.web.context.SecurityContextHolderFilter@16f4a3c0, org.springframework.security.web.header.HeaderWriterFilter@6c1b82cd, org.springframework.web.filter.CorsFilter@6b6fd0, org.springframework.security.web.csrf.CsrfFilter@2248d140, org.springframework.security.web.authentication.logout.LogoutFilter@4e10a320, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@66e12c3b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@75ee6f89, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3d718248, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@41f7c02d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@45c408a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@369a95a5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2cdb5974, org.springframework.security.web.access.ExceptionTranslationFilter@6dbb3d7d, org.springframework.security.web.access.intercept.AuthorizationFilter@2ae2fa13]
2025-06-27 12:53:50 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-06-27 12:53:50 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-06-27 12:53:50 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 3 ms
2025-06-27 12:53:50 [main] INFO  o.e.b.c.UserControllerValidationTest - Started UserControllerValidationTest in 13.86 seconds (process running for 19.065)
2025-06-27 12:53:58 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 12:53:58 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json" to [class CreateUserRequest {<EOL>    name: John Doe<EOL>    address: class CreateUserRequestAddress {<EOL>        l (truncated)...]
2025-06-27 12:54:02 [main] INFO  o.e.bank.controller.UserController - New user creation request received: John Doe
2025-06-27 12:54:35 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-06-27 12:54:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 12:54:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=source cannot be null}]
2025-06-27 12:54:36 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: source cannot be null]
2025-06-27 12:54:36 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@522ba524, started on Fri Jun 27 12:53:39 BST 2025
2025-06-27 12:56:40 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 46452 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 12:56:40 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 12:56:40 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 12:56:41 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@26ae880a
2025-06-27 12:56:46 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userController': Unsatisfied dependency expressed through field 'userService': No qualifying bean of type 'org.eagle.bank.service.UserService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-06-27 12:56:46 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-27 12:56:46 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field userService in org.eagle.bank.controller.UserController required a bean of type 'org.eagle.bank.service.UserService' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.eagle.bank.service.UserService' in your configuration.

2025-06-27 12:56:46 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@3cf55e0c]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@147e0734 testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@2bdab835 key = [org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3c7c886c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6b88ca8c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@71572da8, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@4f9a2c08, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@57207a56, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec986dfc, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@142269f2, org.springframework.boot.test.context.SpringBootTestAnnotation@6cbf08d0], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:122)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:106)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:63)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userController': Unsatisfied dependency expressed through field 'userService': No qualifying bean of type 'org.eagle.bank.service.UserService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 73 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.eagle.bank.service.UserService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1880)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1406)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 98 common frames omitted
2025-06-27 12:58:00 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 46660 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 12:58:00 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 12:58:00 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 12:58:00 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@63ec445c
2025-06-27 12:58:06 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 6 mappings in 'requestMappingHandlerMapping'
2025-06-27 12:58:06 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-06-27 12:58:06 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 12:58:06 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 12:58:07 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 76a9fb39-e84f-445e-9494-45cbf8844b82

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-06-27 12:58:07 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@38ebc866, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6adcf059, org.springframework.security.web.context.SecurityContextHolderFilter@356f20b7, org.springframework.security.web.header.HeaderWriterFilter@6e668322, org.springframework.web.filter.CorsFilter@7962a746, org.springframework.security.web.csrf.CsrfFilter@398f0516, org.springframework.security.web.authentication.logout.LogoutFilter@4c6fc3e7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@41f7c02d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@35f760a4, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1c31de5d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@62360a68, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@69de72ec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21c99abf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7a7f9d45, org.springframework.security.web.access.ExceptionTranslationFilter@69d7bc1a, org.springframework.security.web.access.intercept.AuthorizationFilter@5b5b9521]
2025-06-27 12:58:07 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-06-27 12:58:07 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-06-27 12:58:07 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-06-27 12:58:07 [main] INFO  o.e.b.c.UserControllerValidationTest - Started UserControllerValidationTest in 8.649 seconds (process running for 13.793)
2025-06-27 12:58:10 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 12:58:11 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json" to [class CreateUserRequest {<EOL>    name: John Doe<EOL>    address: class CreateUserRequestAddress {<EOL>        l (truncated)...]
2025-06-27 12:58:13 [main] INFO  o.e.bank.controller.UserController - New user creation request received: John Doe
2025-06-27 12:58:50 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-06-27 12:58:51 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 12:58:51 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=source cannot be null}]
2025-06-27 12:58:51 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: source cannot be null]
2025-06-27 12:58:52 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@63ec445c, started on Fri Jun 27 12:58:00 BST 2025
2025-06-27 12:59:43 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 46928 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 12:59:43 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 12:59:43 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 12:59:43 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1813f3e9
2025-06-27 12:59:49 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 6 mappings in 'requestMappingHandlerMapping'
2025-06-27 12:59:50 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-06-27 12:59:50 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 12:59:50 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 12:59:50 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: a8fd44b1-0c7a-40d5-89e6-13f6b09d68b0

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-06-27 12:59:50 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6e49b011, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a709cc7, org.springframework.security.web.context.SecurityContextHolderFilter@2a16d4dc, org.springframework.security.web.header.HeaderWriterFilter@59e0d521, org.springframework.web.filter.CorsFilter@19a7906c, org.springframework.security.web.csrf.CsrfFilter@11cc9e1e, org.springframework.security.web.authentication.logout.LogoutFilter@4c2bea52, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@67e11bda, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3006bfb, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1da5c19d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@e4b54d3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@13d984ee, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4fedf908, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3e4f2300, org.springframework.security.web.access.ExceptionTranslationFilter@6de33fde, org.springframework.security.web.access.intercept.AuthorizationFilter@13ee97af]
2025-06-27 12:59:50 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-06-27 12:59:50 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-06-27 12:59:50 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-06-27 12:59:51 [main] INFO  o.e.b.c.UserControllerValidationTest - Started UserControllerValidationTest in 10.32 seconds (process running for 14.084)
2025-06-27 12:59:51 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 12:59:51 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json" to [class CreateUserRequest {<EOL>    name: null<EOL>    address: null<EOL>    phoneNumber: +441234567890<EOL>    email: (truncated)...]
2025-06-27 12:59:51 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-06-27 12:59:51 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 12:59:51 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{address=must not be null, name=must not be null}]
2025-06-27 12:59:51 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> org.eagle.bank.controller.UserController.createUser(org.eagle.bank.dto.CreateUserRequest) with 3 errors: [Field error in object 'createUserRequest' on field 'name': rejected value [null]; codes [NotBlank.createUserRequest.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'address': rejected value [null]; codes [NotNull.createUserRequest.address,NotNull.address,NotNull.org.eagle.bank.dto.CreateUserRequestAddress,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.address,address]; arguments []; default message [address]]; default message [must not be null]] [Field error in object 'createUserRequest' on field 'name': rejected value [null]; codes [NotNull.createUserRequest.name,NotNull.name,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be null]] ]
2025-06-27 12:59:51 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 12:59:51 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json" to [class CreateUserRequest {<EOL>    name: null<EOL>    address: null<EOL>    phoneNumber: null<EOL>    email: john@exa (truncated)...]
2025-06-27 12:59:51 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-06-27 12:59:51 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 12:59:51 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{password=Password must not be blank, phoneNumber=must not be blank, address=must not be null, name= (truncated)...]
2025-06-27 12:59:52 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> org.eagle.bank.controller.UserController.createUser(org.eagle.bank.dto.CreateUserRequest) with 7 errors: [Field error in object 'createUserRequest' on field 'phoneNumber': rejected value [null]; codes [NotNull.createUserRequest.phoneNumber,NotNull.phoneNumber,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.phoneNumber,phoneNumber]; arguments []; default message [phoneNumber]]; default message [must not be null]] [Field error in object 'createUserRequest' on field 'password': rejected value [null]; codes [NotNull.createUserRequest.password,NotNull.password,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.password,password]; arguments []; default message [password]]; default message [must not be null]] [Field error in object 'createUserRequest' on field 'phoneNumber': rejected value [null]; codes [NotBlank.createUserRequest.phoneNumber,NotBlank.phoneNumber,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.phoneNumber,phoneNumber]; arguments []; default message [phoneNumber]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'password': rejected value [null]; codes [NotBlank.createUserRequest.password,NotBlank.password,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.password,password]; arguments []; default message [password]]; default message [Password must not be blank]] [Field error in object 'createUserRequest' on field 'name': rejected value [null]; codes [NotBlank.createUserRequest.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'name': rejected value [null]; codes [NotNull.createUserRequest.name,NotNull.name,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be null]] [Field error in object 'createUserRequest' on field 'address': rejected value [null]; codes [NotNull.createUserRequest.address,NotNull.address,NotNull.org.eagle.bank.dto.CreateUserRequestAddress,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.address,address]; arguments []; default message [address]]; default message [must not be null]] ]
2025-06-27 12:59:52 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 12:59:52 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json" to [class CreateUserRequest {<EOL>    name: John Doe<EOL>    address: class CreateUserRequestAddress {<EOL>        l (truncated)...]
2025-06-27 12:59:52 [main] INFO  o.e.bank.controller.UserController - New user creation request received: John Doe
2025-06-27 12:59:52 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-06-27 12:59:52 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 12:59:52 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=source cannot be null}]
2025-06-27 12:59:52 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: source cannot be null]
2025-06-27 12:59:52 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 12:59:52 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json" to [class CreateUserRequest {<EOL>    name: null<EOL>    address: null<EOL>    phoneNumber: null<EOL>    email: null<EOL>    (truncated)...]
2025-06-27 12:59:52 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-06-27 12:59:52 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 12:59:52 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{address=must not be null, phoneNumber=must not be null, name=must not be null, email=must not be bl (truncated)...]
2025-06-27 12:59:52 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> org.eagle.bank.controller.UserController.createUser(org.eagle.bank.dto.CreateUserRequest) with 7 errors: [Field error in object 'createUserRequest' on field 'name': rejected value [null]; codes [NotBlank.createUserRequest.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'email': rejected value [null]; codes [NotNull.createUserRequest.email,NotNull.email,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.email,email]; arguments []; default message [email]]; default message [must not be null]] [Field error in object 'createUserRequest' on field 'email': rejected value [null]; codes [NotBlank.createUserRequest.email,NotBlank.email,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.email,email]; arguments []; default message [email]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'address': rejected value [null]; codes [NotNull.createUserRequest.address,NotNull.address,NotNull.org.eagle.bank.dto.CreateUserRequestAddress,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.address,address]; arguments []; default message [address]]; default message [must not be null]] [Field error in object 'createUserRequest' on field 'phoneNumber': rejected value [null]; codes [NotBlank.createUserRequest.phoneNumber,NotBlank.phoneNumber,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.phoneNumber,phoneNumber]; arguments []; default message [phoneNumber]]; default message [must not be blank]] [Field error in object 'createUserRequest' on field 'phoneNumber': rejected value [null]; codes [NotNull.createUserRequest.phoneNumber,NotNull.phoneNumber,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.phoneNumber,phoneNumber]; arguments []; default message [phoneNumber]]; default message [must not be null]] [Field error in object 'createUserRequest' on field 'name': rejected value [null]; codes [NotNull.createUserRequest.name,NotNull.name,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.name,name]; arguments []; default message [name]]; default message [must not be null]] ]
2025-06-27 12:59:52 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@1813f3e9, started on Fri Jun 27 12:59:43 BST 2025
2025-06-27 13:06:31 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 47998 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 13:06:31 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 13:06:31 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 13:06:31 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@58f174d9
2025-06-27 13:06:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-27 13:06:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 111 ms. Found 3 JPA repository interfaces.
2025-06-27 13:06:37 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-27 13:06:37 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2025-06-27 13:06:37 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-27 13:06:38 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-27 13:06:38 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-27 13:06:40 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:eaglebankdb user=SA
2025-06-27 13:06:40 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-27 13:06:40 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-27 13:06:45 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-27 13:06:45 [main] DEBUG org.hibernate.SQL - create table address (id bigint generated by default as identity, county varchar(255) not null, line1 varchar(255) not null, postcode varchar(255) not null, town varchar(255) not null, primary key (id))
2025-06-27 13:06:45 [main] DEBUG org.hibernate.SQL - create table bank_account (id bigint generated by default as identity, account_number varchar(255) not null, account_type varchar(255) not null, balance numeric(38,2) not null, name varchar(255), sort_code varchar(255) not null, user_id bigint not null, primary key (id))
2025-06-27 13:06:45 [main] DEBUG org.hibernate.SQL - create table transaction (id bigint generated by default as identity, amount numeric(38,2) not null, reference varchar(255), timestamp timestamp(6) with time zone not null, type varchar(255) not null check (type in ('DEPOSIT','WITHDRAWAL')), account_id bigint not null, primary key (id))
2025-06-27 13:06:45 [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, email varchar(255) not null, name varchar(255) not null, password varchar(255) not null, phone_number varchar(255) not null, username varchar(255) not null, address_id bigint not null, primary key (id))
2025-06-27 13:06:45 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_mb8kv2x9143o96jgxbv6mahcq
2025-06-27 13:06:45 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_mb8kv2x9143o96jgxbv6mahcq unique (account_number)
2025-06-27 13:06:45 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_awggvx8byoiap9dq3uik3ul1a
2025-06-27 13:06:45 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_awggvx8byoiap9dq3uik3ul1a unique (sort_code)
2025-06-27 13:06:45 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_6dotkott2kjsp8vw4d0m25fb7
2025-06-27 13:06:45 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-06-27 13:06:45 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_9q63snka3mdh91as4io72espi
2025-06-27 13:06:45 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_9q63snka3mdh91as4io72espi unique (phone_number)
2025-06-27 13:06:45 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_r43af9ap4edm43mmtq01oddj6
2025-06-27 13:06:45 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-06-27 13:06:45 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_hbvhqvjgmhd5omxyo67ynvbyp
2025-06-27 13:06:45 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_hbvhqvjgmhd5omxyo67ynvbyp unique (address_id)
2025-06-27 13:06:45 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint FKftsfxon3d4ectm5bv7glrhlko foreign key (user_id) references users
2025-06-27 13:06:45 [main] DEBUG org.hibernate.SQL - alter table if exists transaction add constraint FK39a303qtsn29mv6kksw98ob2w foreign key (account_id) references bank_account
2025-06-27 13:06:45 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint FKditu6lr4ek16tkxtdsne0gxib foreign key (address_id) references address
2025-06-27 13:06:45 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 13:06:47 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-27 13:06:47 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-06-27 13:06:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 19 mappings in 'requestMappingHandlerMapping'
2025-06-27 13:06:49 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-06-27 13:06:49 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2afd8972, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33fefbbe, org.springframework.security.web.context.SecurityContextHolderFilter@6e1d939e, org.springframework.security.web.header.HeaderWriterFilter@14bb16ee, org.springframework.web.filter.CorsFilter@5784f6b9, org.springframework.security.web.authentication.logout.LogoutFilter@33544cc5, org.eagle.bank.security.JwtAuthenticationFilter@17e2ad13, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7bb6a1f4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@25a2a71d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d0ca8a5, org.springframework.security.web.session.SessionManagementFilter@1c1ee02b, org.springframework.security.web.access.ExceptionTranslationFilter@7fac3ce0, org.springframework.security.web.access.intercept.AuthorizationFilter@6b71fded]
2025-06-27 13:06:50 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 13:06:50 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 13:06:50 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:eaglebankdb'
2025-06-27 13:06:50 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-06-27 13:06:50 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-06-27 13:06:50 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 4 ms
2025-06-27 13:06:50 [main] INFO  o.e.b.c.UserControllerValidationTest - Started UserControllerValidationTest in 20.128 seconds (process running for 21.573)
2025-06-27 13:06:50 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 13:06:51 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json" to [class CreateUserRequest {<EOL>    name: John Doe<EOL>    address: class CreateUserRequestAddress {<EOL>        l (truncated)...]
2025-06-27 13:06:51 [main] INFO  o.e.bank.controller.UserController - New user creation request received: John Doe
2025-06-27 13:06:51 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-06-27 13:06:51 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 13:06:51 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=source cannot be null}]
2025-06-27 13:06:51 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: source cannot be null]
2025-06-27 13:06:51 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@58f174d9, started on Fri Jun 27 13:06:31 BST 2025
2025-06-27 13:06:51 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 13:06:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-27 13:06:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-27 13:07:24 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 48147 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 13:07:24 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 13:07:24 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 13:07:24 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3bd55d8
2025-06-27 13:07:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-27 13:07:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 101 ms. Found 3 JPA repository interfaces.
2025-06-27 13:07:27 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-27 13:07:27 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2025-06-27 13:07:27 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-27 13:07:27 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-27 13:07:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-27 13:07:28 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:eaglebankdb user=SA
2025-06-27 13:07:28 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-27 13:07:28 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-27 13:07:30 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-27 13:07:30 [main] DEBUG org.hibernate.SQL - create table address (id bigint generated by default as identity, county varchar(255) not null, line1 varchar(255) not null, postcode varchar(255) not null, town varchar(255) not null, primary key (id))
2025-06-27 13:07:30 [main] DEBUG org.hibernate.SQL - create table bank_account (id bigint generated by default as identity, account_number varchar(255) not null, account_type varchar(255) not null, balance numeric(38,2) not null, name varchar(255), sort_code varchar(255) not null, user_id bigint not null, primary key (id))
2025-06-27 13:07:30 [main] DEBUG org.hibernate.SQL - create table transaction (id bigint generated by default as identity, amount numeric(38,2) not null, reference varchar(255), timestamp timestamp(6) with time zone not null, type varchar(255) not null check (type in ('DEPOSIT','WITHDRAWAL')), account_id bigint not null, primary key (id))
2025-06-27 13:07:30 [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, email varchar(255) not null, name varchar(255) not null, password varchar(255) not null, phone_number varchar(255) not null, username varchar(255) not null, address_id bigint not null, primary key (id))
2025-06-27 13:07:30 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_mb8kv2x9143o96jgxbv6mahcq
2025-06-27 13:07:30 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_mb8kv2x9143o96jgxbv6mahcq unique (account_number)
2025-06-27 13:07:30 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_awggvx8byoiap9dq3uik3ul1a
2025-06-27 13:07:30 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_awggvx8byoiap9dq3uik3ul1a unique (sort_code)
2025-06-27 13:07:30 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_6dotkott2kjsp8vw4d0m25fb7
2025-06-27 13:07:30 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-06-27 13:07:30 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_9q63snka3mdh91as4io72espi
2025-06-27 13:07:30 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_9q63snka3mdh91as4io72espi unique (phone_number)
2025-06-27 13:07:30 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_r43af9ap4edm43mmtq01oddj6
2025-06-27 13:07:30 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-06-27 13:07:30 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_hbvhqvjgmhd5omxyo67ynvbyp
2025-06-27 13:07:30 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_hbvhqvjgmhd5omxyo67ynvbyp unique (address_id)
2025-06-27 13:07:30 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint FKftsfxon3d4ectm5bv7glrhlko foreign key (user_id) references users
2025-06-27 13:07:30 [main] DEBUG org.hibernate.SQL - alter table if exists transaction add constraint FK39a303qtsn29mv6kksw98ob2w foreign key (account_id) references bank_account
2025-06-27 13:07:30 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint FKditu6lr4ek16tkxtdsne0gxib foreign key (address_id) references address
2025-06-27 13:07:30 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 13:07:31 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountController': Unsatisfied dependency expressed through field 'userService': Error creating bean with name 'userService': Unsatisfied dependency expressed through field 'passwordEncoder': Error creating bean with name 'securityConfig' defined in file [/Users/maha/workspace/barclays/eagle-bank/target/classes/org/eagle/bank/security/SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtAuthenticationFilter': Unsatisfied dependency expressed through field 'userService': Error creating bean with name 'userService': Requested bean is currently in creation: Is there an unresolvable circular reference?
2025-06-27 13:07:31 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 13:07:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-27 13:07:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-27 13:07:31 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-27 13:07:31 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

   accountController (field org.eagle.bank.service.UserService org.eagle.bank.controller.AccountController.userService)
┌─────┐
|  userService (field org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder org.eagle.bank.service.UserService.passwordEncoder)
↑     ↓
|  securityConfig defined in file [/Users/maha/workspace/barclays/eagle-bank/target/classes/org/eagle/bank/security/SecurityConfig.class]
↑     ↓
|  jwtAuthenticationFilter (field org.eagle.bank.service.UserService org.eagle.bank.security.JwtAuthenticationFilter.userService)
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2025-06-27 13:07:31 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@21a462ce]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@1002c49e testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@62eb918 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@37313c65, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7486b455, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@311bf055, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa09d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@1a5b6f42, org.springframework.boot.test.context.SpringBootTestAnnotation@db71811f], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountController': Unsatisfied dependency expressed through field 'userService': Error creating bean with name 'userService': Unsatisfied dependency expressed through field 'passwordEncoder': Error creating bean with name 'securityConfig' defined in file [/Users/maha/workspace/barclays/eagle-bank/target/classes/org/eagle/bank/security/SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtAuthenticationFilter': Unsatisfied dependency expressed through field 'userService': Error creating bean with name 'userService': Requested bean is currently in creation: Is there an unresolvable circular reference?
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 72 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userService': Unsatisfied dependency expressed through field 'passwordEncoder': Error creating bean with name 'securityConfig' defined in file [/Users/maha/workspace/barclays/eagle-bank/target/classes/org/eagle/bank/security/SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtAuthenticationFilter': Unsatisfied dependency expressed through field 'userService': Error creating bean with name 'userService': Requested bean is currently in creation: Is there an unresolvable circular reference?
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 97 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'securityConfig' defined in file [/Users/maha/workspace/barclays/eagle-bank/target/classes/org/eagle/bank/security/SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtAuthenticationFilter': Unsatisfied dependency expressed through field 'userService': Error creating bean with name 'userService': Requested bean is currently in creation: Is there an unresolvable circular reference?
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1357)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1337)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 111 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter': Unsatisfied dependency expressed through field 'userService': Error creating bean with name 'userService': Requested bean is currently in creation: Is there an unresolvable circular reference?
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 133 common frames omitted
Caused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'userService': Requested bean is currently in creation: Is there an unresolvable circular reference?
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.beforeSingletonCreation(DefaultSingletonBeanRegistry.java:355)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:227)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 148 common frames omitted
2025-06-27 13:07:31 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@186e254]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@1002c49e testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@62eb918 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@37313c65, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7486b455, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@311bf055, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa09d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@1a5b6f42, org.springframework.boot.test.context.SpringBootTestAnnotation@db71811f], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2025-06-27 13:07:31 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@39ee07a9]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@1002c49e testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@62eb918 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@37313c65, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7486b455, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@311bf055, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa09d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@1a5b6f42, org.springframework.boot.test.context.SpringBootTestAnnotation@db71811f], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2025-06-27 13:07:31 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@7adde776]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@1002c49e testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@62eb918 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@37313c65, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7486b455, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@311bf055, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa09d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@1a5b6f42, org.springframework.boot.test.context.SpringBootTestAnnotation@db71811f], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2025-06-27 13:08:34 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 48339 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 13:08:34 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 13:08:34 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 13:08:34 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5f5b5ca4
2025-06-27 13:08:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-27 13:08:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 86 ms. Found 3 JPA repository interfaces.
2025-06-27 13:08:36 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-27 13:08:37 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2025-06-27 13:08:37 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-27 13:08:37 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-27 13:08:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-27 13:08:37 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:eaglebankdb user=SA
2025-06-27 13:08:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-27 13:08:37 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-27 13:08:39 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-27 13:08:39 [main] DEBUG org.hibernate.SQL - create table address (id bigint generated by default as identity, county varchar(255) not null, line1 varchar(255) not null, postcode varchar(255) not null, town varchar(255) not null, primary key (id))
2025-06-27 13:08:39 [main] DEBUG org.hibernate.SQL - create table bank_account (id bigint generated by default as identity, account_number varchar(255) not null, account_type varchar(255) not null, balance numeric(38,2) not null, name varchar(255), sort_code varchar(255) not null, user_id bigint not null, primary key (id))
2025-06-27 13:08:39 [main] DEBUG org.hibernate.SQL - create table transaction (id bigint generated by default as identity, amount numeric(38,2) not null, reference varchar(255), timestamp timestamp(6) with time zone not null, type varchar(255) not null check (type in ('DEPOSIT','WITHDRAWAL')), account_id bigint not null, primary key (id))
2025-06-27 13:08:39 [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, email varchar(255) not null, name varchar(255) not null, password varchar(255) not null, phone_number varchar(255) not null, username varchar(255) not null, address_id bigint not null, primary key (id))
2025-06-27 13:08:39 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_mb8kv2x9143o96jgxbv6mahcq
2025-06-27 13:08:39 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_mb8kv2x9143o96jgxbv6mahcq unique (account_number)
2025-06-27 13:08:39 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_awggvx8byoiap9dq3uik3ul1a
2025-06-27 13:08:39 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_awggvx8byoiap9dq3uik3ul1a unique (sort_code)
2025-06-27 13:08:39 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_6dotkott2kjsp8vw4d0m25fb7
2025-06-27 13:08:39 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-06-27 13:08:39 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_9q63snka3mdh91as4io72espi
2025-06-27 13:08:39 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_9q63snka3mdh91as4io72espi unique (phone_number)
2025-06-27 13:08:39 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_r43af9ap4edm43mmtq01oddj6
2025-06-27 13:08:39 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-06-27 13:08:39 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_hbvhqvjgmhd5omxyo67ynvbyp
2025-06-27 13:08:39 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_hbvhqvjgmhd5omxyo67ynvbyp unique (address_id)
2025-06-27 13:08:39 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint FKftsfxon3d4ectm5bv7glrhlko foreign key (user_id) references users
2025-06-27 13:08:39 [main] DEBUG org.hibernate.SQL - alter table if exists transaction add constraint FK39a303qtsn29mv6kksw98ob2w foreign key (account_id) references bank_account
2025-06-27 13:08:39 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint FKditu6lr4ek16tkxtdsne0gxib foreign key (address_id) references address
2025-06-27 13:08:40 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 13:08:40 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountController': Unsatisfied dependency expressed through field 'userService': Error creating bean with name 'userService': Unsatisfied dependency expressed through field 'passwordEncoder': Error creating bean with name 'securityConfig' defined in file [/Users/maha/workspace/barclays/eagle-bank/target/classes/org/eagle/bank/security/SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtAuthenticationFilter': Unsatisfied dependency expressed through field 'userService': Error creating bean with name 'userService': Requested bean is currently in creation: Is there an unresolvable circular reference?
2025-06-27 13:08:40 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 13:08:40 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-27 13:08:40 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-27 13:08:40 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-27 13:08:40 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

   accountController (field org.eagle.bank.service.UserService org.eagle.bank.controller.AccountController.userService)
┌─────┐
|  userService (field org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder org.eagle.bank.service.UserService.passwordEncoder)
↑     ↓
|  securityConfig defined in file [/Users/maha/workspace/barclays/eagle-bank/target/classes/org/eagle/bank/security/SecurityConfig.class]
↑     ↓
|  jwtAuthenticationFilter (field org.eagle.bank.service.UserService org.eagle.bank.security.JwtAuthenticationFilter.userService)
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2025-06-27 13:08:40 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@5e0602ff]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@4446a191 testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@2ef812b key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7486b455, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1c9b0314, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@78452606, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7d9f158f, org.springframework.boot.test.context.SpringBootTestAnnotation@b24dcdf6], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountController': Unsatisfied dependency expressed through field 'userService': Error creating bean with name 'userService': Unsatisfied dependency expressed through field 'passwordEncoder': Error creating bean with name 'securityConfig' defined in file [/Users/maha/workspace/barclays/eagle-bank/target/classes/org/eagle/bank/security/SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtAuthenticationFilter': Unsatisfied dependency expressed through field 'userService': Error creating bean with name 'userService': Requested bean is currently in creation: Is there an unresolvable circular reference?
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 72 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userService': Unsatisfied dependency expressed through field 'passwordEncoder': Error creating bean with name 'securityConfig' defined in file [/Users/maha/workspace/barclays/eagle-bank/target/classes/org/eagle/bank/security/SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtAuthenticationFilter': Unsatisfied dependency expressed through field 'userService': Error creating bean with name 'userService': Requested bean is currently in creation: Is there an unresolvable circular reference?
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 97 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'securityConfig' defined in file [/Users/maha/workspace/barclays/eagle-bank/target/classes/org/eagle/bank/security/SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtAuthenticationFilter': Unsatisfied dependency expressed through field 'userService': Error creating bean with name 'userService': Requested bean is currently in creation: Is there an unresolvable circular reference?
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1357)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1337)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 111 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter': Unsatisfied dependency expressed through field 'userService': Error creating bean with name 'userService': Requested bean is currently in creation: Is there an unresolvable circular reference?
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 133 common frames omitted
Caused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'userService': Requested bean is currently in creation: Is there an unresolvable circular reference?
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.beforeSingletonCreation(DefaultSingletonBeanRegistry.java:355)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:227)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 148 common frames omitted
2025-06-27 13:08:40 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@3a22d69f]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@4446a191 testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@2ef812b key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7486b455, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1c9b0314, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@78452606, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7d9f158f, org.springframework.boot.test.context.SpringBootTestAnnotation@b24dcdf6], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2025-06-27 13:08:40 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@7f36cd8f]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@4446a191 testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@2ef812b key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7486b455, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1c9b0314, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@78452606, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7d9f158f, org.springframework.boot.test.context.SpringBootTestAnnotation@b24dcdf6], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2025-06-27 13:08:40 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@cbea0df]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@4446a191 testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@2ef812b key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7486b455, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1c9b0314, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@78452606, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7d9f158f, org.springframework.boot.test.context.SpringBootTestAnnotation@b24dcdf6], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2025-06-27 13:13:00 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 49040 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 13:13:00 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 13:13:00 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 13:13:00 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@62e7dffa
2025-06-27 13:13:02 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountController': Unsatisfied dependency expressed through field 'accountService': No qualifying bean of type 'org.eagle.bank.service.BankAccountService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-06-27 13:13:02 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-27 13:13:03 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field accountService in org.eagle.bank.controller.AccountController required a bean of type 'org.eagle.bank.service.BankAccountService' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.eagle.bank.service.BankAccountService' in your configuration.

2025-06-27 13:13:03 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@d0b814d]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@68d6f48e testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@6c96403e key = [org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@452e19ca, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3cfdd820, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@ef995a5b, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5e21e98f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@5557a332, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ccc2cc92, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@6e01f9b0, org.springframework.boot.test.context.SpringBootTestAnnotation@ab42b9f7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:122)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:106)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:63)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountController': Unsatisfied dependency expressed through field 'accountService': No qualifying bean of type 'org.eagle.bank.service.BankAccountService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 73 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.eagle.bank.service.BankAccountService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1880)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1406)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 98 common frames omitted
2025-06-27 13:13:03 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@7cc1f72c]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@68d6f48e testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@6c96403e key = [org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@452e19ca, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3cfdd820, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@ef995a5b, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5e21e98f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@5557a332, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ccc2cc92, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@6e01f9b0, org.springframework.boot.test.context.SpringBootTestAnnotation@ab42b9f7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:122)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:106)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:63)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2025-06-27 13:13:03 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@782ac148]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@68d6f48e testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@6c96403e key = [org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@452e19ca, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3cfdd820, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@ef995a5b, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5e21e98f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@5557a332, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ccc2cc92, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@6e01f9b0, org.springframework.boot.test.context.SpringBootTestAnnotation@ab42b9f7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:122)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:106)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:63)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2025-06-27 13:13:03 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@49cb5030]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@68d6f48e testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@6c96403e key = [org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@452e19ca, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3cfdd820, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@ef995a5b, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5e21e98f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@5557a332, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ccc2cc92, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@6e01f9b0, org.springframework.boot.test.context.SpringBootTestAnnotation@ab42b9f7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:122)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:106)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:63)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2025-06-27 13:14:14 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 49294 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 13:14:14 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 13:14:14 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 13:14:15 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@621f89b8
2025-06-27 13:14:18 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountController': Unsatisfied dependency expressed through field 'accountService': No qualifying bean of type 'org.eagle.bank.service.BankAccountService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-06-27 13:14:18 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-27 13:14:18 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field accountService in org.eagle.bank.controller.AccountController required a bean of type 'org.eagle.bank.service.BankAccountService' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.eagle.bank.service.BankAccountService' in your configuration.

2025-06-27 13:14:18 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@26a45089]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@57416e49 testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@2e7bb00e key = [org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3b5fad2d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dc1551, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@b7a304f0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3fa247d1, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@f9669081, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ccc2cc92, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@518caac3, org.springframework.boot.test.context.SpringBootTestAnnotation@7d2dce3c], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:122)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:106)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:63)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountController': Unsatisfied dependency expressed through field 'accountService': No qualifying bean of type 'org.eagle.bank.service.BankAccountService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 73 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.eagle.bank.service.BankAccountService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1880)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1406)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 98 common frames omitted
2025-06-27 13:14:18 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@5e51ec2e]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@57416e49 testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@2e7bb00e key = [org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3b5fad2d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dc1551, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@b7a304f0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3fa247d1, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@f9669081, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ccc2cc92, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@518caac3, org.springframework.boot.test.context.SpringBootTestAnnotation@7d2dce3c], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:122)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:106)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:63)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2025-06-27 13:14:18 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@36e409e0]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@57416e49 testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@2e7bb00e key = [org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3b5fad2d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dc1551, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@b7a304f0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3fa247d1, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@f9669081, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ccc2cc92, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@518caac3, org.springframework.boot.test.context.SpringBootTestAnnotation@7d2dce3c], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:122)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:106)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:63)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2025-06-27 13:14:18 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@5df64b2a]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@57416e49 testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@2e7bb00e key = [org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3b5fad2d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dc1551, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@b7a304f0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3fa247d1, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@f9669081, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ccc2cc92, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@518caac3, org.springframework.boot.test.context.SpringBootTestAnnotation@7d2dce3c], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:122)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:106)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:63)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2025-06-27 13:14:39 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 49365 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 13:14:39 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 13:14:39 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 13:14:39 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@546621c4
2025-06-27 13:14:42 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountController': Unsatisfied dependency expressed through field 'accountService': No qualifying bean of type 'org.eagle.bank.service.BankAccountService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-06-27 13:14:42 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-27 13:14:42 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field accountService in org.eagle.bank.controller.AccountController required a bean of type 'org.eagle.bank.service.BankAccountService' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.eagle.bank.service.BankAccountService' in your configuration.

2025-06-27 13:14:42 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@26a45089]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@57416e49 testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@2e7bb00e key = [org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3b5fad2d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dc1551, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@b7a304f0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3fa247d1, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@f9669081, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ccc2cca8, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@518caac3, org.springframework.boot.test.context.SpringBootTestAnnotation@7d2dce3c], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:122)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:106)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:63)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'accountController': Unsatisfied dependency expressed through field 'accountService': No qualifying bean of type 'org.eagle.bank.service.BankAccountService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 73 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.eagle.bank.service.BankAccountService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1880)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1406)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 98 common frames omitted
2025-06-27 13:14:42 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@5e51ec2e]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@57416e49 testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@2e7bb00e key = [org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3b5fad2d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dc1551, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@b7a304f0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3fa247d1, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@f9669081, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ccc2cca8, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@518caac3, org.springframework.boot.test.context.SpringBootTestAnnotation@7d2dce3c], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:122)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:106)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:63)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2025-06-27 13:14:42 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@36e409e0]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@57416e49 testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@2e7bb00e key = [org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3b5fad2d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dc1551, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@b7a304f0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3fa247d1, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@f9669081, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ccc2cca8, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@518caac3, org.springframework.boot.test.context.SpringBootTestAnnotation@7d2dce3c], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:122)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:106)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:63)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2025-06-27 13:14:42 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [org.eagle.bank.controller.UserControllerValidationTest@5df64b2a]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@57416e49 testClass = org.eagle.bank.controller.UserControllerValidationTest, locations = [], classes = [org.eagle.bank.Main], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@2e7bb00e key = [org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3b5fad2d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dc1551, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@b7a304f0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3fa247d1, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@f9669081, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ccc2cca8, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@518caac3, org.springframework.boot.test.context.SpringBootTestAnnotation@7d2dce3c], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:122)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:106)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:63)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2025-06-27 13:15:59 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 49590 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 13:15:59 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 13:15:59 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 13:15:59 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@53e3a87a
2025-06-27 13:16:02 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 7 mappings in 'requestMappingHandlerMapping'
2025-06-27 13:16:02 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-06-27 13:16:02 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 13:16:02 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 13:16:02 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: ea167ecc-3d46-415d-8cb5-a179830b4ec0

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-06-27 13:16:03 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2890e479, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6eb00cbe, org.springframework.security.web.context.SecurityContextHolderFilter@611a2d82, org.springframework.security.web.header.HeaderWriterFilter@18b3db6e, org.springframework.web.filter.CorsFilter@74e4be21, org.springframework.security.web.csrf.CsrfFilter@778197c0, org.springframework.security.web.authentication.logout.LogoutFilter@1626bddf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6408be5, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4331be30, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4d174189, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@213ceb4e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2299f6d7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5cd701e4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@628bd77e, org.springframework.security.web.access.ExceptionTranslationFilter@24e1e90a, org.springframework.security.web.access.intercept.AuthorizationFilter@470c4229]
2025-06-27 13:16:03 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-06-27 13:16:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-06-27 13:16:03 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-06-27 13:16:03 [main] INFO  o.e.b.c.UserControllerValidationTest - Started UserControllerValidationTest in 5.002 seconds (process running for 8.07)
2025-06-27 13:16:03 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 13:16:03 [main] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost/v1/users
2025-06-27 13:16:03 [main] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-06-27 13:16:03 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 13:16:03 [main] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost/v1/users
2025-06-27 13:16:03 [main] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-06-27 13:16:03 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 13:16:03 [main] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost/v1/users
2025-06-27 13:16:03 [main] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-06-27 13:16:03 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 13:16:03 [main] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost/v1/users
2025-06-27 13:16:03 [main] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-06-27 13:16:03 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@53e3a87a, started on Fri Jun 27 13:15:59 BST 2025
2025-06-27 13:16:31 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 49679 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 13:16:31 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 13:16:31 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 13:16:31 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@365a6a43
2025-06-27 13:16:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 7 mappings in 'requestMappingHandlerMapping'
2025-06-27 13:16:35 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-06-27 13:16:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 13:16:35 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 13:16:35 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: c52080e7-99c7-42cb-96c7-3a5c952ef6d7

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-06-27 13:16:36 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@24435620, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c02899, org.springframework.security.web.context.SecurityContextHolderFilter@6585df70, org.springframework.security.web.header.HeaderWriterFilter@70f91ae3, org.springframework.web.filter.CorsFilter@5b895e76, org.springframework.security.web.csrf.CsrfFilter@388e4c25, org.springframework.security.web.authentication.logout.LogoutFilter@79777da7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@cef885d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3cb49121, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@74231642, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@64688978, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@51fb5fe6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5ca4c88a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4a6facb0, org.springframework.security.web.access.ExceptionTranslationFilter@2133b712, org.springframework.security.web.access.intercept.AuthorizationFilter@61bd0845]
2025-06-27 13:16:36 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-06-27 13:16:36 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-06-27 13:16:36 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-06-27 13:16:36 [main] INFO  o.e.b.c.UserControllerValidationTest - Started UserControllerValidationTest in 5.587 seconds (process running for 8.016)
2025-06-27 13:16:47 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 13:16:47 [main] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost/v1/users
2025-06-27 13:16:47 [main] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-06-27 13:16:48 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@365a6a43, started on Fri Jun 27 13:16:31 BST 2025
2025-06-27 13:17:10 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 49786 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 13:17:10 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 13:17:10 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 13:17:10 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@35342d2f
2025-06-27 13:17:13 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 7 mappings in 'requestMappingHandlerMapping'
2025-06-27 13:17:13 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-06-27 13:17:13 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 13:17:14 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 13:17:14 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: e6dd476c-d2c4-4642-a13a-1a2d1e8a25c9

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-06-27 13:17:14 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4888425d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c8758d1, org.springframework.security.web.context.SecurityContextHolderFilter@4c4215d7, org.springframework.security.web.header.HeaderWriterFilter@24ac6fef, org.springframework.web.filter.CorsFilter@166ddfb7, org.springframework.security.web.csrf.CsrfFilter@1d5bb5c, org.springframework.security.web.authentication.logout.LogoutFilter@56da8847, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@64688978, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5a63fa71, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5da3f32a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3278d065, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@13f36d75, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6de5ad56, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@57b3d869, org.springframework.security.web.access.ExceptionTranslationFilter@55397d15, org.springframework.security.web.access.intercept.AuthorizationFilter@70ce2fb2]
2025-06-27 13:17:14 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-06-27 13:17:14 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-06-27 13:17:14 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-06-27 13:17:14 [main] INFO  o.e.b.c.UserControllerValidationTest - Started UserControllerValidationTest in 4.766 seconds (process running for 7.298)
2025-06-27 13:17:15 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 13:17:15 [main] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost/v1/users
2025-06-27 13:17:15 [main] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-06-27 13:17:15 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 13:17:15 [main] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost/v1/users
2025-06-27 13:17:15 [main] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-06-27 13:17:27 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 13:17:27 [main] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost/v1/users
2025-06-27 13:17:27 [main] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-06-27 13:17:27 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 13:17:27 [main] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost/v1/users
2025-06-27 13:17:27 [main] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-06-27 13:17:27 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@35342d2f, started on Fri Jun 27 13:17:10 BST 2025
2025-06-27 13:17:55 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 49897 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 13:17:55 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 13:17:55 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 13:17:55 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@35342d2f
2025-06-27 13:17:59 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 7 mappings in 'requestMappingHandlerMapping'
2025-06-27 13:17:59 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-06-27 13:17:59 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 13:17:59 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 13:17:59 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 7ae4edea-8485-4bfd-8a24-891b97ef279e

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-06-27 13:17:59 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@51f4439e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@291cbe70, org.springframework.security.web.context.SecurityContextHolderFilter@cfb94fd, org.springframework.security.web.header.HeaderWriterFilter@13f36d75, org.springframework.web.filter.CorsFilter@6be422da, org.springframework.security.web.csrf.CsrfFilter@66abb2fa, org.springframework.security.web.authentication.logout.LogoutFilter@cef885d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5b895e76, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7e9a836, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@225ddf5f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@166ddfb7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@44a44a04, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a63fa71, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51468039, org.springframework.security.web.access.ExceptionTranslationFilter@4c4215d7, org.springframework.security.web.access.intercept.AuthorizationFilter@4c02899]
2025-06-27 13:18:00 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-06-27 13:18:00 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-06-27 13:18:00 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-06-27 13:18:00 [main] INFO  o.e.b.c.UserControllerValidationTest - Started UserControllerValidationTest in 5.555 seconds (process running for 8.504)
2025-06-27 13:18:06 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 13:18:07 [main] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost/v1/users
2025-06-27 13:18:07 [main] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-06-27 13:18:30 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@35342d2f, started on Fri Jun 27 13:17:55 BST 2025
2025-06-27 13:21:22 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 50442 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 13:21:22 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 13:21:22 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 13:21:22 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@47ad69f7
2025-06-27 13:21:26 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 7 mappings in 'requestMappingHandlerMapping'
2025-06-27 13:21:26 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-06-27 13:21:26 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 13:21:26 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 13:21:26 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 651eed55-46b7-44cf-8f9d-f7ea5b042e20

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-06-27 13:21:26 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@59b3f754, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18dbc1b, org.springframework.security.web.context.SecurityContextHolderFilter@79777da7, org.springframework.security.web.header.HeaderWriterFilter@7e9a836, org.springframework.web.filter.CorsFilter@2a510e0e, org.springframework.security.web.csrf.CsrfFilter@1791e231, org.springframework.security.web.authentication.logout.LogoutFilter@4d525897, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5da3f32a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@50e1f3fc, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@8315e4a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7e94de5f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e05a706, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7831d1aa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4efe014f, org.springframework.security.web.access.ExceptionTranslationFilter@360a3106, org.springframework.security.web.access.intercept.AuthorizationFilter@166ddfb7]
2025-06-27 13:21:26 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-06-27 13:21:26 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-06-27 13:21:26 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-06-27 13:21:26 [main] INFO  o.e.b.c.UserControllerValidationTest - Started UserControllerValidationTest in 6.154 seconds (process running for 8.466)
2025-06-27 13:21:32 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-06-27 13:21:32 [main] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-06-27 13:21:32 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleGeneric(Exception)
2025-06-27 13:21:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 13:21:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=An unexpected error occurred}]
2025-06-27 13:21:49 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource v1/users.]
2025-06-27 13:21:49 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@47ad69f7, started on Fri Jun 27 13:21:22 BST 2025
2025-06-27 13:22:13 [main] INFO  o.e.b.c.UserControllerValidationTest - Starting UserControllerValidationTest using Java 21.0.6 with PID 50581 (started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 13:22:13 [main] DEBUG o.e.b.c.UserControllerValidationTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 13:22:13 [main] INFO  o.e.b.c.UserControllerValidationTest - No active profile set, falling back to 1 default profile: "default"
2025-06-27 13:22:13 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@128c502c
2025-06-27 13:22:16 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 7 mappings in 'requestMappingHandlerMapping'
2025-06-27 13:22:16 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-06-27 13:22:16 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 13:22:16 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 13:22:16 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: b7d3dd80-f888-4f26-963e-800e08264809

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-06-27 13:22:16 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@59b3f754, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18dbc1b, org.springframework.security.web.context.SecurityContextHolderFilter@79777da7, org.springframework.security.web.header.HeaderWriterFilter@7e9a836, org.springframework.web.filter.CorsFilter@2a510e0e, org.springframework.security.web.csrf.CsrfFilter@1791e231, org.springframework.security.web.authentication.logout.LogoutFilter@4d525897, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5da3f32a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@50e1f3fc, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@8315e4a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7e94de5f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e05a706, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7831d1aa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4efe014f, org.springframework.security.web.access.ExceptionTranslationFilter@360a3106, org.springframework.security.web.access.intercept.AuthorizationFilter@166ddfb7]
2025-06-27 13:22:16 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-06-27 13:22:16 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-06-27 13:22:16 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-06-27 13:22:16 [main] INFO  o.e.b.c.UserControllerValidationTest - Started UserControllerValidationTest in 4.221 seconds (process running for 6.581)
2025-06-27 13:22:16 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-06-27 13:22:16 [main] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-06-27 13:22:17 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleGeneric(Exception)
2025-06-27 13:22:22 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 13:22:22 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=An unexpected error occurred}]
2025-06-27 13:22:22 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource v1/users.]
2025-06-27 13:22:22 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-06-27 13:22:22 [main] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-06-27 13:22:22 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleGeneric(Exception)
2025-06-27 13:22:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 13:22:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=An unexpected error occurred}]
2025-06-27 13:22:24 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource v1/users.]
2025-06-27 13:22:24 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-06-27 13:22:24 [main] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-06-27 13:22:24 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleGeneric(Exception)
2025-06-27 13:22:25 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 13:22:25 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=An unexpected error occurred}]
2025-06-27 13:22:25 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource v1/users.]
2025-06-27 13:22:25 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-06-27 13:22:25 [main] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-06-27 13:22:25 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.eagle.bank.exception.ApiExceptionHandler#handleGeneric(Exception)
2025-06-27 13:22:26 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 13:22:26 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=An unexpected error occurred}]
2025-06-27 13:22:26 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource v1/users.]
2025-06-27 13:22:26 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@128c502c, started on Fri Jun 27 13:22:13 BST 2025
2025-06-27 13:27:05 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 13:27:05 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-27 13:27:05 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-27 13:27:30 [main] INFO  org.eagle.bank.Main - Starting Main using Java 21.0.6 with PID 51435 (/Users/maha/workspace/barclays/eagle-bank/target/classes started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 13:27:30 [main] DEBUG org.eagle.bank.Main - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 13:27:30 [main] INFO  org.eagle.bank.Main - No active profile set, falling back to 1 default profile: "default"
2025-06-27 13:27:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-27 13:27:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 64 ms. Found 3 JPA repository interfaces.
2025-06-27 13:27:32 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8077 (http)
2025-06-27 13:27:32 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-27 13:27:32 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-06-27 13:27:32 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-27 13:27:32 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2120 ms
2025-06-27 13:27:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-27 13:27:32 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:eaglebankdb user=SA
2025-06-27 13:27:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-27 13:27:32 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:eaglebankdb'
2025-06-27 13:27:32 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-27 13:27:32 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2025-06-27 13:27:32 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-27 13:27:33 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-27 13:27:33 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-27 13:27:34 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-27 13:27:34 [main] DEBUG org.hibernate.SQL - create table address (id bigint generated by default as identity, county varchar(255) not null, line1 varchar(255) not null, postcode varchar(255) not null, town varchar(255) not null, primary key (id))
2025-06-27 13:27:34 [main] DEBUG org.hibernate.SQL - create table bank_account (id bigint generated by default as identity, account_number varchar(255) not null, account_type varchar(255) not null, balance numeric(38,2) not null, name varchar(255), sort_code varchar(255) not null, user_id bigint not null, primary key (id))
2025-06-27 13:27:34 [main] DEBUG org.hibernate.SQL - create table transaction (id bigint generated by default as identity, amount numeric(38,2) not null, reference varchar(255), timestamp timestamp(6) with time zone not null, type varchar(255) not null check (type in ('DEPOSIT','WITHDRAWAL')), account_id bigint not null, primary key (id))
2025-06-27 13:27:34 [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, email varchar(255) not null, name varchar(255) not null, password varchar(255) not null, phone_number varchar(255) not null, username varchar(255) not null, address_id bigint not null, primary key (id))
2025-06-27 13:27:34 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_mb8kv2x9143o96jgxbv6mahcq
2025-06-27 13:27:34 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_mb8kv2x9143o96jgxbv6mahcq unique (account_number)
2025-06-27 13:27:34 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_awggvx8byoiap9dq3uik3ul1a
2025-06-27 13:27:34 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_awggvx8byoiap9dq3uik3ul1a unique (sort_code)
2025-06-27 13:27:34 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_6dotkott2kjsp8vw4d0m25fb7
2025-06-27 13:27:34 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-06-27 13:27:34 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_9q63snka3mdh91as4io72espi
2025-06-27 13:27:34 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_9q63snka3mdh91as4io72espi unique (phone_number)
2025-06-27 13:27:34 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_r43af9ap4edm43mmtq01oddj6
2025-06-27 13:27:34 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-06-27 13:27:34 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_hbvhqvjgmhd5omxyo67ynvbyp
2025-06-27 13:27:34 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_hbvhqvjgmhd5omxyo67ynvbyp unique (address_id)
2025-06-27 13:27:34 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint FKftsfxon3d4ectm5bv7glrhlko foreign key (user_id) references users
2025-06-27 13:27:34 [main] DEBUG org.hibernate.SQL - alter table if exists transaction add constraint FK39a303qtsn29mv6kksw98ob2w foreign key (account_id) references bank_account
2025-06-27 13:27:34 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint FKditu6lr4ek16tkxtdsne0gxib foreign key (address_id) references address
2025-06-27 13:27:34 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 13:27:35 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter': Unsatisfied dependency expressed through field 'userService': Error creating bean with name 'userService': Unsatisfied dependency expressed through field 'passwordEncoder': Error creating bean with name 'securityConfig' defined in file [/Users/maha/workspace/barclays/eagle-bank/target/classes/org/eagle/bank/security/SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtAuthenticationFilter': Requested bean is currently in creation: Is there an unresolvable circular reference?
2025-06-27 13:27:35 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-27 13:27:35 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-27 13:27:35 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 13:27:35 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-27 13:27:35 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-27 13:27:35 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-27 13:27:35 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

┌─────┐
|  jwtAuthenticationFilter (field org.eagle.bank.service.UserService org.eagle.bank.security.JwtAuthenticationFilter.userService)
↑     ↓
|  userService (field org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder org.eagle.bank.service.UserService.passwordEncoder)
↑     ↓
|  securityConfig defined in file [/Users/maha/workspace/barclays/eagle-bank/target/classes/org/eagle/bank/security/SecurityConfig.class]
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2025-06-27 13:27:54 [main] INFO  org.eagle.bank.Main - Starting Main using Java 21.0.6 with PID 51503 (/Users/maha/workspace/barclays/eagle-bank/target/classes started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 13:27:54 [main] DEBUG org.eagle.bank.Main - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 13:27:54 [main] INFO  org.eagle.bank.Main - No active profile set, falling back to 1 default profile: "default"
2025-06-27 13:27:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-27 13:27:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 90 ms. Found 3 JPA repository interfaces.
2025-06-27 13:27:57 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8077 (http)
2025-06-27 13:27:57 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-27 13:27:57 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-06-27 13:27:57 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-27 13:27:57 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2532 ms
2025-06-27 13:27:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-27 13:27:57 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:eaglebankdb user=SA
2025-06-27 13:27:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-27 13:27:57 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:eaglebankdb'
2025-06-27 13:27:57 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-27 13:27:57 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2025-06-27 13:27:57 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-27 13:27:58 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-27 13:27:58 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-27 13:27:59 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-27 13:28:00 [main] DEBUG org.hibernate.SQL - create table address (id bigint generated by default as identity, county varchar(255) not null, line1 varchar(255) not null, postcode varchar(255) not null, town varchar(255) not null, primary key (id))
2025-06-27 13:28:00 [main] DEBUG org.hibernate.SQL - create table bank_account (id bigint generated by default as identity, account_number varchar(255) not null, account_type varchar(255) not null, balance numeric(38,2) not null, name varchar(255), sort_code varchar(255) not null, user_id bigint not null, primary key (id))
2025-06-27 13:28:00 [main] DEBUG org.hibernate.SQL - create table transaction (id bigint generated by default as identity, amount numeric(38,2) not null, reference varchar(255), timestamp timestamp(6) with time zone not null, type varchar(255) not null check (type in ('DEPOSIT','WITHDRAWAL')), account_id bigint not null, primary key (id))
2025-06-27 13:28:00 [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, email varchar(255) not null, name varchar(255) not null, password varchar(255) not null, phone_number varchar(255) not null, username varchar(255) not null, address_id bigint not null, primary key (id))
2025-06-27 13:28:00 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_mb8kv2x9143o96jgxbv6mahcq
2025-06-27 13:28:00 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_mb8kv2x9143o96jgxbv6mahcq unique (account_number)
2025-06-27 13:28:00 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_awggvx8byoiap9dq3uik3ul1a
2025-06-27 13:28:00 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_awggvx8byoiap9dq3uik3ul1a unique (sort_code)
2025-06-27 13:28:00 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_6dotkott2kjsp8vw4d0m25fb7
2025-06-27 13:28:00 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-06-27 13:28:00 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_9q63snka3mdh91as4io72espi
2025-06-27 13:28:00 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_9q63snka3mdh91as4io72espi unique (phone_number)
2025-06-27 13:28:00 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_r43af9ap4edm43mmtq01oddj6
2025-06-27 13:28:00 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-06-27 13:28:00 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_hbvhqvjgmhd5omxyo67ynvbyp
2025-06-27 13:28:00 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_hbvhqvjgmhd5omxyo67ynvbyp unique (address_id)
2025-06-27 13:28:00 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint FKftsfxon3d4ectm5bv7glrhlko foreign key (user_id) references users
2025-06-27 13:28:00 [main] DEBUG org.hibernate.SQL - alter table if exists transaction add constraint FK39a303qtsn29mv6kksw98ob2w foreign key (account_id) references bank_account
2025-06-27 13:28:00 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint FKditu6lr4ek16tkxtdsne0gxib foreign key (address_id) references address
2025-06-27 13:28:00 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 13:28:00 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter': Unsatisfied dependency expressed through field 'userService': Error creating bean with name 'userService': Unsatisfied dependency expressed through field 'passwordEncoder': Error creating bean with name 'securityConfig' defined in file [/Users/maha/workspace/barclays/eagle-bank/target/classes/org/eagle/bank/security/SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtAuthenticationFilter': Requested bean is currently in creation: Is there an unresolvable circular reference?
2025-06-27 13:28:00 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-27 13:28:00 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-27 13:28:00 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 13:28:00 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-27 13:28:00 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-27 13:28:00 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-27 13:28:00 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

┌─────┐
|  jwtAuthenticationFilter (field org.eagle.bank.service.UserService org.eagle.bank.security.JwtAuthenticationFilter.userService)
↑     ↓
|  userService (field org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder org.eagle.bank.service.UserService.passwordEncoder)
↑     ↓
|  securityConfig defined in file [/Users/maha/workspace/barclays/eagle-bank/target/classes/org/eagle/bank/security/SecurityConfig.class]
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2025-06-27 13:28:37 [main] INFO  org.eagle.bank.Main - Starting Main using Java 21.0.6 with PID 51612 (/Users/maha/workspace/barclays/eagle-bank/target/classes started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 13:28:37 [main] DEBUG org.eagle.bank.Main - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 13:28:37 [main] INFO  org.eagle.bank.Main - No active profile set, falling back to 1 default profile: "default"
2025-06-27 13:28:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-27 13:28:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 86 ms. Found 3 JPA repository interfaces.
2025-06-27 13:28:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8077 (http)
2025-06-27 13:28:39 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-27 13:28:39 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-06-27 13:28:39 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-27 13:28:39 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2460 ms
2025-06-27 13:28:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-27 13:28:39 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:eaglebankdb user=SA
2025-06-27 13:28:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-27 13:28:39 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:eaglebankdb'
2025-06-27 13:28:40 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-27 13:28:40 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2025-06-27 13:28:40 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-27 13:28:40 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-27 13:28:40 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-27 13:28:42 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-27 13:28:42 [main] DEBUG org.hibernate.SQL - create table address (id bigint generated by default as identity, county varchar(255) not null, line1 varchar(255) not null, postcode varchar(255) not null, town varchar(255) not null, primary key (id))
2025-06-27 13:28:42 [main] DEBUG org.hibernate.SQL - create table bank_account (id bigint generated by default as identity, account_number varchar(255) not null, account_type varchar(255) not null, balance numeric(38,2) not null, name varchar(255), sort_code varchar(255) not null, user_id bigint not null, primary key (id))
2025-06-27 13:28:42 [main] DEBUG org.hibernate.SQL - create table transaction (id bigint generated by default as identity, amount numeric(38,2) not null, reference varchar(255), timestamp timestamp(6) with time zone not null, type varchar(255) not null check (type in ('DEPOSIT','WITHDRAWAL')), account_id bigint not null, primary key (id))
2025-06-27 13:28:42 [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, email varchar(255) not null, name varchar(255) not null, password varchar(255) not null, phone_number varchar(255) not null, username varchar(255) not null, address_id bigint not null, primary key (id))
2025-06-27 13:28:42 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_mb8kv2x9143o96jgxbv6mahcq
2025-06-27 13:28:42 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_mb8kv2x9143o96jgxbv6mahcq unique (account_number)
2025-06-27 13:28:42 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_awggvx8byoiap9dq3uik3ul1a
2025-06-27 13:28:42 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_awggvx8byoiap9dq3uik3ul1a unique (sort_code)
2025-06-27 13:28:42 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_6dotkott2kjsp8vw4d0m25fb7
2025-06-27 13:28:42 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-06-27 13:28:42 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_9q63snka3mdh91as4io72espi
2025-06-27 13:28:42 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_9q63snka3mdh91as4io72espi unique (phone_number)
2025-06-27 13:28:42 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_r43af9ap4edm43mmtq01oddj6
2025-06-27 13:28:42 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-06-27 13:28:42 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_hbvhqvjgmhd5omxyo67ynvbyp
2025-06-27 13:28:42 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_hbvhqvjgmhd5omxyo67ynvbyp unique (address_id)
2025-06-27 13:28:42 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint FKftsfxon3d4ectm5bv7glrhlko foreign key (user_id) references users
2025-06-27 13:28:42 [main] DEBUG org.hibernate.SQL - alter table if exists transaction add constraint FK39a303qtsn29mv6kksw98ob2w foreign key (account_id) references bank_account
2025-06-27 13:28:42 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint FKditu6lr4ek16tkxtdsne0gxib foreign key (address_id) references address
2025-06-27 13:28:42 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 13:28:43 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter': Unsatisfied dependency expressed through field 'userService': Error creating bean with name 'userService': Unsatisfied dependency expressed through field 'passwordEncoder': Error creating bean with name 'securityConfig' defined in file [/Users/maha/workspace/barclays/eagle-bank/target/classes/org/eagle/bank/security/SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtAuthenticationFilter': Requested bean is currently in creation: Is there an unresolvable circular reference?
2025-06-27 13:28:43 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-27 13:28:43 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-27 13:28:43 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 13:28:43 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-27 13:28:43 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-27 13:28:43 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-27 13:28:43 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

┌─────┐
|  jwtAuthenticationFilter (field org.eagle.bank.service.UserService org.eagle.bank.security.JwtAuthenticationFilter.userService)
↑     ↓
|  userService (field org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder org.eagle.bank.service.UserService.passwordEncoder)
↑     ↓
|  securityConfig defined in file [/Users/maha/workspace/barclays/eagle-bank/target/classes/org/eagle/bank/security/SecurityConfig.class]
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2025-06-27 13:31:13 [main] INFO  org.eagle.bank.Main - Starting Main using Java 21.0.6 with PID 52028 (/Users/maha/workspace/barclays/eagle-bank/target/classes started by maha in /Users/maha/workspace/barclays/eagle-bank)
2025-06-27 13:31:13 [main] DEBUG org.eagle.bank.Main - Running with Spring Boot v3.2.6, Spring v6.1.8
2025-06-27 13:31:13 [main] INFO  org.eagle.bank.Main - No active profile set, falling back to 1 default profile: "default"
2025-06-27 13:31:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-27 13:31:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 87 ms. Found 3 JPA repository interfaces.
2025-06-27 13:31:16 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8077 (http)
2025-06-27 13:31:16 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-27 13:31:16 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-06-27 13:31:16 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-27 13:31:16 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2723 ms
2025-06-27 13:31:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-27 13:31:16 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:eaglebankdb user=SA
2025-06-27 13:31:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-27 13:31:16 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:eaglebankdb'
2025-06-27 13:31:16 [main] DEBUG o.e.b.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-06-27 13:31:17 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-27 13:31:17 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2025-06-27 13:31:17 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-27 13:31:17 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-27 13:31:17 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-27 13:31:19 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-27 13:31:19 [main] DEBUG org.hibernate.SQL - create table address (id bigint generated by default as identity, county varchar(255) not null, line1 varchar(255) not null, postcode varchar(255) not null, town varchar(255) not null, primary key (id))
2025-06-27 13:31:19 [main] DEBUG org.hibernate.SQL - create table bank_account (id bigint generated by default as identity, account_number varchar(255) not null, account_type varchar(255) not null, balance numeric(38,2) not null, name varchar(255), sort_code varchar(255) not null, user_id bigint not null, primary key (id))
2025-06-27 13:31:19 [main] DEBUG org.hibernate.SQL - create table transaction (id bigint generated by default as identity, amount numeric(38,2) not null, reference varchar(255), timestamp timestamp(6) with time zone not null, type varchar(255) not null check (type in ('DEPOSIT','WITHDRAWAL')), account_id bigint not null, primary key (id))
2025-06-27 13:31:19 [main] DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, email varchar(255) not null, name varchar(255) not null, password varchar(255) not null, phone_number varchar(255) not null, username varchar(255) not null, address_id bigint not null, primary key (id))
2025-06-27 13:31:19 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_mb8kv2x9143o96jgxbv6mahcq
2025-06-27 13:31:19 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_mb8kv2x9143o96jgxbv6mahcq unique (account_number)
2025-06-27 13:31:19 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account drop constraint if exists UK_awggvx8byoiap9dq3uik3ul1a
2025-06-27 13:31:19 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint UK_awggvx8byoiap9dq3uik3ul1a unique (sort_code)
2025-06-27 13:31:19 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_6dotkott2kjsp8vw4d0m25fb7
2025-06-27 13:31:19 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-06-27 13:31:19 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_9q63snka3mdh91as4io72espi
2025-06-27 13:31:19 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_9q63snka3mdh91as4io72espi unique (phone_number)
2025-06-27 13:31:19 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_r43af9ap4edm43mmtq01oddj6
2025-06-27 13:31:19 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-06-27 13:31:19 [main] DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists UK_hbvhqvjgmhd5omxyo67ynvbyp
2025-06-27 13:31:19 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint UK_hbvhqvjgmhd5omxyo67ynvbyp unique (address_id)
2025-06-27 13:31:19 [main] DEBUG org.hibernate.SQL - alter table if exists bank_account add constraint FKftsfxon3d4ectm5bv7glrhlko foreign key (user_id) references users
2025-06-27 13:31:19 [main] DEBUG org.hibernate.SQL - alter table if exists transaction add constraint FK39a303qtsn29mv6kksw98ob2w foreign key (account_id) references bank_account
2025-06-27 13:31:19 [main] DEBUG org.hibernate.SQL - alter table if exists users add constraint FKditu6lr4ek16tkxtdsne0gxib foreign key (address_id) references address
2025-06-27 13:31:19 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-27 13:31:20 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-27 13:31:20 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-06-27 13:31:20 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 19 mappings in 'requestMappingHandlerMapping'
2025-06-27 13:31:20 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-06-27 13:31:20 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6e5106fc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@70199db0, org.springframework.security.web.context.SecurityContextHolderFilter@1c00a9f0, org.springframework.security.web.header.HeaderWriterFilter@2726b2f3, org.springframework.web.filter.CorsFilter@274b0c2a, org.springframework.security.web.authentication.logout.LogoutFilter@3e8c9981, org.eagle.bank.security.JwtAuthenticationFilter@25533bba, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e572ad6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@709353b9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@721f3526, org.springframework.security.web.session.SessionManagementFilter@c725dfa, org.springframework.security.web.access.ExceptionTranslationFilter@2bb03136, org.springframework.security.web.access.intercept.AuthorizationFilter@39d4f046]
2025-06-27 13:31:21 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-27 13:31:21 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-27 13:31:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8077 (http) with context path ''
2025-06-27 13:31:21 [main] INFO  org.eagle.bank.Main - Started Main in 9.104 seconds (process running for 10.125)
2025-06-27 13:31:32 [http-nio-8077-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-27 13:31:32 [http-nio-8077-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-27 13:31:32 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-06-27 13:31:32 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-06-27 13:31:32 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-06-27 13:31:32 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@44f8d884
2025-06-27 13:31:32 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@a6fc2e1
2025-06-27 13:31:32 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-06-27 13:31:32 [http-nio-8077-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-06-27 13:31:32 [http-nio-8077-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/users
2025-06-27 13:31:32 [http-nio-8077-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 13:31:32 [http-nio-8077-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/users
2025-06-27 13:31:32 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/users", parameters={}
2025-06-27 13:31:32 [http-nio-8077-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#createUser(CreateUserRequest)
2025-06-27 13:31:32 [http-nio-8077-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateUserRequest {<EOL>    name: Maha<EOL>    address: class CreateUserRequestAddress {<EOL>        line1 (truncated)...]
2025-06-27 13:31:33 [http-nio-8077-exec-1] INFO  o.e.bank.controller.UserController - New user creation request received: Maha
2025-06-27 13:31:33 [http-nio-8077-exec-1] DEBUG org.hibernate.SQL - insert into address (county,line1,postcode,town,id) values (?,?,?,?,default)
2025-06-27 13:31:33 [http-nio-8077-exec-1] DEBUG org.hibernate.SQL - insert into users (address_id,email,name,password,phone_number,username,id) values (?,?,?,?,?,?,default)
2025-06-27 13:31:33 [http-nio-8077-exec-1] INFO  o.e.bank.controller.UserController - New user created: Maha, 1
2025-06-27 13:31:33 [http-nio-8077-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 13:31:33 [http-nio-8077-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class UserResponse {<EOL>    id: 1<EOL>    name: Maha<EOL>    address: class UpdateUserRequestAddress {<EOL>         (truncated)...]
2025-06-27 13:31:33 [http-nio-8077-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 13:31:39 [http-nio-8077-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/auth/login
2025-06-27 13:31:39 [http-nio-8077-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-06-27 13:31:39 [http-nio-8077-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/auth/login
2025-06-27 13:31:39 [http-nio-8077-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/auth/login", parameters={}
2025-06-27 13:31:39 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AuthController#authenticate(LoginRequest)
2025-06-27 13:31:39 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [org.eagle.bank.controller.AuthController$LoginRequest@68c53515]
2025-06-27 13:31:39 [http-nio-8077-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 13:31:39 [http-nio-8077-exec-3] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 13:31:39 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 13:31:39 [http-nio-8077-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtYWgxYXRlc3QzMTEiLCJpYXQiOjE3NTEwMjc0OTksImV4cCI6MTc1MTExMzg5 (truncated)...]
2025-06-27 13:31:39 [http-nio-8077-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-06-27 13:31:46 [http-nio-8077-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/users/1
2025-06-27 13:31:46 [http-nio-8077-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 13:31:46 [http-nio-8077-exec-4] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 13:31:46 [http-nio-8077-exec-4] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 1
2025-06-27 13:31:46 [http-nio-8077-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/users/1
2025-06-27 13:31:46 [http-nio-8077-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v1/users/1", parameters={}
2025-06-27 13:31:46 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.UserController#getUser(Long, HttpServletRequest)
2025-06-27 13:31:46 [http-nio-8077-exec-4] INFO  o.e.bank.controller.UserController - Fetching user details: 1
2025-06-27 13:31:46 [http-nio-8077-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 13:31:46 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 13:31:46 [http-nio-8077-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class UserResponse {<EOL>    id: 1<EOL>    name: Maha<EOL>    address: class UpdateUserRequestAddress {<EOL>         (truncated)...]
2025-06-27 13:31:46 [http-nio-8077-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-06-27 13:31:51 [http-nio-8077-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts
2025-06-27 13:31:51 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 13:31:51 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 13:31:51 [http-nio-8077-exec-5] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 1
2025-06-27 13:31:51 [http-nio-8077-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/accounts
2025-06-27 13:31:51 [http-nio-8077-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/accounts", parameters={}
2025-06-27 13:31:51 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AccountController#createAccount(CreateBankAccountRequest, HttpServletRequest)
2025-06-27 13:31:51 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateBankAccountRequest {<EOL>    name: my personal account<EOL>    accountType: personal<EOL>    balance (truncated)...]
2025-06-27 13:31:51 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 13:31:51 [http-nio-8077-exec-5] DEBUG org.hibernate.SQL - insert into bank_account (account_number,account_type,balance,name,sort_code,user_id,id) values (?,?,?,?,?,?,default)
2025-06-27 13:31:51 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 13:31:51 [http-nio-8077-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class BankAccountResponse {<EOL>    accountNumber: 01862032<EOL>    sortCode: 54-26-07<EOL>    name: my personal (truncated)...]
2025-06-27 13:31:51 [http-nio-8077-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 13:31:58 [http-nio-8077-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /v1/accounts/01862032
2025-06-27 13:31:58 [http-nio-8077-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 13:31:58 [http-nio-8077-exec-6] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 13:31:58 [http-nio-8077-exec-6] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 1
2025-06-27 13:31:58 [http-nio-8077-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /v1/accounts/01862032
2025-06-27 13:31:58 [http-nio-8077-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/v1/accounts/01862032", parameters={}
2025-06-27 13:31:58 [http-nio-8077-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AccountController#deleteAccount(String, HttpServletRequest)
2025-06-27 13:31:58 [http-nio-8077-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 13:31:58 [http-nio-8077-exec-6] DEBUG org.hibernate.SQL - select ba1_0.id,ba1_0.account_number,ba1_0.account_type,ba1_0.balance,ba1_0.name,ba1_0.sort_code,ba1_0.user_id from bank_account ba1_0 where ba1_0.account_number=?
2025-06-27 13:31:58 [http-nio-8077-exec-6] DEBUG org.hibernate.SQL - select t1_0.account_id,t1_0.id,t1_0.amount,t1_0.reference,t1_0.timestamp,t1_0.type from transaction t1_0 where t1_0.account_id=?
2025-06-27 13:31:58 [http-nio-8077-exec-6] DEBUG org.hibernate.SQL - delete from bank_account where id=?
2025-06-27 13:31:58 [http-nio-8077-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/octet-stream', given [*/*] and supported [*/*]
2025-06-27 13:31:58 [http-nio-8077-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-06-27 13:32:02 [http-nio-8077-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts/01862032/transactions
2025-06-27 13:32:02 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 13:32:02 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 13:32:02 [http-nio-8077-exec-7] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 1
2025-06-27 13:32:02 [http-nio-8077-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/accounts/01862032/transactions
2025-06-27 13:32:02 [http-nio-8077-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/accounts/01862032/transactions", parameters={}
2025-06-27 13:32:02 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.TransactionController#createTransaction(String, CreateTransactionRequest, HttpServletRequest)
2025-06-27 13:32:02 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateTransactionRequest {<EOL>    amount: 100<EOL>    type: withdrawal<EOL>    reference: test transactio (truncated)...]
2025-06-27 13:32:02 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 13:32:02 [http-nio-8077-exec-7] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.account_number,a1_0.account_type,a1_0.balance,a1_0.name,a1_0.sort_code from bank_account a1_0 where a1_0.user_id=?
2025-06-27 13:32:02 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-06-27 13:32:02 [http-nio-8077-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Account does not exist"]
2025-06-27 13:32:02 [http-nio-8077-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-06-27 13:32:08 [http-nio-8077-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts
2025-06-27 13:32:08 [http-nio-8077-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 13:32:08 [http-nio-8077-exec-8] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 13:32:08 [http-nio-8077-exec-8] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 1
2025-06-27 13:32:08 [http-nio-8077-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/accounts
2025-06-27 13:32:08 [http-nio-8077-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/accounts", parameters={}
2025-06-27 13:32:08 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.AccountController#createAccount(CreateBankAccountRequest, HttpServletRequest)
2025-06-27 13:32:08 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateBankAccountRequest {<EOL>    name: my personal account<EOL>    accountType: personal<EOL>    balance (truncated)...]
2025-06-27 13:32:08 [http-nio-8077-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 13:32:08 [http-nio-8077-exec-8] DEBUG org.hibernate.SQL - insert into bank_account (account_number,account_type,balance,name,sort_code,user_id,id) values (?,?,?,?,?,?,default)
2025-06-27 13:32:08 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 13:32:08 [http-nio-8077-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class BankAccountResponse {<EOL>    accountNumber: 01467232<EOL>    sortCode: 76-49-56<EOL>    name: my personal (truncated)...]
2025-06-27 13:32:08 [http-nio-8077-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 13:32:13 [http-nio-8077-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /v1/accounts/01467232/transactions
2025-06-27 13:32:13 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 13:32:13 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 13:32:13 [http-nio-8077-exec-9] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 1
2025-06-27 13:32:13 [http-nio-8077-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /v1/accounts/01467232/transactions
2025-06-27 13:32:13 [http-nio-8077-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/v1/accounts/01467232/transactions", parameters={}
2025-06-27 13:32:13 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.TransactionController#createTransaction(String, CreateTransactionRequest, HttpServletRequest)
2025-06-27 13:32:13 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [class CreateTransactionRequest {<EOL>    amount: 100<EOL>    type: withdrawal<EOL>    reference: test transactio (truncated)...]
2025-06-27 13:32:13 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 13:32:13 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.account_number,a1_0.account_type,a1_0.balance,a1_0.name,a1_0.sort_code from bank_account a1_0 where a1_0.user_id=?
2025-06-27 13:32:13 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - insert into transaction (account_id,amount,reference,timestamp,type,id) values (?,?,?,?,?,default)
2025-06-27 13:32:13 [http-nio-8077-exec-9] DEBUG org.hibernate.SQL - update bank_account set account_number=?,account_type=?,balance=?,name=?,sort_code=?,user_id=? where id=?
2025-06-27 13:32:13 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 13:32:13 [http-nio-8077-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class TransactionResponse {<EOL>    id: 1<EOL>    amount: 100<EOL>    type: withdrawal<EOL>    reference: test trans (truncated)...]
2025-06-27 13:32:13 [http-nio-8077-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-06-27 13:32:18 [http-nio-8077-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/accounts/01467232/transactions/1
2025-06-27 13:32:18 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 where u1_0.username=?
2025-06-27 13:32:18 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - select a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town from address a1_0 where a1_0.id=?
2025-06-27 13:32:18 [http-nio-8077-exec-10] INFO  o.e.b.s.JwtAuthenticationFilter - Authenticated user: 1
2025-06-27 13:32:18 [http-nio-8077-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v1/accounts/01467232/transactions/1
2025-06-27 13:32:18 [http-nio-8077-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v1/accounts/01467232/transactions/1", parameters={}
2025-06-27 13:32:18 [http-nio-8077-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.eagle.bank.controller.TransactionController#getTransaction(String, Long, HttpServletRequest)
2025-06-27 13:32:18 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address_id,a1_0.id,a1_0.county,a1_0.line1,a1_0.postcode,a1_0.town,u1_0.email,u1_0.name,u1_0.password,u1_0.phone_number,u1_0.username from users u1_0 join address a1_0 on a1_0.id=u1_0.address_id where u1_0.id=?
2025-06-27 13:32:18 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - select a1_0.user_id,a1_0.id,a1_0.account_number,a1_0.account_type,a1_0.balance,a1_0.name,a1_0.sort_code from bank_account a1_0 where a1_0.user_id=?
2025-06-27 13:32:18 [http-nio-8077-exec-10] DEBUG org.hibernate.SQL - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.reference,t1_0.timestamp,t1_0.type from transaction t1_0 where t1_0.id=? and t1_0.account_id=?
2025-06-27 13:32:18 [http-nio-8077-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-06-27 13:32:18 [http-nio-8077-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [class TransactionResponse {<EOL>    id: 1<EOL>    amount: 100.00<EOL>    type: withdrawal<EOL>    reference: test tr (truncated)...]
2025-06-27 13:32:18 [http-nio-8077-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
