<?xml version="1.0" encoding="UTF-8"?>
<project xmlns=http://maven.apache.org/POM/4.0.0 xmlns:xsi=http://www.w3.org/2001/XMLSchema-instance xsi:schemaLocation=http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd>
    <modelVersion>4.0.0</modelVersion>

    <groupId>com.bt.cdo.bss.address</groupId>
    <artifactId>address-management</artifactId>
    <version>0.0.4</version>
    <packaging>jar</packaging>
    <name>address-management</name>
    <description>Address creation api</description>

    <parent>
       <groupId>org.springframework.boot</groupId>
       <artifactId>spring-boot-starter-parent</artifactId>
       <version>3.4.5</version>
       <relativePath/> <!-- lookup parent from repository -->
    </parent>

    <properties>
       <java.version>17</java.version>
       <spring-boot.version>3.2.11</spring-boot.version>
       <spring-cloud.version>2023.0.1</spring-cloud.version>
       <org.mapstruct.version>1.4.2.Final</org.mapstruct.version>
       <!-- Plugin versions -->
       <maven-surefire-plugin.version>3.0.0-M5</maven-surefire-plugin.version>
       <sonar-maven-plugin.version>3.9.0.2155</sonar-maven-plugin.version>
       <sonar.coverage.exclusions>
          src/main/java/com/bt/cdo/bss/address/constants/**/*,
          src/main/java/com/bt/cdo/bss/address/dto/**/*,
          src/main/java/com/bt/cdo/bss/address/feign/**/*,
       </sonar.coverage.exclusions>
       <jakarta.validation-api.version>3.0.2</jakarta.validation-api.version>
       <jakarta.annotation-api.version>2.1.0</jakarta.annotation-api.version>
       <jackson-databind-nullable>0.2.6</jackson-databind-nullable>

    </properties>

    <dependencies>

       <dependency>
          <groupId>org.springframework.boot</groupId>
          <artifactId>spring-boot-starter-web</artifactId>
       </dependency>
       <dependency>
          <groupId>org.springframework.cloud</groupId>
          <artifactId>spring-cloud-starter-openfeign</artifactId>
       </dependency>
       <dependency>
          <groupId>org.springframework.cloud</groupId>
          <artifactId>spring-cloud-starter-config</artifactId>
       </dependency>
       <dependency>
          <groupId>org.springframework.boot</groupId>
          <artifactId>spring-boot-starter-validation</artifactId>
       </dependency>
       <dependency>
          <groupId>org.springframework.boot</groupId>
          <artifactId>spring-boot-starter-test</artifactId>
          <scope>test</scope>
       </dependency>
       <dependency>
           <groupId>com.nimbusds</groupId>
           <artifactId>nimbus-jose-jwt</artifactId>
           <version>9.41</version>
       </dependency>
       <dependency>
          <groupId>com.bt.cdo.marketplace</groupId>
          <artifactId>marketplace-common</artifactId>
          <version>3.0.21</version>
          <exclusions>
             <exclusion>
                <groupId>org.springdoc</groupId>
                <artifactId>springdoc-openapi-ui</artifactId>
             </exclusion>
             <exclusion>
                <groupId>org.springdoc</groupId>
                <artifactId>springdoc-openapi-data-rest</artifactId>
             </exclusion>
             <exclusion>
                <groupId>com.graphql-java</groupId>
                <artifactId>graphql-java-extended-scalars</artifactId>
             </exclusion>
             <exclusion>
                <groupId>com.netflix.graphql.dgs</groupId>
                <artifactId>graphql-dgs-spring-boot-micrometer</artifactId>
             </exclusion>
             <exclusion>
                <groupId>com.bt.cdo.marketplace</groupId>
                <artifactId>mkt-saf-security</artifactId>
             </exclusion>
             <exclusion>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-starter-data-mongodb</artifactId>
             </exclusion>
          </exclusions>
       </dependency>

       <dependency>
          <groupId>com.bt.cdo.automation</groupId>
          <artifactId>mtls-common</artifactId>
          <version>2.0.0</version>
       </dependency>

       <dependency>
          <groupId>jakarta.validation</groupId>
          <artifactId>jakarta.validation-api</artifactId>
          <version>${jakarta.validation-api.version}</version>
          <scope>compile</scope>
       </dependency>
       <dependency>
          <groupId>jakarta.annotation</groupId>
          <artifactId>jakarta.annotation-api</artifactId>
          <version>${jakarta.annotation-api.version}</version>
       </dependency>
       <dependency>
          <groupId>org.openapitools</groupId>
          <artifactId>jackson-databind-nullable</artifactId>
          <version>${jackson-databind-nullable}</version>
       </dependency>
       <dependency>
          <groupId>org.springdoc</groupId>
          <artifactId>springdoc-openapi-starter-webmvc-ui</artifactId>
          <version>2.6.0</version>
       </dependency>
       <dependency>
          <groupId>io.github.openfeign</groupId>
          <artifactId>feign-jackson</artifactId>
          <version>12.1</version>
       </dependency>

       <dependency>
          <groupId>com.squareup.okio</groupId>
          <artifactId>okio-jvm</artifactId>
          <version>3.5.0</version>
       </dependency>

       <dependency>
          <groupId>org.modelmapper</groupId>
          <artifactId>modelmapper</artifactId>
          <version>3.2.0</version>
       </dependency>
       <dependency>
          <groupId>com.google.code.gson</groupId>
          <artifactId>gson</artifactId>
          <version>2.10.1</version>
       </dependency>
       <dependency>
          <groupId>software.amazon.awssdk</groupId>
          <artifactId>sts</artifactId>
          <version>2.21.0</version>
          <exclusions>
             <exclusion>
                <groupId>io.netty</groupId>
                <artifactId>netty-codec-http</artifactId>
             </exclusion>
             <exclusion>
                <groupId>io.netty</groupId>
                <artifactId>netty-handler</artifactId>
             </exclusion>
          </exclusions>
       </dependency>



    </dependencies>

    <dependencyManagement>
       <dependencies>
          <dependency>
             <groupId>org.springframework.cloud</groupId>
             <artifactId>spring-cloud-dependencies</artifactId>
             <version>${spring-cloud.version}</version>
             <type>pom</type>
             <scope>import</scope>
          </dependency>
          <dependency>
             <groupId>com.amazon.ion</groupId>
             <artifactId>ion-java</artifactId>
             <version>1.11.10</version>
          </dependency>
          <dependency>
             <groupId>com.google.guava</groupId>
             <artifactId>guava</artifactId>
             <version>33.4.8-jre</version>
          </dependency>
          <dependency>
             <groupId>org.apache.tomcat.embed</groupId>
             <artifactId>tomcat-embed-core</artifactId>
             <version>10.1.42</version>
          </dependency>
          <dependency>
             <groupId>com.google.protobuf</groupId>
             <artifactId>protobuf-java</artifactId>
             <version>4.31.1</version>
          </dependency>
          <dependency>
             <groupId>com.google.protobuf</groupId>
             <artifactId>protobuf-java-util</artifactId>
             <version>4.31.1</version>
          </dependency>
          <dependency>
             <groupId>com.google.protobuf</groupId>
             <artifactId>protobuf-java-util</artifactId>
             <version>4.31.1</version>
          </dependency>
          <!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-crypto -->
          <dependency>
             <groupId>org.springframework.security</groupId>
             <artifactId>spring-security-crypto</artifactId>
             <version>6.4.4</version>
          </dependency>
          <!-- https://mvnrepository.com/artifact/org.apache.httpcomponents.client5/httpclient5 -->
          <dependency>
             <groupId>org.apache.httpcomponents.client5</groupId>
             <artifactId>httpclient5</artifactId>
             <version>5.4.3</version>
          </dependency>
          <!-- https://mvnrepository.com/artifact/net.minidev/json-smart -->
          <dependency>
             <groupId>net.minidev</groupId>
             <artifactId>json-smart</artifactId>
             <version>2.5.2</version>
          </dependency>
          <!-- https://mvnrepository.com/artifact/io.netty/netty-handler -->
          <dependency>
             <groupId>io.netty</groupId>
             <artifactId>netty-handler</artifactId>
             <version>4.1.118.Final</version>
          </dependency>
          <!-- https://mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk18on -->
          <dependency>
             <groupId>org.bouncycastle</groupId>
             <artifactId>bcprov-jdk18on</artifactId>
             <version>1.78</version>
          </dependency>
       </dependencies>
    </dependencyManagement>
    <build>
       <plugins>
          <plugin>
             <groupId>org.springframework.boot</groupId>
             <artifactId>spring-boot-maven-plugin</artifactId>
          </plugin>
          <plugin>
             <groupId>org.openapitools</groupId>
             <artifactId>openapi-generator-maven-plugin</artifactId>
             <version>7.7.0</version>
             <executions>
                <execution>
                   <id>generate-sources</id>
                   <goals>
                      <goal>generate</goal>
                   </goals>
                   <configuration>
                      <inputSpec>
                         ${project.basedir}/api/openapi.yaml
                      </inputSpec>
                      <generatorName>spring</generatorName>
                      <apiPackage>com.bt.cdo.bss.address.api</apiPackage>
                      <modelPackage>com.bt.cdo.bss.address.model</modelPackage>
                      <supportingFilesToGenerate>
                         ApiUtil.java
                      </supportingFilesToGenerate>
                      <configOptions>
                         <delegatePattern>true</delegatePattern>
                         <serializableModel>true</serializableModel>
                         <dateLibrary>java8</dateLibrary>
                         <hideGenerationTimestamp>true</hideGenerationTimestamp>
                         <useSpringBoot3>true</useSpringBoot3>
                      </configOptions>
                   </configuration>
                </execution>
             </executions>
          </plugin>
       </plugins>
       <pluginManagement>
          <plugins>
             <plugin>
                <artifactId>maven-surefire-plugin</artifactId>
                <version>${maven-surefire-plugin.version}</version>
                <configuration>
                   <excludes>
                      ${sonar.coverage.exclusions}
                   </excludes>
                   <includes>
                      <include>*Test*.java</include>
                   </includes>
                </configuration>
             </plugin>
          </plugins>
       </pluginManagement>
    </build>

</project>

